!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rdeck=t():e.rdeck=t()}(self,(()=>(()=>{var e,t,n,r={5171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>Xn,Widget:()=>$n,binding:()=>Jn,getWidgetById:()=>qn,getWidgets:()=>Yn});var r={};n.r(r),n.d(r,{AGGREGATION_OPERATION:()=>me.KM,ArcLayer:()=>ge.ArcLayer,BitmapLayer:()=>ge.BitmapLayer,CPUGridLayer:()=>me.ab,ColumnLayer:()=>ge.ColumnLayer,ContourLayer:()=>me.YY,GPUGridLayer:()=>me.ML,GeoJsonLayer:()=>ge.GeoJsonLayer,GreatCircleLayer:()=>ye.GreatCircleLayer,GridCellLayer:()=>ge.GridCellLayer,GridLayer:()=>me.mU,H3ClusterLayer:()=>ye.H3ClusterLayer,H3HexagonLayer:()=>ye.H3HexagonLayer,HeatmapLayer:()=>me.zP,HexagonLayer:()=>me.dX,IconLayer:()=>ge.IconLayer,LineLayer:()=>ge.LineLayer,MVTLayer:()=>ye.MVTLayer,PathLayer:()=>ge.PathLayer,PointCloudLayer:()=>ge.PointCloudLayer,PolygonLayer:()=>ge.PolygonLayer,QuadkeyLayer:()=>ye.QuadkeyLayer,S2Layer:()=>ye.S2Layer,ScatterplotLayer:()=>ge.ScatterplotLayer,ScenegraphLayer:()=>be.ScenegraphLayer,ScreenGridLayer:()=>me.p3,SimpleMeshLayer:()=>be.SimpleMeshLayer,SolidPolygonLayer:()=>ge.SolidPolygonLayer,TerrainLayer:()=>ye.TerrainLayer,TextLayer:()=>ge.TextLayer,Tile3DLayer:()=>ye.Tile3DLayer,TileLayer:()=>ye.TileLayer,TripsLayer:()=>ye.TripsLayer,_AggregationLayer:()=>me.Di,_BinSorter:()=>me.l0,_CPUAggregator:()=>me.oA,_GPUGridAggregator:()=>me.Wc,_MultiIconLayer:()=>ge._MultiIconLayer,_TextBackgroundLayer:()=>ge._TextBackgroundLayer,_getURLFromTemplate:()=>ye._getURLFromTemplate});n(8559),n(5837);var i=n(5893),o=n(745),a=n(7294),s=(n(6158),n(2687),n(4009)),l=n(6024),c=n(3295),u=n(17),d=n(8289),f=n(7013);function h(e,...t){if(null==e)return null;const n=t.map((t=>[t,e[t]]));return Object.fromEntries(n)}function p(e){return e.clientHeight>0&&e.clientHeight>0?e:e.parentElement?p(e.parentElement):null}function g(e){const t=p(e);if(e===t||null==t)return{width:e.clientWidth,height:e.clientHeight};const{width:n,height:r}=getComputedStyle(e),i=document.createElement("div");Object.assign(i.style,{width:n,height:r,display:"hidden"}),t.appendChild(i);const o={width:i.clientWidth,height:i.clientHeight};return t.removeChild(i),o}function m(e,t){const n=new Map;for(const r of e){const e=t(r);n.has(e)?n.get(e).push(r):n.set(e,[r])}return n}function y(...e){return e.filter((e=>null!=e)).join(" ")}class b{constructor(){Object.defineProperty(this,"_val",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"_ref",{enumerable:!0,configurable:!0,writable:!0,value:new WeakMap})}getStore(e){return"object"==typeof(t=e)&&null!==t||"function"==typeof t?this._ref:this._val;var t}has(e){return this.getStore(e).has(e)}get(e){return this.getStore(e).get(e)}set(e,t){return this.getStore(e).set(e,t),this}}function v(e){const t=new b;return(...n)=>{const r=n[0],i=n.slice(0,-1).reduceRight(((e,t)=>{if(e.has(t))return e.get(t);const n=new b;return e.set(t,n),n}),t);if(i.has(r))return i.get(r);const o=e(...n);return i.set(r,o),o}}class w extends d.Z{setProps(e){const t=e.initialBounds;if(null!=t&&(n=t,r=this.props.initialBounds,!(n===r||null==n&&null==r||null!=n&&null!=r&&(null==n?void 0:n.every(((e,t)=>e===(null==r?void 0:r[t]))))))){const[n,r,i,o]=t,a=[[Math.max(n,-180),Math.max(r,-85.051129)],[Math.min(i,180),Math.min(o,85.051129)]];this._setCanvasSize(e);const{width:s,height:l}=this._getMapSize();e={...e,initialViewState:{...(0,f.Xg)({height:l,width:s,bounds:a}),bearing:0,pitch:0}}}var n,r;super.setProps(e)}_getMapSize(){const e=this.canvas;if(null==e)return{width:this.width,height:this.height};if(0===e.clientWidth&&0===e.clientHeight){const t=e.closest(".rdeck.html-widget");if(null!=t)return g(t)}return{width:e.clientWidth,height:e.clientHeight}}}function j(e){return null!==e&&"object"==typeof e&&"frame"in e}function x(e,{name:t,type:n}){var r,i,o,a;const s=e.frame,l=Object.fromEntries(Object.entries(s).map((([e])=>[e,[]]))),c=Object.keys(e.frame).filter((e=>e!==t)),u=s[t],d=function(e){switch(e){case"MULTIPOINT":return k;case"MULTILINESTRING":return L;case"MULTIPOLYGON":return O;default:throw TypeError(`${e} not supported`)}}(n),f=e=>{for(const t of c)l[t].push(s[t][e])},h=[];for(let n=0;n<e.length;n++){const s=u[n];if(d(s)){l[t].push(...s);for(let t=0;t<s.length;t++)f(n),h.push(null!==(i=null===(r=e.indices)||void 0===r?void 0:r[n])&&void 0!==i?i:n)}else l[t].push(s),f(n),h.push(null!==(a=null===(o=e.indices)||void 0===o?void 0:o[n])&&void 0!==a?a:n)}return{length:l[t].length,geometry:{...e.geometry,[t]:n.replace("MULTI","")},indices:h,frame:l}}function k(e){return Array.isArray(null==e?void 0:e[0])}function L(e){var t;return Array.isArray(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t[0])}function O(e){var t,n;return Array.isArray(null===(n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t[0])||void 0===n?void 0:n[0])}Object.defineProperty(w,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{...d.Z.defaultProps,initialBounds:null}});const P=".feature_id";function S(e,t=null){if(!e.picked)return null;null==t&&(t=function({object:e,layer:t}){return!j(t.props.data)||t instanceof c.Z?function(e){return"Feature"===(null==e?void 0:e.type)&&"geometry"in e&&"type"in e.geometry}(e)?"geojson":"object":"table"}(e));const n=function(e){switch(e){case"table":return(e,{index:t,data:n})=>{const r=Object.keys(n.geometry),i={};for(const[e,o]of Object.entries(n.frame))r.includes(e)||(i[e]=o[t]);return i};case"object":return e=>({...e});case"geojson":return e=>({[P]:null==e?void 0:e.id,...null==e?void 0:e.properties});default:throw TypeError(`${e} not supported`)}}(t),{object:r,index:i}=e;return n(r,{index:i,data:e.layer.props.data})}const C="cyWLt4_G7nk5vT9hPr0o",M="Z9hHHet2RXmL0iMel3Zt",T="jp658yEHLlesSRvwBwDl",N="t9I8kJyjeEJEOArvMD7j",_="vovHpTur01BROrMLmEFz";function E({info:e}){if(!e.picked||null==e.layer.props.tooltip)return null;const{x:t,y:n}=e,{name:r,tooltip:o}=e.layer.props,a=S(e,o.dataType);delete a[P];const s=!0===o.cols?Object.keys(a):o.cols;return(0,i.jsxs)("div",{className:C,style:{transform:`translate(${t}px, ${n}px)`},children:[(0,i.jsx)("div",{className:M,children:r}),(0,i.jsx)("table",{className:T,children:(0,i.jsx)("tbody",{children:s.map((e=>{var t;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:N,children:e}),(0,i.jsx)("td",{className:_,children:String(null!==(t=a[e])&&void 0!==t?t:null)})]},e)}))})})]})}var A=n(9757);const R=Object.freeze({additive:{[A.default.BLEND]:!0,blendFunc:[A.default.SRC_ALPHA,A.default.DST_ALPHA],blendEquation:A.default.FUNC_ADD},subtractive:{[A.default.BLEND]:!0,blendFunc:[A.default.ONE,A.default.ONE_MINUS_DST_COLOR,A.default.SRC_ALPHA,A.default.DST_ALPHA],blendEquation:[A.default.FUNC_SUBTRACT,A.default.FUNC_ADD]},normal:{[A.default.BLEND]:!0,blendFunc:[A.default.SRC_ALPHA,A.default.ONE_MINUS_SRC_ALPHA,A.default.ONE,A.default.ONE_MINUS_SRC_ALPHA],blendEquation:[A.default.FUNC_ADD,A.default.FUNC_ADD]}});function Z(e="normal"){var t;return null!==(t=R[e])&&void 0!==t?t:R.normal}var F=n(4329),I=n(7359),D=n(9900);function U(e){switch(e.type){case"Point":return 1;case"MultiPoint":case"LineString":return e.coordinates.length;case"MultiLineString":case"Polygon":return H(e.coordinates);case"MultiPolygon":return e.coordinates.reduce(((e,t)=>e+H(t)),0);case"GeometryCollection":return e.geometries.reduce(((e,t)=>e+U(t)),0);default:throw new TypeError(`Geomtry type ${e.type} not supported.`)}}function H(e){return e.reduce(((e,t)=>e+t.length),0)}const W=[3,169,244],G=[116,117,129],B=[...W,216.75],z=[...G,216.75],V=[...W,38.25],$=[...G,38.25],J=[0,0,0,0];function q(e){if(null==e)return null;const{geojson:t,selectedFeatureIndices:n,onSetGeoJson:r,onSelectFeatures:i}=e,o=function(e){var t;return null!==(t=ae[null!=e?e:"view"])&&void 0!==t?t:ae.view}(e.mode),a=!se.includes(o);const s=new ie({data:t,selectedFeatureIndexes:n,mode:o,modeConfig:{screenSpace:!0,viewport:{}},onEdit:function({updatedData:e,editType:t,editContext:o}){var a,l;if(ne.includes(t))return;if("selectFeature"===t)return void(null==i||i(null!==(a=o.selectedIndices)&&void 0!==a?a:[]));const c=!!re.includes(t)||(null===(l=null==o?void 0:o.selectedIndices)||void 0===l?void 0:l.map(K));s.props.data={...e,__diff:c},s.setChangeFlags({dataChanged:c}),s.setNeedsUpdate(),te.has(t)&&(null==r||r(e),"addFeature"===t&&(null==i||i([...n,...o.featureIndexes])))},pickable:o!==ae.view,pickingLineWidthExtraPixels:5,pickingDepth:0,getRadius:6,getLineWidth:1.5,getTentativeLineWidth:1.5,lineWidthScale:1,getFillColor:o===ae.view?J:Y,getLineColor:Q,getTentativeLineColor:B,getEditHandlePointOutlineColor:B,getTentativeFillColor:V,getEditHandlePointColor:J,getDashArray:a?[4,2]:[0,0],extensions:[new F.Z({dash:!0})],_subLayerProps:{geojson:{dataComparator:X},guides:{dataComparator:X,_dataDiff:ee}}});return s}function Y(e,t,n){return t?V:$}function Q(e,t,n){return t?B:z}function X(e,t){return Object.is(e.features,t.features)}function K(e){return{startRow:e,endRow:e+1}}function ee(e,t){if(e.__diff)return e.__diff;const n=e.features,r=t.features;if(n.length!==r.length)return"A new data container was supplied";const i=[],o=n.length;for(let e=0;e<o;++e){const t=n[e],a=r[e];if(t!==a){if(U(t.geometry)!==U(a.geometry)){i.push({startRow:e,endRow:o});break}i.push({startRow:e,endRow:e+1})}}return i}const te=Object.freeze(new Set(["addPosition","removePosition","addFeature","finishMovePosition","scaled","rotated","translated","extruded","split"])),ne=Object.freeze(["updateTentativeFeature","addTentativePosition"]),re=Object.freeze(["addPosition","removePosition","addFeature"]);class ie extends D.nk{onPointerMove(e){this.state.lastPointerMoveEvent=e;this.getActiveMode().handlePointerMove(e,this.getModeProps(this.props))}updateState(e){e.changeFlags.propsOrDataChanged&&super.updateState(e)}setState(e){if(this.props.mode===ae.modify)return super.setState(e);for(const t in e)if("cursor"!==t||e.cursor!==this.state.cursor)return super.setState(e)}}class oe extends I.ViewMode{handlePointerMove(e,t){var n;const r=0!==(null===(n=null==e?void 0:e.picks)||void 0===n?void 0:n.length);t.onUpdateCursor(r?"pointer":null)}handleClick(e,t){var n;if(!(0!==(null==e?void 0:e.picks.length)))return;const r=new Set(t.selectedIndexes),i=new Set(e.picks.map((e=>e.index))),o=function(e,t){for(const n of t)if(!e.has(n))return!1;return!0}(r,i)?function(...e){const t=new Set(e[0]);for(const n of e.slice(1))for(const e of n)t.delete(e);return t}(r,i):function(...e){return new Set(e.flatMap((e=>[...e])))}(r,i);null===(n=t.onEdit)||void 0===n||n.call(t,{updatedData:t.data,editType:"selectFeature",editContext:{selectedIndices:[...o]}})}}I.utils.getEditHandlesForGeometry=v(I.utils.getEditHandlesForGeometry);const ae=Object.seal({view:I.ViewMode,select:oe,modify:I.ModifyMode,transform:I.TransformMode,linestring:I.DrawLineStringMode,point:I.DrawPointMode,polygon:I.DrawPolygonMode,lasso:I.DrawPolygonByDraggingMode}),se=[ae.view,ae.select];function le(e,t){const n=document.createElement("a"),r=URL.createObjectURL(e);n.href=r,n.download=t,n.click(),URL.revokeObjectURL(r)}async function ce(e){return new Promise(((t,n)=>{const{onAfterRender:r}=e.props;e.setProps({onAfterRender:({gl:n})=>{e.setProps({onAfterRender:r}),t(createImageBitmap(n.canvas))}}),e.redraw(!0)}))}async function ue(e){return new Promise(((t,n)=>{e.once("render",(({target:e})=>{const n=e.getCanvas();t(createImageBitmap(n))})),e.triggerRepaint()}))}async function de(e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");return null==n||n.drawImage(e,0,0),async function(e){return new Promise(((t,n)=>{e.toBlob((e=>t(e)))}))}(t)}const fe=(0,a.forwardRef)((({deckgl:e,mapgl:t,layers:n,editor:r},o)=>{const c=(0,a.useRef)(null),d=(0,a.useRef)(null);(0,a.useImperativeHandle)(o,(()=>({async getImage(){var e,t;const n=null===(e=c.current)||void 0===e?void 0:e.deck;if(null==n)return null;return async function(e,t){if(null==t)return ce(e);const n=await Promise.all([ue(t),ce(e)]),r=document.createElement("canvas");r.width=n[0].width,r.height=n[0].height;const i=r.getContext("2d");for(const e of n)null==i||i.drawImage(e,0,0),e.close();return createImageBitmap(r)}(n,null===(t=d.current)||void 0===t?void 0:t.getMap())}})),[]);const[f,h]=he();let{blendingMode:p,controller:g,onClick:m,...y}=e;const b={...e.parameters,...p&&Z(p)},[v,j]=(0,a.useState)(0),x=n.some((e=>"TripsLayer"===e.type));pe(x,(e=>j(e)));const k=n.map((e=>null!=e.type?e.renderLayer(v):null)),L=q(r),O=null!=r&&!["view","select"].includes(r.mode);return O&&g&&(g={...g,doubleClickZoom:!1}),(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(l.Z,{Deck:w,ref:c,...{...y,parameters:b},layers:[...k,L],onHover:O?void 0:h,onClick:O?void 0:m,getCursor:null==L?void 0:L.getCursor.bind(L),children:(0,i.jsx)(s.Z,{id:"map",controller:g,repeat:!0,children:t.mapStyle&&(0,i.jsx)(u.D5,{ref:d,...t})})}),f&&(0,i.jsx)(E,{info:f})]})}));fe.displayName="Map";const he=()=>{const[e,t]=(0,a.useState)(null);return[e,(0,a.useCallback)((e=>{if(!e.picked||!e.layer.props.tooltip||e.layer instanceof c.Z)return t(null);t(e)}),[])]},pe=(e,t)=>{const n=(0,a.useRef)(0),r=(0,a.useRef)(Date.now()),i=()=>{t(Date.now()-r.current),n.current=window.requestAnimationFrame(i)};(0,a.useEffect)((()=>{if(e)return n.current=window.requestAnimationFrame(i),()=>window.cancelAnimationFrame(n.current)}),[e])};var ge=n(7786),me=n(9080),ye=n(803),be=n(1956),ve=n(5395);const we=[0,0,0,255];function je([e,t,n,r=255]){return`rgba(${e}, ${t}, ${n}, ${r/255})`}function xe(e,t){return Array.isArray(e)?t||4!==e.length?((t=null!=t?t:[])[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=3===e.length?e[3]:255,t):e:"string"==typeof e?(function(e,t){if(7===e.length){const n=parseInt(e.substring(1),16);t[0]=Math.floor(n/65536),t[1]=Math.floor(n/256%256),t[2]=n%256,t[3]=255}else if(9===e.length){const n=parseInt(e.substring(1),16);t[0]=Math.floor(n/16777216),t[1]=Math.floor(n/65536%256),t[2]=Math.floor(n/256%256),t[3]=n%256}}(e,t=null!=t?t:[]),t):we}var ke=n(4634),Le=n(4177),Oe=n(458),Pe=n(5801),Se=n(3613),Ce=n(602),Me=n(8973),Te=n(2625);function Ne(e){return null!==e&&"object"==typeof e&&"accessor"===e.type}function _e(e){return Ne(e)&&"scale"in e}var Ee=n(3693),Ae=n(4717),Re=n(6867),Ze=n(3326),Fe=n(2112),Ie=n(7693),De=n(8569),Ue=n(1435);class He extends Ee.Z{initializeState(){if(!function(e){return We.some((t=>e instanceof t))}(this))return;const e=this,t=e.getAttributeManager();t&&t.addInstanced({pickingColors:{type:A.default.UNSIGNED_BYTE,size:3,accessor:(t,{index:n,data:r,target:i})=>{var o,a,s;if(j(r)&&Array.isArray(r.indices))return e.encodePickingColor(r.indices.indexOf(r.indices[n]),i);const l=null===(a=null===(o=null==t?void 0:t.__source)||void 0===o?void 0:o.parent)||void 0===a?void 0:a.props.data;return j(l)&&Array.isArray(l.indices)?e.encodePickingColor(l.indices.indexOf(l.indices[t.__source.index]),i):e.encodePickingColor(null!==(s=null==t?void 0:t.__source.index)&&void 0!==s?s:n,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}}const We=[Ae.Z,Re.Z,Ze.Z,Fe.Z,Ie.Z,De.Z,Ue.Z];const Ge=v((function(e){const t=function(e){return Object.entries(e.geometry).filter((([,e])=>/MULTI/.test(e))).map((([e,t])=>({name:e,type:t})))}(e);return 0===t.length?e:t.reduce(x,e)})),Be=v(xe),ze=v((function(e,t){const n=function({col:e,dataType:t},n){if("highlightColor"===n)switch(t){case"table":return function(e){return({index:t,layer:n})=>xe(n.props.data.frame[e][t])}(e);case"object":return function(e){return({object:t})=>xe(t[e])}(e);case"geojson":return function(e){return({object:t})=>xe(t.properties[e])}(e);default:throw TypeError(`${t} not supported`)}if(n.endsWith("Color"))switch(t){case"table":return function(e){return(t,{index:n,data:r,target:i})=>xe(r.frame[e][n],i)}(e);case"object":return function(e){return(t,{target:n})=>xe(t[e],n)}(e);case"geojson":return function(e){return(t,{target:n})=>xe(t.properties[e],n)}(e);default:throw TypeError(`${t} not supported`)}switch(t){case"table":return function(e){return(t,{index:n,data:r})=>r.frame[e][n]}(e);case"object":return function(e){return t=>t[e]}(e);case"geojson":return function(e){return t=>t.properties[e]}(e);default:throw TypeError(`${t} not supported`)}}(e,t);return{...e,getData:n}})),Ve=v((function(e,t){"palette"in e&&(e.range=e.palette.map((e=>xe(e))),e.unknown=xe(e.unknown));const n=function(e){switch(e.scale){case"linear":return(0,ke.Z)().domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"power":return(0,Le.ZP)().exponent(e.exponent).domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"log":return(0,Oe.Z)().base(e.base).domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"symlog":return(0,Pe.Z)().domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"identity":return(0,Se.Z)().unknown(e.unknown);case"threshold":case"quantile":return(0,Ce.Z)().domain(e.domain).range(e.range).unknown(e.unknown);case"category":return(0,Me.Z)().domain(e.domain).range(e.range).unknown(e.unknown);case"quantize":return(0,Te.Z)().domain(e.domain).range(e.range).unknown(e.unknown);default:throw TypeError(`scale ${e.scale} not supported`)}}(e),r="highlightColor"===t?function({col:e,dataType:t},n){switch(t){case"table":return function(e,t){return({index:n,layer:r})=>t(r.props.data.frame[e][n])}(e,n);case"object":return function(e,t){return({object:n})=>t(n[e])}(e,n);case"geojson":return function(e,t){return({object:n})=>t(n.properties[e])}(e,n);default:throw TypeError(`${t} not supported`)}}(e,n):function({col:e,dataType:t},n){switch(t){case"table":return function(e,t){return(n,{index:r,data:i})=>t(i.frame[e][r])}(e,n);case"object":return function(e,t){return n=>t(n[e])}(e,n);case"geojson":return function(e,t){return n=>t(n.properties[e])}(e,n);default:throw TypeError(`${t} not supported`)}}(e,n);return{...e,name:t,getData:r,scaleData:n}}));class $e{constructor({type:e,...t}){var n,r;Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"props",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scales",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const i=Object.entries(t),o=function(e){const t=e.filter(Je).map((([e,t])=>[e,Be(t)])),n=e.find((([e])=>"colorRange"===e));n&&t.push([n[0],n[1].map((e=>Be(e)))]);return t}(i),a=function(e){return e.filter((([,e])=>Ne(e))).map((([e,t])=>[e,_e(t)?Ve(t,e):ze(t,e)]))}(i);this.type=e;const s=Object.fromEntries([...i,...o,...a.map((([e,t])=>[e,t.getData])),...Ye(i),["visible",null===(n=t.visible)||void 0===n||n],["updateTriggers",qe(a)],["parameters",(l=t.parameters,c=t.blendingMode,{...l,...Z(c)})]]);var l,c;j(s.data)&&(s.data=Ge(s.data),s.extensions=[new He,...null!==(r=s.extensions)&&void 0!==r?r:[]]),"TileLayer"===e&&(s.renderSubLayers=e=>{const{bbox:{west:t,south:n,east:r,north:i},x:o,y:a,z:s}=e.tile;return new ve.Z({...e,data:[{z:s,x:o,y:a}],image:e.data,bounds:[t,n,r,i]})}),this.props=s,this.scales=a.filter((([,e])=>_e(e))).map((([,e])=>e)),"TextLayer"===e&&"fonts"in document&&document.fonts.load(`16px ${t.fontFamily}`)}static create(e){return new $e(e)}renderLayer(e){if("TripsLayer"===this.type&&void 0!==e){const t=this.props,{loopLength:n,animationSpeed:r}=t,i=n/r,o=e/1e3%i/i;t.currentTime=o*n}return new r[this.type]({...this.props})}renderLegend(){const e=this.scales.filter((e=>e.legend));return{id:this.props.id,name:this.props.name,scales:e}}renderSelector(){var e;return{id:this.props.id,groupName:this.props.groupName,name:this.props.name,visible:null===(e=this.props.visible)||void 0===e||e}}}function Je([e,t]){return e.endsWith("Color")&&(Array.isArray(t)||"string"==typeof t)}function qe(e){const t=e=>{const{getData:t,scaleData:n,palette:r,...i}=e;return i},n=e.map((([e,n])=>[e,t(n)]));return Object.fromEntries(n)}function Ye(e){return e.filter((([e])=>"getColorWeight"===e||"getElevationWeight"===e)).filter((([,e])=>null!==e&&"function"!=typeof e&&!Ne(e))).map((([e,t])=>[e,()=>t]))}var Qe=n(6082),Xe=n(912),Ke=n(2372),et=n(8426);const tt="U44LhpKlV8r1Vu1ZoZA3",nt="XF770nELUcE_0zxo_aOg",rt="HYRhC2aw1PSMYGCz2bDb",it="YNou4FYlc3N3GhFp2BkO",ot="f44NGqZZGn4de9S3oTHN",at="xqKP289MUJ06Hgb3CjoW",st="XctZC_fZAMvRMiHPlt9G",lt="ly9kEH8MpXynhBX6Fhcj",ct="iM2OiMQz6z_NtAQZZyPS",ut="_8r8348KPS_nzNLR_CV_",dt="tzkFrkEU5cB_jY6zcuua",ft=Date.now();function ht({className:e,tooltip:t,onClick:n,children:r}){return(0,i.jsx)("button",{className:e,type:"button",onClick:n,title:t,children:r})}function pt({layers:e,onVisibilityChange:t}){const n=m(e,(e=>{var t;return null!==(t=e.groupName)&&void 0!==t?t:`${e.name}-${ft}`})),r=(n,r,i)=>{if(i){const i=!e.filter((e=>!n.includes(e))).some((e=>e.visible));return t(e.map((e=>({...e,visible:n.includes(e)?r:i}))))}t(n.map((e=>({...e,visible:r}))))},[o,s]=(0,a.useState)(!1),l=()=>s((e=>!e));return o?(0,i.jsxs)("div",{className:nt,children:[(0,i.jsx)("div",{className:rt,children:(0,i.jsxs)(ht,{className:it,onClick:l,tooltip:"Close",children:[(0,i.jsx)(Qe.Z,{className:dt,fontSize:"small"}),(0,i.jsx)("span",{className:ot,children:"Layers"})]})}),(0,i.jsx)("div",{className:at,children:Array.from(n.entries(),(([e,t,[{groupName:n}]=t])=>(0,i.jsx)(gt,{group:n,layers:t,onChange:r},e)))})]}):(0,i.jsx)(ht,{className:tt,tooltip:"Layer selector",onClick:l,children:(0,i.jsx)(Qe.Z,{className:dt,fontSize:"small"})})}function gt({group:e,layers:t,onChange:n}){const r=Array.from(m(t,(e=>e.name)),(([e,t])=>(0,i.jsx)(mt,{name:e,layers:t,onChange:n},e)));return e?(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(mt,{name:e,layers:t,onChange:n}),(0,i.jsx)("div",{className:st,children:r})]}):(0,i.jsx)(a.Fragment,{children:r})}function mt({name:e,layers:t,onChange:n}){const r=function(e){let t=e[0].visible;for(const n of e)if(n.visible!==t)return null;return t}(t),o=null===r,s=(0,a.useRef)(null);(0,a.useEffect)((()=>{s.current&&(s.current.indeterminate=o)}),[o]);const l=(0,a.useRef)((()=>!1)),c=r?Xe.Z:o?Ke.Z:et.Z,u=y(lt,r||o?ct:null);return(0,i.jsxs)("label",{className:u,children:[(0,i.jsx)("input",{ref:s,className:ut,type:"checkbox",onChange:()=>{l.current()?n(t,!0,!0):l.current=yt((()=>n(t,!r,!1)),200)},checked:null==r||r}),(0,i.jsx)(c,{fontSize:"small",className:dt}),(0,i.jsx)("span",{className:ot,children:e})]})}const yt=(e,t=200)=>{const n={current:0};let r=0;const i=o=>{if(r||(r=o),o-r>t)return n.current=0,void e();n.current=globalThis.requestAnimationFrame(i)};return n.current=globalThis.requestAnimationFrame(i),()=>0!==n.current&&(globalThis.cancelAnimationFrame(n.current),n.current=0,!0)},bt="lWOwchFb6W2NpcWR4ZQS",vt="mIJjIoOSsjLZMp591rN0",wt="OULly07OGkLPRiEDgp00",jt="oxctK5Tcknb3syUfT7xg",xt="KEbGPBIjLXnjAiUTu8eP",kt="MBBFrOSR5F_grZcyOCp0",Lt="l_4PaMO7BWOn4DcLN5Oh",Ot="aWzYqDozdq6Vl4QuIJ1y",Pt="xaprV4ANDgRiE5ai1hUl",St="f6SnauerJY75ZqNAuK56",Ct=16;function Mt({layers:e}){return 0===e.length?null:(0,i.jsx)("div",{className:bt,children:e.map((e=>(0,i.jsx)(Tt,{...e},e.id)))})}function Tt({name:e,scales:t}){return 0===t.length?null:(0,i.jsxs)("div",{className:vt,children:[(0,i.jsx)("div",{className:wt,title:e,children:e}),t.map((e=>(0,i.jsx)(Nt,{...e},e.name)))]})}function Nt(e){var t;const n=e.name.replace(/^get/,"").replace(/([A-Z])/g," $1").toLowerCase();const r="palette"in e;const o=function(e){return"linear"===e.scale||"power"===e.scale||"log"===e.scale||"symlog"===e.scale}(e),a=function(e){return"threshold"===e.scale||"quantile"===e.scale||"quantize"===e.scale}(e);return(0,i.jsxs)("div",{className:jt,children:[(0,i.jsx)("div",{className:xt,children:n}),(0,i.jsx)("span",{className:kt,children:"by "}),(0,i.jsx)("span",{className:Lt,title:e.col,children:null!==(t=e.scaleBy)&&void 0!==t?t:e.col}),r&&o&&(0,i.jsx)(_t,{...e}),r&&a&&(0,i.jsx)(Et,{...e}),r&&"category"===e.scale&&(0,i.jsx)(At,{...e})]})}const _t=({ticks:e,scaleData:t})=>{const n=e.map(((e,t)=>t)).slice(1,-1),r=Ct*(e.length-1),o=r+11+1;return(0,i.jsxs)("svg",{className:Ot,height:o,shapeRendering:"crispEdges",children:[(0,i.jsxs)("svg",{y:5,children:[(0,i.jsx)("image",{width:20,height:r,href:Zt(t),preserveAspectRatio:"none"}),n.map((e=>(0,i.jsx)("line",{className:St,x2:20,y1:Ct*e,y2:Ct*e},e)))]}),(0,i.jsx)(Rt,{ticks:e,y:-2})]})},Et=({ticks:e,range:t})=>{const n=t.map(je),r=Ct*(e.length-1)+11+1;return(0,i.jsxs)("svg",{className:Ot,height:r,shapeRendering:"crispEdges",children:[(0,i.jsx)("svg",{y:5,children:n.map(((e,t)=>(0,i.jsx)("rect",{width:20,height:Ct,y:t*Ct,fill:e},t)))}),(0,i.jsx)(Rt,{ticks:e,y:-2})]})};function At({ticks:e,range:t,unknownTick:n,unknown:r}){const o=n?[...t,r]:t,a=n?[...e,n]:e,s=o.map(je),l=Ct*a.length;return(0,i.jsxs)("svg",{className:Ot,height:l,children:[(0,i.jsx)("svg",{children:s.map(((e,t)=>(0,i.jsx)("rect",{width:20,height:14,y:1+t*Ct,fill:e},t)))}),(0,i.jsx)(Rt,{ticks:a})]})}function Rt({ticks:e,x:t=28,y:n=0}){return(0,i.jsx)("svg",{x:t,y:n,children:e.map(((e,t)=>(0,i.jsx)("text",{className:Pt,y:Ct*t,dy:11,children:String(e)},t)))})}function Zt(e,t=200){const n=e.range().length,r=[...Array(n).keys()].map((e=>e/(n-1))),i=e.copy().range(r).invert,o=document.createElement("canvas"),a=o.getContext("2d");o.width=1,o.height=t;for(let n=0;n<t;n++)a.fillStyle=je(e(i(n/t))),a.fillRect(0,n,1,1);return o.toDataURL()}var Ft=n(7046),It=n(6533),Dt=n(9292),Ut=n(9744),Ht=n(9758),Wt=n(7089),Gt=n(6138),Bt=n(904),zt=n(5482),Vt=n(7226),$t=n(5579),Jt=n(9702),qt=n(2149),Yt=n(6761);const Qt="S_Jw5xlS4ysjLfEnG1_V",Xt="ulA2RQmkQhSnak9JlXnZ",Kt="aIE33mXFqOBosVEFBrb8",en="llmi5hyDHtcHqa2r__su",tn="ilhkc5o5ZlSd4IaGytLF",nn=()=>{};function rn({mode:e,geojson:t,selectedFeatureIndices:n,onSetMode:r=nn,onDownload:o=nn,onUpload:a=nn,onDeleteSelected:s=nn,canUndo:l,canRedo:c,onUndo:u=nn,onRedo:d=nn}){const f=(null==n?void 0:n.length)>0,h=(null==t?void 0:t.features.length)>0;return(0,i.jsxs)("div",{className:Qt,children:[(0,i.jsxs)("div",{className:Xt,children:[(0,i.jsx)(on,{name:"View",icon:Bt.Z,iconStyle:{transform:"scale(0.9)"},active:"view"===e,onClick:()=>r("view")}),(0,i.jsx)(on,{name:"Select",icon:zt.Z,active:"select"===e,disabled:!h,onClick:()=>r("select")})]}),(0,i.jsxs)("div",{className:Xt,children:[(0,i.jsx)(on,{name:"Modify",icon:Dt.Z,active:"modify"===e,disabled:!f,onClick:()=>r("modify")}),(0,i.jsx)(on,{name:"Transform",icon:Vt.Z,active:"transform"===e,disabled:!f,onClick:()=>r("transform")}),(0,i.jsx)(on,{name:"Point",icon:$t.Z,active:"point"===e,onClick:()=>r("point")}),(0,i.jsx)(on,{name:"LineString",icon:Ut.Z,active:"linestring"===e,onClick:()=>r("linestring")}),(0,i.jsx)(on,{name:"Polygon",icon:It.Z,active:"polygon"===e,onClick:()=>r("polygon")}),(0,i.jsx)(on,{name:"Lasso",icon:Ft.Z,active:"lasso"===e,onClick:()=>r("lasso")})]}),(0,i.jsxs)("div",{className:Xt,children:[(0,i.jsx)(on,{name:"Download",icon:Jt.Z,disabled:!h,onClick:()=>o(t)}),(0,i.jsx)(on,{name:"Upload",icon:qt.Z,disabled:!h,onClick:()=>a(t)})]}),(0,i.jsxs)("div",{className:Xt,children:[(0,i.jsx)(on,{name:"Undo",icon:Ht.Z,disabled:!l,onClick:u}),(0,i.jsx)(on,{name:"Redo",icon:Wt.Z,disabled:!c,onClick:d})]}),(0,i.jsx)("div",{className:Xt,children:(0,i.jsx)(on,{name:"Delete",icon:Yt.Z,disabled:!f,onClick:()=>s(n)})})]})}function on({name:e,onClick:t=nn,disabled:n=!1,active:r=!1,icon:o,iconStyle:a}){const s=y(Kt,r?en:null);return(0,i.jsx)("button",{className:s,onClick:t,title:e,disabled:n,children:o&&(0,i.jsx)(Gt.Z,{component:o,className:tn,fontSize:"small",style:a})})}const an="rdeck",sn="XTuYKSlBcC933W4sKWtC",ln="kQnelQ4hkAJEJHLO0NJI",cn="hQbOOdEZw0LO0llGKVqS",un="cSol54mlVTgAnRzj_GUM",dn=(0,a.forwardRef)((({theme:e,deckgl:t,mapgl:n,layers:r,lazyLoad:o=!1,layerSelector:s=!1,onLayerVisibilityChange:l,editor:c},u)=>{var d;const f=(0,a.useRef)(null);(0,a.useImperativeHandle)(u,(()=>({async getImage(){const e=f.current,t=await(null==e?void 0:e.getImage());return null!=t?de(t):null}})),[]);const h=null!==(d=null==r?void 0:r.map($e.create))&&void 0!==d?d:[],p=(0,a.useRef)(null),g=function(e,t){const[n,r]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(t&&e.current){const t=new IntersectionObserver((e=>{r(e[0].isIntersecting)}),{threshold:0});return t.observe(e.current),()=>t.disconnect()}}),[t,e]),n}(p,o),m=!o||g;return(0,i.jsxs)("div",{ref:p,className:y(an,e),children:[(0,i.jsx)("div",{className:y(sn,ln),children:s&&(0,i.jsx)(pt,{layers:h.filter((e=>e.props.visibilityToggle)).map((e=>e.renderSelector())).reverse(),onVisibilityChange:l})}),(0,i.jsx)("div",{className:y(sn,cn),children:(0,i.jsx)(Mt,{layers:h.filter((e=>e.props.visible)).map((e=>e.renderLegend())).reverse()})}),(0,i.jsx)("div",{className:y(sn,un),children:c&&(0,i.jsx)(rn,{...c})}),m&&(0,i.jsx)(fe,{ref:f,deckgl:t,mapgl:n,layers:h,editor:c})]})}));dn.displayName="RDeck";var fn=n(6935);function hn(e){const t=e instanceof fn.Z?e:new fn.Z(e),n=h(t,"longitude","latitude","zoom","bearing","pitch","altitude");return{bounds:t.getBounds(),viewState:{...n,center:t.unprojectFlat(t.center)}}}function pn(e,t){const n=gn(e);for(const[r,i]of n)i.configurable&&(i.writable?mn(e,r,i,t):"function"==typeof i.set&&yn(e,r,i,t));if(Object.getPrototypeOf({})===Object.getPrototypeOf(e))return e;const r=gn(Object.getPrototypeOf(e));for(const[n,i]of r)i.configurable&&"function"==typeof i.set&&yn(e,n,i,t);return e}function gn(e){return Object.entries(Object.getOwnPropertyDescriptors(e))}function mn(e,t,{value:n},r){return Reflect.defineProperty(e,t,{get:()=>n,set(e){Object.is(e,n)||(n=e,null==r||r({[t]:e}))}})}function yn(e,t,n,r){return Reflect.defineProperty(e,t,{...n,set(i){var o,a;const s=null===(o=n.get)||void 0===o?void 0:o.call(e);Object.is(i,s)||(null===(a=n.set)||void 0===a||a.call(e,i),null==r||r({[t]:i}))}})}const bn={longitude:0,latitude:0,zoom:0,pitch:0,bearing:0};class vn{constructor(e){Object.defineProperty(this,"useDevicePixels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pickingRadius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blendingMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"effects",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"initialViewState",{enumerable:!0,configurable:!0,writable:!0,value:bn}),Object.defineProperty(this,"initialBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onViewStateChange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onClick",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.assign(this,e)}}var wn,jn,xn,kn,Ln,On=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Pn=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};const Sn=Object.freeze({type:"FeatureCollection",features:[]});class Cn extends class{constructor(e){Object.defineProperty(this,"mode",{enumerable:!0,configurable:!0,writable:!0,value:"view"}),Object.defineProperty(this,"geojson",{enumerable:!0,configurable:!0,writable:!0,value:Sn}),Object.defineProperty(this,"selectedFeatureIndices",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"onSetMode",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.setMode(e)}),Object.defineProperty(this,"onSelectFeatures",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.selectFeatures(e)}),Object.defineProperty(this,"onSetGeoJson",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.setGeoJson(e)}),Object.defineProperty(this,"onDeleteSelected",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.deleteSelected(e)}),Object.defineProperty(this,"onUpload",{enumerable:!0,configurable:!0,writable:!0,value:e=>{}}),Object.defineProperty(this,"onDownload",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.download(e)}),Object.defineProperty(this,"upload",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.assign(this,e)}setState(e={}){Object.assign(this,e)}setMode(e){var t,n;switch(e){case"modify":this.mode=(null===(t=this.selectedFeatureIndices)||void 0===t?void 0:t.length)?"modify":"view";break;case"select":this.mode=(null===(n=this.geojson)||void 0===n?void 0:n.features.length)?"select":"view";break;default:this.mode=e}}selectFeatures(e){this.selectedFeatureIndices=e}setGeoJson(e){this.geojson=e}deleteSelected(e){const t=this.geojson.features.filter(((t,n)=>!e.includes(n)));Object.assign(this,{mode:["modify","transform"].includes(this.mode)?"view":this.mode,selectedFeatureIndices:[],geojson:{...this.geojson,features:t}})}download(e){le(new Blob([JSON.stringify(e)],{type:"application/geo+json"}),"rdeck.geojson"),this.setMode("view")}}{constructor(e){super(e),wn.add(this),jn.set(this,-1),xn.set(this,[]),Object.defineProperty(this,"onUndo",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.undo()}),Object.defineProperty(this,"onRedo",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.redo()}),On(this,wn,"m",kn).call(this)}get canUndo(){return On(this,jn,"f")>0}get canRedo(){return On(this,jn,"f")<On(this,xn,"f").length-1}undo(){this.canUndo&&(Pn(this,jn,On(this,jn,"f")-1,"f"),Object.assign(this,On(this,xn,"f")[On(this,jn,"f")]))}redo(){this.canRedo&&(Pn(this,jn,On(this,jn,"f")+1,"f"),Object.assign(this,On(this,xn,"f")[On(this,jn,"f")]))}setState(e){super.setState(e),On(this,wn,"m",Ln).call(this)}setMode(e){super.setMode(e),On(this,wn,"m",Ln).call(this)}selectFeatures(e){super.selectFeatures(e),On(this,wn,"m",Ln).call(this)}setGeoJson(e){super.setGeoJson(e),On(this,wn,"m",kn).call(this)}deleteSelected(e){super.deleteSelected(e),On(this,wn,"m",kn).call(this)}}function Mn({mode:e,geojson:t,selectedFeatureIndices:n}){return{mode:e,geojson:t,selectedFeatureIndices:n}}jn=new WeakMap,xn=new WeakMap,wn=new WeakSet,kn=function(e=this){const t=Mn(e);(function(e,t){if(Object.is(e,t))return!0;if(null==e||null==t)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.is(e[r],t[r])||t.hasOwnProperty(r))return!1;return!0})(t,On(this,xn,"f")[On(this,jn,"f")])||(On(this,xn,"f").length=On(this,jn,"f")+1,Pn(this,jn,On(this,xn,"f").push(t)-1,"f"))},Ln=function(e=this){On(this,xn,"f")[On(this,jn,"f")]=Mn(e)};class Tn{constructor(e){Object.defineProperty(this,"mapboxAccessToken",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mapStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reuseMaps",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e)}}var Nn,_n,En,An,Rn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Zn=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};class Fn{constructor(e={},t){Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:"kepler"}),Nn.set(this,new vn),_n.set(this,new Tn),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"layerSelector",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lazyLoad",{enumerable:!0,configurable:!0,writable:!0,value:!1}),En.set(this,null),Object.defineProperty(this,"onChange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),An.set(this,(()=>{var e;return null===(e=this.onChange)||void 0===e?void 0:e.call(this)})),this.setState(e),Reflect.defineProperty(this,"onChange",{configurable:!1,enumerable:!1,value:t,writable:!0}),this.setLayerVisibility=this.setLayerVisibility.bind(this),pn(this,Rn(this,An,"f"))}get deckgl(){return Rn(this,Nn,"f")}set deckgl(e){Zn(this,Nn,pn(new vn(e),Rn(this,An,"f")),"f")}get mapgl(){return Rn(this,_n,"f")}set mapgl(e){Zn(this,_n,pn(new Tn(e),Rn(this,An,"f")),"f")}get editor(){return Rn(this,En,"f")}set editor(e){null==e?Zn(this,En,null,"f"):null==Rn(this,En,"f")?Zn(this,En,pn(new Cn(e),Rn(this,An,"f")),"f"):Rn(this,En,"f").setState(e)}setState({deckgl:e,mapgl:t,editor:n,...r}={}){Object.assign(this,{...r,deckgl:{...this.deckgl,...e},mapgl:{...this.mapgl,...t}}),void 0!==n&&(this.editor=null!=n?{...this.editor,...n}:null)}upsertLayer(e){var t,n,r;const i=this.layers.find((t=>t.id===e.id));if(null==i)return void(this.layers=[...this.layers,e]);const o={...i,...e,visible:null!==(t=e.visible)&&void 0!==t?t:null==i?void 0:i.visible,data:null!==(r=null!==(n=e.data)&&void 0!==n?n:null==i?void 0:i.data)&&void 0!==r?r:null};this.layers=this.layers.map((e=>e===i?o:e))}setLayerVisibility(e){if(0===e.length)return;this.layers=this.layers.map((t=>{const n=e.find((e=>((e,t)=>{const n=e.name===t.name,r=e.groupName===t.groupName;return n&&r||null==e.name&&null!=e.groupName&&r})(e,t)&&e.visible!==t.visible));return n?{...t,visible:n.visible}:t}))}}Nn=new WeakMap,_n=new WeakMap,En=new WeakMap,An=new WeakMap;var In,Dn,Un,Hn,Wn,Gn,Bn,zn=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Vn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class $n{constructor(e,t){In.set(this,void 0),Dn.set(this,void 0),Un.set(this,(0,a.createRef)()),Hn.set(this,void 0),Wn.set(this,((e,t)=>{var n,r,i;if(null===(r=(n=Vn(this,Hn,"f").deckgl).onClick)||void 0===r||r.call(n,e,t),HTMLWidgets.shinyMode){const t={coordinate:e.coordinate,...hn(e.viewport),layer:h(null===(i=e.layer)||void 0===i?void 0:i.props,"id","name","groupName"),object:S(e)};Shiny.setInputValue(`${this.element.id}_click`,t,{priority:"event"})}})),Gn.set(this,(e=>{var t,n;if(null===(n=(t=Vn(this,Hn,"f").deckgl).onViewStateChange)||void 0===n||n.call(t,e),HTMLWidgets.shinyMode){const t=hn(e.viewState);Shiny.setInputValue(`${this.element.id}_viewstate`,t,{priority:"event"})}})),Bn.set(this,(e=>{HTMLWidgets.shinyMode&&Shiny.setInputValue(`${this.element.id}_editorupload`,{geojson:JSON.stringify(e)})})),zn(this,Dn,e,"f"),zn(this,In,(0,o.s)(e),"f"),zn(this,Hn,new Fn(t,(()=>this.render())),"f"),HTMLWidgets.shinyMode&&(Shiny.addCustomMessageHandler(`${e.id}:layer`,(e=>{this.state.upsertLayer(e)})),Shiny.addCustomMessageHandler(`${e.id}:deck`,(e=>{this.state.setState(e)})))}get element(){return Vn(this,Dn,"f")}get state(){return Vn(this,Hn,"f")}render(){let{deckgl:e,mapgl:t,editor:n,...r}=Vn(this,Hn,"f");e={...e,onClick:Vn(this,Wn,"f"),onViewStateChange:Vn(this,Gn,"f")};let o=null;null!=n&&(o={...n,canUndo:n.canUndo,canRedo:n.canRedo,onUpload:e=>{Vn(this,Bn,"f").call(this,e),n.setMode("view")}}),null!=e.initialBounds&&delete e.initialViewState,Vn(this,In,"f").render((0,i.jsx)(a.StrictMode,{children:(0,i.jsx)(dn,{ref:Vn(this,Un,"f"),...{...r,deckgl:e,mapgl:t,editor:o,onLayerVisibilityChange:this.state.setLayerVisibility}})}))}setLayerVisibility(e){return Vn(this,Hn,"f").setLayerVisibility(e)}async snapshot(e="rdeck.png"){const t=Vn(this,Un,"f").current,n=await(null==t?void 0:t.getImage());null!=n&&le(n,e)}}In=new WeakMap,Dn=new WeakMap,Un=new WeakMap,Hn=new WeakMap,Wn=new WeakMap,Gn=new WeakMap,Bn=new WeakMap;const Jn={name:"rdeck",type:"output",factory(e,t,n){let r=null;return{get instance(){return r},renderValue(t){r=new $n(e,t),r.render()},resize(){}}}};function qn(e){const t=document.getElementById(e);return t&&Qn(t)}function Yn(){return[...document.querySelectorAll(".rdeck.html-widget")].map((e=>Qn(e))).filter((e=>e instanceof $n))}function Qn(e){var t;return null===(t=null==e?void 0:e.htmlwidget_data_init_result)||void 0===t?void 0:t.instance}HTMLWidgets.widget(Jn);const Xn="0.4.0"},479:()=>{},9125:()=>{},9214:()=>{}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={472:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var u=l(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self.webpackChunkrdeck=self.webpackChunkrdeck||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[486,474,619,315,568,175,977,627,811,42,899,667,324,134,133,468,535,745,783,528,784,485,378,645,394,816,650,869,706,836,458,769,67,806,551,282,953,538,49,844,639,825,596],(()=>o(5171)));return a=o.O(a)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBTy9CLEVBQW9CSyxFQUFFQyxJQUcxQjhCLEVBQXFCM3FCLEtBQXdCLGtCQUFJQSxLQUF3QixtQkFBSyxHQUNsRjJxQixFQUFtQmYsUUFBUVcsRUFBcUJ2VixLQUFLLEtBQU0sSUFDM0QyVixFQUFtQnJvQixLQUFPaW9CLEVBQXFCdlYsS0FBSyxLQUFNMlYsRUFBbUJyb0IsS0FBSzBTLEtBQUsyVixLLEdDN0N2RixJQUFJQyxFQUFzQnJDLEVBQW9CSyxPQUFFOVQsRUFBVyxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLE1BQU0sSUFBT3lULEVBQW9CLFEsT0FDbFFxQyxFQUFzQnJDLEVBQW9CSyxFQUFFZ0MsSSIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jcmVhdGUgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL3dpZGdldC91dGlsLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9kZWNrLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9kYXRhLWZyYW1lLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9waWNraW5nLnRzIiwid2VicGFjazovLy8uL3dpZGdldC90b29sdGlwLmNzcz8xYzA2Iiwid2VicGFjazovLy8uL3dpZGdldC90b29sdGlwLnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvYmxlbmRpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L3V0aWxzL2dlb21ldHJ5LnRzIiwid2VicGFjazovLy8uL3dpZGdldC9lZGl0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L3V0aWxzL3NldC50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvdXRpbHMvZXhwb3J0LnRzIiwid2VicGFjazovLy8uL3dpZGdldC9tYXAudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC9jb2xvci50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvYWNjZXNzb3IudHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L3NjYWxlLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9tdWx0aS1oaWdobGlnaHQtZXh0ZW5zaW9uLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9sYXllci50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvY29udHJvbHMvbGF5ZXItc2VsZWN0b3IuY3NzPzM3ZTgiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2NvbnRyb2xzL2xheWVyLXNlbGVjdG9yLnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvY29udHJvbHMvbGVnZW5kLmNzcz8zZDZiIiwid2VicGFjazovLy8uL3dpZGdldC9jb250cm9scy9sZWdlbmQudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC9jb250cm9scy9lZGl0b3ItdG9vbGJveC5jc3M/YzFiMSIsIndlYnBhY2s6Ly8vLi93aWRnZXQvY29udHJvbHMvZWRpdG9yLXRvb2xib3gudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC9yZGVjay5jc3M/NGUxYSIsIndlYnBhY2s6Ly8vLi93aWRnZXQvcmRlY2sudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC92aWV3cG9ydC50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvdXRpbHMvb2JzZXJ2ZS50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvc3RhdGUvZGVjay50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvc3RhdGUvZWRpdG9yLnRzIiwid2VicGFjazovLy8uL3dpZGdldC91dGlscy9lcXVhbC50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvc3RhdGUvbWFwLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9zdGF0ZS9zdG9yZS50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvd2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvYmluZGluZy50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly8vd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJkZWNrXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInJkZWNrXCJdID0gZmFjdG9yeSgpO1xufSkoc2VsZiwgKCkgPT4ge1xucmV0dXJuICIsInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsInZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiA/IChvYmopID0+IChPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSkgOiAob2JqKSA9PiAob2JqLl9fcHJvdG9fXyk7XG52YXIgbGVhZlByb3RvdHlwZXM7XG4vLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLy8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8vIG1vZGUgJiAxNjogcmV0dXJuIHZhbHVlIHdoZW4gaXQncyBQcm9taXNlLWxpa2Vcbi8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbl9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG5cdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IHRoaXModmFsdWUpO1xuXHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuXHRpZih0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlKSB7XG5cdFx0aWYoKG1vZGUgJiA0KSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG5cdFx0aWYoKG1vZGUgJiAxNikgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbicpIHJldHVybiB2YWx1ZTtcblx0fVxuXHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuXHR2YXIgZGVmID0ge307XG5cdGxlYWZQcm90b3R5cGVzID0gbGVhZlByb3RvdHlwZXMgfHwgW251bGwsIGdldFByb3RvKHt9KSwgZ2V0UHJvdG8oW10pLCBnZXRQcm90byhnZXRQcm90byldO1xuXHRmb3IodmFyIGN1cnJlbnQgPSBtb2RlICYgMiAmJiB2YWx1ZTsgdHlwZW9mIGN1cnJlbnQgPT0gJ29iamVjdCcgJiYgIX5sZWFmUHJvdG90eXBlcy5pbmRleE9mKGN1cnJlbnQpOyBjdXJyZW50ID0gZ2V0UHJvdG8oY3VycmVudCkpIHtcblx0XHRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjdXJyZW50KS5mb3JFYWNoKChrZXkpID0+IChkZWZba2V5XSA9ICgpID0+ICh2YWx1ZVtrZXldKSkpO1xuXHR9XG5cdGRlZlsnZGVmYXVsdCddID0gKCkgPT4gKHZhbHVlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBkZWYpO1xuXHRyZXR1cm4gbnM7XG59OyIsImV4cG9ydCBmdW5jdGlvbiBwcm9wZXJDYXNlKGNhbWVsQ2FzZTogc3RyaW5nKSB7XG4gIHJldHVybiBjYW1lbENhc2UucmVwbGFjZSgvKFtBLVpdKS9nLCBcIiAkMVwiKS5yZXBsYWNlKC9eLi8sIChzKSA9PiBzLnRvVXBwZXJDYXNlKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd29yZHMoY2FtZWxDYXNlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGNhbWVsQ2FzZS5yZXBsYWNlKC8oW0EtWl0pL2csIFwiICQxXCIpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwaWNrKG9iamVjdDogbnVsbCk6IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gcGljazxULCBLIGV4dGVuZHMga2V5b2YgVD4ob2JqZWN0OiBULCAuLi5rZXlzOiBLW10pOiBQaWNrPFQsIEs+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2s8VCwgSyBleHRlbmRzIGtleW9mIFQ+KG9iamVjdDogVCwgLi4ua2V5czogS1tdKTogUGljazxULCBLPiB8IG51bGwge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGVudHJpZXMgPSBrZXlzLm1hcCgoa2V5KSA9PiBba2V5LCBvYmplY3Rba2V5XV0pO1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpIGFzIFBpY2s8VCwgSz47XG59XG5cbmZ1bmN0aW9uIGZpbmRWaXNpYmxlQW5jZXN0b3IoZWw6IEVsZW1lbnQpOiBFbGVtZW50IHwgbnVsbCB7XG4gIGlmIChlbC5jbGllbnRIZWlnaHQgPiAwICYmIGVsLmNsaWVudEhlaWdodCA+IDApIHtcbiAgICByZXR1cm4gZWw7XG4gIH1cblxuICByZXR1cm4gZWwucGFyZW50RWxlbWVudCA/IGZpbmRWaXNpYmxlQW5jZXN0b3IoZWwucGFyZW50RWxlbWVudCkgOiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFNpemUoZWw6IEVsZW1lbnQpOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0ge1xuICBjb25zdCB2aXNpYmxlID0gZmluZFZpc2libGVBbmNlc3RvcihlbCk7XG5cbiAgaWYgKGVsID09PSB2aXNpYmxlIHx8IHZpc2libGUgPT0gbnVsbCkge1xuICAgIHJldHVybiB7IHdpZHRoOiBlbC5jbGllbnRXaWR0aCwgaGVpZ2h0OiBlbC5jbGllbnRIZWlnaHQgfTtcbiAgfVxuXG4gIC8vIGNyZWF0ZSBjbG9uZSBvZiBlbCBhcyBjaGlsZCBvZiBmaXJzdCB2aXNpYmxlIGFuY2VzdG9yICYgY2FwdHVyZSBzaXplXG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBPYmplY3QuYXNzaWduKG5vZGUuc3R5bGUsIHsgd2lkdGgsIGhlaWdodCwgZGlzcGxheTogXCJoaWRkZW5cIiB9KTtcblxuICB2aXNpYmxlLmFwcGVuZENoaWxkKG5vZGUpO1xuICBjb25zdCBzaXplID0geyB3aWR0aDogbm9kZS5jbGllbnRXaWR0aCwgaGVpZ2h0OiBub2RlLmNsaWVudEhlaWdodCB9O1xuICB2aXNpYmxlLnJlbW92ZUNoaWxkKG5vZGUpO1xuXG4gIHJldHVybiBzaXplO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBCeTxLLCBWPihsaXN0OiBWW10sIGtleTogKHg6IFYpID0+IEspOiBNYXA8SywgVltdPiB7XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXA8SywgVltdPigpO1xuXG4gIGZvciAoY29uc3QgaXRlbSBvZiBsaXN0KSB7XG4gICAgY29uc3QgaXRlbUtleSA9IGtleShpdGVtKTtcbiAgICBpZiAoIW1hcC5oYXMoaXRlbUtleSkpIHtcbiAgICAgIG1hcC5zZXQoaXRlbUtleSwgW2l0ZW1dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFwLmdldChpdGVtS2V5KSEucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWFwO1xufVxuXG50eXBlIE51bGxhYmxlPFQ+ID0gVCB8IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGFzc05hbWVzKC4uLmNsYXNzTmFtZXM6IE51bGxhYmxlPHN0cmluZz5bXSk6IHN0cmluZyB7XG4gIHJldHVybiBjbGFzc05hbWVzLmZpbHRlcigoeCkgPT4geCAhPSBudWxsKS5qb2luKFwiIFwiKTtcbn1cblxudHlwZSBWYXJpYWRpYzxUPiA9ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPFQ+KGZuOiBWYXJpYWRpYzxUPiwgd2FpdDogbnVtYmVyID0gMCkge1xuICBsZXQgdGltZW91dDogbnVtYmVyO1xuXG4gIHJldHVybiAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBmbiguLi5hcmdzKSwgd2FpdCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHg6IGFueSkge1xuICByZXR1cm4gKHR5cGVvZiB4ICE9PSBcIm9iamVjdFwiIHx8IHggPT09IG51bGwpICYmIHR5cGVvZiB4ICE9PSBcImZ1bmN0aW9uXCI7XG59XG5cbmNsYXNzIE1hcENhY2hlIHtcbiAgcHJpdmF0ZSBfdmFsID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIF9yZWYgPSBuZXcgV2Vha01hcCgpO1xuXG4gIGdldFN0b3JlKGtleTogYW55KSB7XG4gICAgcmV0dXJuIGlzUHJpbWl0aXZlKGtleSkgPyB0aGlzLl92YWwgOiB0aGlzLl9yZWY7XG4gIH1cblxuICBoYXMoa2V5OiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdG9yZShrZXkpLmhhcyhrZXkpO1xuICB9XG5cbiAgZ2V0KGtleTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RvcmUoa2V5KS5nZXQoa2V5KTtcbiAgfVxuXG4gIHNldChrZXk6IGFueSwgdmFsdWU6IHVua25vd24pIHtcbiAgICB0aGlzLmdldFN0b3JlKGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplPFQ+KGZuOiBWYXJpYWRpYzxUPik6IFZhcmlhZGljPFQ+IHtcbiAgLy8gYSBuZXN0ZWQgY2FjaGUgY2hhaW4sIHN1Y2ggdGhhdCBlYWNoIHBhcmFtIG1hcHMgdG8gYSBjYWNoZSxcbiAgLy8gb3IgdGhlIHJlc3VsdCBvZiBmbiBpZiBpdCBpcyB0aGUgZW5kIG9mIHRoZSBjaGFpblxuICAvLyBlLmcuIGZvciAzIGFyZ3MsIChhKSA9PiAoYikgPT4gKGMpID0+IGZuKGEsIGIsIGMpXG4gIGNvbnN0IHJvb3QgPSBuZXcgTWFwQ2FjaGUoKTtcblxuICByZXR1cm4gKC4uLmFyZ3M6IGFueVtdKTogVCA9PiB7XG4gICAgY29uc3QgYXJnMCA9IGFyZ3NbMF07XG4gICAgY29uc3QgbmFyZ3MgPSBhcmdzLnNsaWNlKDAsIC0xKTtcbiAgICAvLyB3YWxrIHRoZSBjYWNoZSBjaGFpblxuICAgIGNvbnN0IGNhY2hlID0gbmFyZ3MucmVkdWNlUmlnaHQoKHBhcmVudDogTWFwQ2FjaGUsIGFyZzogYW55KSA9PiB7XG4gICAgICBpZiAocGFyZW50LmhhcyhhcmcpKSByZXR1cm4gcGFyZW50LmdldChhcmcpO1xuXG4gICAgICBjb25zdCBjaGlsZCA9IG5ldyBNYXBDYWNoZSgpO1xuICAgICAgcGFyZW50LnNldChhcmcsIGNoaWxkKTtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9LCByb290KTtcblxuICAgIC8vIGNhY2hlIGhpdFxuICAgIGlmIChjYWNoZS5oYXMoYXJnMCkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoYXJnMCk7XG4gICAgfVxuXG4gICAgLy8gY2FjaGUgbWlzc1xuICAgIGNvbnN0IHZhbHVlID0gZm4oLi4uYXJncyk7XG4gICAgY2FjaGUuc2V0KGFyZzAsIHZhbHVlKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IERlY2sgYXMgX0RlY2ssIERlY2tQcm9wcyBhcyBfRGVja1Byb3BzIH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB7IGZpdEJvdW5kcyB9IGZyb20gXCJAbWF0aC5nbC93ZWItbWVyY2F0b3JcIjtcbmltcG9ydCB7IGdldEVsZW1lbnRTaXplIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlY2tQcm9wcyBleHRlbmRzIFBhcnRpYWw8X0RlY2tQcm9wcz4ge1xuICBpbml0aWFsQm91bmRzPzogQm91bmRzO1xuICBibGVuZGluZ01vZGU/OiBCbGVuZGluZ01vZGU7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWNrIGV4dGVuZHMgX0RlY2sge1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIC4uLl9EZWNrLmRlZmF1bHRQcm9wcyxcbiAgICBpbml0aWFsQm91bmRzOiBudWxsLFxuICB9O1xuXG4gIC8vIEB0cy1pZ25vcmU6IGFsbCBkZWNrIHByb3BzIHNob3VsZCBiZSBvcHRpb25hbFxuICBkZWNsYXJlIHByb3BzOiBEZWNrUHJvcHM7XG5cbiAgc2V0UHJvcHMocHJvcHM6IFBhcnRpYWw8RGVja1Byb3BzPik6IHZvaWQge1xuICAgIGNvbnN0IGluaXRpYWxCb3VuZHMgPSBwcm9wcy5pbml0aWFsQm91bmRzO1xuICAgIGlmIChpbml0aWFsQm91bmRzICE9IG51bGwgJiYgIWJvdW5kc0VxdWFsKGluaXRpYWxCb3VuZHMsIHRoaXMucHJvcHMuaW5pdGlhbEJvdW5kcykpIHtcbiAgICAgIC8vIGNvbnN0cmFpbiB0byB3ZWIgbWVyY2F0b3IgbGltaXRzXG4gICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWJfTWVyY2F0b3JfcHJvamVjdGlvblxuICAgICAgY29uc3QgW3htaW4sIHltaW4sIHhtYXgsIHltYXhdID0gaW5pdGlhbEJvdW5kcztcbiAgICAgIGNvbnN0IGJvdW5kczogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dID0gW1xuICAgICAgICBbTWF0aC5tYXgoeG1pbiwgLTE4MCksIE1hdGgubWF4KHltaW4sIC04NS4wNTExMjkpXSxcbiAgICAgICAgW01hdGgubWluKHhtYXgsIDE4MCksIE1hdGgubWluKHltYXgsIDg1LjA1MTEyOSldLFxuICAgICAgXTtcblxuICAgICAgLy8gdXBkYXRlIGNhbnZhcywgZ2V0IG1hcCBwaXhlbCBkaW1lbnNpb25zXG4gICAgICB0aGlzLl9zZXRDYW52YXNTaXplKHByb3BzKTtcbiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5fZ2V0TWFwU2l6ZSgpO1xuXG4gICAgICAvLyBmaXQgJiBvdmVyd3JpdGVcbiAgICAgIHByb3BzID0ge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgaW5pdGlhbFZpZXdTdGF0ZToge1xuICAgICAgICAgIC4uLmZpdEJvdW5kcyh7IGhlaWdodCwgd2lkdGgsIGJvdW5kcyB9KSxcbiAgICAgICAgICAvLyB2aXNnbC9kZWNrLmdsIzY4ODNcbiAgICAgICAgICBiZWFyaW5nOiAwLFxuICAgICAgICAgIHBpdGNoOiAwLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBzdXBlci5zZXRQcm9wcyhwcm9wcyk7XG4gIH1cblxuICBfZ2V0TWFwU2l6ZSgpOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0ge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgIGlmIChjYW52YXMgPT0gbnVsbCkgcmV0dXJuIHsgd2lkdGg6IHRoaXMud2lkdGgsIGhlaWdodDogdGhpcy5oZWlnaHQgfTtcblxuICAgIC8vIG1hcCBpcyBoaWRkZW4/IGdldCBkaW1lbnNpb25zIGZyb20gZmlyc3QgdmlzaWJsZSBhbmNlc3RvciBhbmQgd2lkZ2V0IGRpbWVuc2lvbnNcbiAgICBpZiAoY2FudmFzLmNsaWVudFdpZHRoID09PSAwICYmIGNhbnZhcy5jbGllbnRIZWlnaHQgPT09IDApIHtcbiAgICAgIGNvbnN0IHJvb3QgPSBjYW52YXMuY2xvc2VzdChcIi5yZGVjay5odG1sLXdpZGdldFwiKTtcbiAgICAgIGlmIChyb290ICE9IG51bGwpIHJldHVybiBnZXRFbGVtZW50U2l6ZShyb290KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyB3aWR0aDogY2FudmFzLmNsaWVudFdpZHRoLCBoZWlnaHQ6IGNhbnZhcy5jbGllbnRIZWlnaHQgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBib3VuZHNFcXVhbDxUPihib3VuZHM/OiBUW10gfCBudWxsLCBwcmV2Qm91bmRzPzogVFtdIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAvLyByZWZlcmVuY2UgZXF1YWxcbiAgaWYgKGJvdW5kcyA9PT0gcHJldkJvdW5kcykgcmV0dXJuIHRydWU7XG5cbiAgLy8gbnVsbGlzaCBlcXVhbFxuICBpZiAoYm91bmRzID09IG51bGwgJiYgcHJldkJvdW5kcyA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKGJvdW5kcyA9PSBudWxsIHx8IHByZXZCb3VuZHMgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIGVsZW1lbnQtd2lzZSBlcXVhbFxuICByZXR1cm4gYm91bmRzPy5ldmVyeSgoY29vcmQsIGluZGV4KSA9PiBjb29yZCA9PT0gcHJldkJvdW5kcz8uW2luZGV4XSk7XG59XG4iLCJpbXBvcnQgdHlwZSB7IFBvc2l0aW9uIH0gZnJvbSBcImdlb2pzb25cIjtcblxudHlwZSBHZW9tZXRyeUluZm8gPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogR2VvbWV0cnlUeXBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0YUZyYW1lKGRhdGE6IExheWVyRGF0YSk6IGRhdGEgaXMgRGF0YUZyYW1lIHtcbiAgcmV0dXJuIGRhdGEgIT09IG51bGwgJiYgdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgXCJmcmFtZVwiIGluIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuR2VvbWV0cmllcyhkYXRhOiBEYXRhRnJhbWUpOiBEYXRhRnJhbWUge1xuICBjb25zdCBtdWx0aUdlb21ldHJpZXMgPSBnZXRNdWx0aUdlb21ldHJ5KGRhdGEpO1xuICBpZiAobXVsdGlHZW9tZXRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcmV0dXJuIG11bHRpR2VvbWV0cmllcy5yZWR1Y2UoZmxhdHRlbiwgZGF0YSk7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW4oZGF0YTogRGF0YUZyYW1lLCB7IG5hbWUsIHR5cGUgfTogR2VvbWV0cnlJbmZvKTogRGF0YUZyYW1lIHtcbiAgY29uc3Qgb2xkRnJhbWUgPSBkYXRhLmZyYW1lO1xuICBjb25zdCBuZXdGcmFtZSA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvbGRGcmFtZSkubWFwKChba2V5XSkgPT4gW2tleSwgW10gYXMgYW55W11dKSk7XG5cbiAgLy8ga2V5cyBvZiBub24tZ2VvbWV0cnkgY29sc1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YS5mcmFtZSkuZmlsdGVyKChrZXkpID0+IGtleSAhPT0gbmFtZSk7XG4gIC8vIGdlb21ldHJ5IGNvbHVtblxuICBjb25zdCBnZW9tZXRyaWVzID0gb2xkRnJhbWVbbmFtZV07XG4gIGNvbnN0IGlzTXVsdGlHZW9tZXRyeSA9IGlzTXVsdGlHZW9tZXRyeUZuKHR5cGUpO1xuICBjb25zdCBjb3B5VmFsdWVzID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICBuZXdGcmFtZVtrZXldLnB1c2gob2xkRnJhbWVba2V5XVtpbmRleF0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBvcmlnaW5hbCBkYXRhIGluZGljZXNcbiAgY29uc3QgaW5kaWNlcyA9IFtdO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkYXRhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpbmRleF07XG4gICAgaWYgKGlzTXVsdGlHZW9tZXRyeShnZW9tZXRyeSkpIHtcbiAgICAgIC8vIHNwbGl0IHRoZSBtdWx0aS1nZW9tZXRyeVxuICAgICAgbmV3RnJhbWVbbmFtZV0ucHVzaCguLi5nZW9tZXRyeSk7XG4gICAgICAvLyByZXBlYXQgb3RoZXIgY29sdW1ucyBmb3IgZWFjaCBnZW9tZXRyeSBpbiBtdWx0aS1nZW9tZXRyeVxuICAgICAgZm9yIChsZXQgcmVwID0gMDsgcmVwIDwgZ2VvbWV0cnkubGVuZ3RoOyByZXArKykge1xuICAgICAgICBjb3B5VmFsdWVzKGluZGV4KTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGRhdGEuaW5kaWNlcz8uW2luZGV4XSA/PyBpbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0ZyYW1lW25hbWVdLnB1c2goZ2VvbWV0cnkpO1xuICAgICAgY29weVZhbHVlcyhpbmRleCk7XG4gICAgICBpbmRpY2VzLnB1c2goZGF0YS5pbmRpY2VzPy5baW5kZXhdID8/IGluZGV4KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxlbmd0aDogbmV3RnJhbWVbbmFtZV0ubGVuZ3RoLFxuICAgIGdlb21ldHJ5OiB7XG4gICAgICAuLi5kYXRhLmdlb21ldHJ5LFxuICAgICAgW25hbWVdOiB0eXBlLnJlcGxhY2UoXCJNVUxUSVwiLCBcIlwiKSBhcyBHZW9tZXRyeVR5cGUsXG4gICAgfSxcbiAgICBpbmRpY2VzLFxuICAgIGZyYW1lOiBuZXdGcmFtZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNNdWx0aUdlb21ldHJ5Rm4odHlwZTogR2VvbWV0cnlUeXBlKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJNVUxUSVBPSU5UXCI6XG4gICAgICByZXR1cm4gaXNNdWx0aVBvaW50O1xuICAgIGNhc2UgXCJNVUxUSUxJTkVTVFJJTkdcIjpcbiAgICAgIHJldHVybiBpc011bHRpTGluZVN0cmluZztcbiAgICBjYXNlIFwiTVVMVElQT0xZR09OXCI6XG4gICAgICByZXR1cm4gaXNNdWx0aVBvbHlnb247XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFR5cGVFcnJvcihgJHt0eXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNNdWx0aVBvaW50KGdlb21ldHJ5OiBQb3NpdGlvbiB8IFBvc2l0aW9uW10pOiBnZW9tZXRyeSBpcyBQb3NpdGlvbltdIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZ2VvbWV0cnk/LlswXSk7XG59XG5cbmZ1bmN0aW9uIGlzTXVsdGlMaW5lU3RyaW5nKGdlb21ldHJ5OiBQb3NpdGlvbltdIHwgUG9zaXRpb25bXVtdKTogZ2VvbWV0cnkgaXMgUG9zaXRpb25bXVtdIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZ2VvbWV0cnk/LlswXT8uWzBdKTtcbn1cblxuZnVuY3Rpb24gaXNNdWx0aVBvbHlnb24oZ2VvbWV0cnk6IFBvc2l0aW9uW11bXSB8IFBvc2l0aW9uW11bXVtdKTogZ2VvbWV0cnkgaXMgUG9zaXRpb25bXVtdW10ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShnZW9tZXRyeT8uWzBdPy5bMF0/LlswXSk7XG59XG5cbmZ1bmN0aW9uIGdldE11bHRpR2VvbWV0cnkoZGF0YTogRGF0YUZyYW1lKTogR2VvbWV0cnlJbmZvW10ge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZGF0YS5nZW9tZXRyeSlcbiAgICAuZmlsdGVyKChbLCB0eXBlXSkgPT4gL01VTFRJLy50ZXN0KHR5cGUpKVxuICAgIC5tYXAoKFtuYW1lLCB0eXBlXSkgPT4gKHsgbmFtZSwgdHlwZSB9KSk7XG59XG4iLCJpbXBvcnQgeyBfQWdncmVnYXRpb25MYXllciB9IGZyb20gXCJAZGVjay5nbC9hZ2dyZWdhdGlvbi1sYXllcnNcIjtcbmltcG9ydCB7IE9iamVjdEluZm8gfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHsgUGlja0luZm8gfSBmcm9tIFwiZGVjay5nbFwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJnZW9qc29uXCI7XG5pbXBvcnQgeyBpc0RhdGFGcmFtZSB9IGZyb20gXCIuL2RhdGEtZnJhbWVcIjtcblxuZXhwb3J0IGNvbnN0IEZFQVRVUkVfSUQgPSBcIi5mZWF0dXJlX2lkXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaWNrZWRPYmplY3QoaW5mbzogUGlja0luZm88YW55PiwgZGF0YVR5cGU6IERhdGFUeXBlIHwgbnVsbCA9IG51bGwpIHtcbiAgaWYgKCFpbmZvLnBpY2tlZCkgcmV0dXJuIG51bGw7XG5cbiAgaWYgKGRhdGFUeXBlID09IG51bGwpIHtcbiAgICBkYXRhVHlwZSA9IGdldERhdGFUeXBlKGluZm8pO1xuICB9XG4gIGNvbnN0IGdldERhdGEgPSBhY2Nlc3NvckZuKGRhdGFUeXBlKTtcblxuICBjb25zdCB7IG9iamVjdCwgaW5kZXggfSA9IGluZm87XG4gIGNvbnN0IGRhdGEgPSBpbmZvLmxheWVyLnByb3BzLmRhdGE7XG4gIHJldHVybiBnZXREYXRhKG9iamVjdCwgeyBpbmRleCwgZGF0YSB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RGF0YVR5cGUoeyBvYmplY3QsIGxheWVyIH06IFBpY2tJbmZvPGFueT4pOiBEYXRhVHlwZSB7XG4gIC8vIEZJWE1FOiBhZGQgZGF0YXR5cGUgdG8gdGhlIGxheWVyXG4gIGNvbnN0IGRhdGEgPSBsYXllci5wcm9wcy5kYXRhO1xuICBpZiAoaXNEYXRhRnJhbWUoZGF0YSkgJiYgIShsYXllciBpbnN0YW5jZW9mIF9BZ2dyZWdhdGlvbkxheWVyKSkgcmV0dXJuIFwidGFibGVcIjtcbiAgcmV0dXJuIGlzR2VvanNvbihvYmplY3QpID8gXCJnZW9qc29uXCIgOiBcIm9iamVjdFwiO1xufVxuXG5mdW5jdGlvbiBpc0dlb2pzb24ob2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbCk6IG9iamVjdCBpcyBGZWF0dXJlIHtcbiAgcmV0dXJuIG9iamVjdD8udHlwZSA9PT0gXCJGZWF0dXJlXCIgJiYgXCJnZW9tZXRyeVwiIGluIG9iamVjdCAmJiBcInR5cGVcIiBpbiBvYmplY3QuZ2VvbWV0cnk7XG59XG5cbnR5cGUgSW5mbyA9IE9taXQ8T2JqZWN0SW5mbzxEYXRhRnJhbWUsIGFueT4sIFwidGFyZ2V0XCI+O1xudHlwZSBEYXRhRm4gPSAob2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBpbmZvOiBJbmZvKSA9PiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzb3JGbihkYXRhVHlwZTogRGF0YVR5cGUpOiBEYXRhRm4ge1xuICBzd2l0Y2ggKGRhdGFUeXBlKSB7XG4gICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICByZXR1cm4gKF8sIHsgaW5kZXgsIGRhdGEgfSkgPT4ge1xuICAgICAgICBjb25zdCBnZW9tcyA9IE9iamVjdC5rZXlzKGRhdGEuZ2VvbWV0cnkpO1xuICAgICAgICBjb25zdCBvYmplY3Q6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBjb2xdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEuZnJhbWUpKSB7XG4gICAgICAgICAgaWYgKCFnZW9tcy5pbmNsdWRlcyhrZXkpKSBvYmplY3Rba2V5XSA9IGNvbFtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgcmV0dXJuIChvYmplY3QpID0+ICh7IC4uLm9iamVjdCB9KTtcbiAgICBjYXNlIFwiZ2VvanNvblwiOlxuICAgICAgcmV0dXJuIChvYmplY3QpID0+ICh7XG4gICAgICAgIFtGRUFUVVJFX0lEXTogb2JqZWN0Py5pZCxcbiAgICAgICAgLi4ub2JqZWN0Py5wcm9wZXJ0aWVzLFxuICAgICAgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFR5cGVFcnJvcihgJHtkYXRhVHlwZX0gbm90IHN1cHBvcnRlZGApO1xuICB9XG59XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcInRvb2x0aXBcIjpcImN5V0x0NF9HN25rNXZUOWhQcjBvXCIsXCJrZXBsZXJcIjpcImtlcGxlclwiLFwibGlnaHRcIjpcImxpZ2h0XCIsXCJsYXllci1uYW1lXCI6XCJaOWhISGV0MlJYbUwwaU1lbDNadFwiLFwibGF5ZXJOYW1lXCI6XCJaOWhISGV0MlJYbUwwaU1lbDNadFwiLFwidGFibGVcIjpcImpwNjU4eUVITGxlc1NSdndCd0RsXCIsXCJmaWVsZC1uYW1lXCI6XCJ0OUk4a0p5amVFSkVPQXJ2TUQ3alwiLFwiZmllbGROYW1lXCI6XCJ0OUk4a0p5amVFSkVPQXJ2TUQ3alwiLFwiZmllbGQtdmFsdWVcIjpcInZvdkhwVHVyMDFCUk9yTUxtRUZ6XCIsXCJmaWVsZFZhbHVlXCI6XCJ2b3ZIcFR1cjAxQlJPck1MbUVGelwifTsiLCJpbXBvcnQgdHlwZSB7IFBpY2tJbmZvIH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB7IEZFQVRVUkVfSUQsIGdldFBpY2tlZE9iamVjdCB9IGZyb20gXCIuL3BpY2tpbmdcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vdG9vbHRpcC5jc3NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUb29sdGlwUHJvcHMge1xuICBpbmZvOiBQaWNrSW5mbzxhbnk+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVG9vbHRpcCh7IGluZm8gfTogVG9vbHRpcFByb3BzKSB7XG4gIGlmICghaW5mby5waWNrZWQgfHwgaW5mby5sYXllci5wcm9wcy50b29sdGlwID09IG51bGwpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHsgeCwgeSB9ID0gaW5mbztcbiAgY29uc3QgeyBuYW1lLCB0b29sdGlwIH0gPSBpbmZvLmxheWVyLnByb3BzO1xuXG4gIGNvbnN0IG9iamVjdCA9IGdldFBpY2tlZE9iamVjdChpbmZvLCB0b29sdGlwLmRhdGFUeXBlKSE7XG4gIGRlbGV0ZSBvYmplY3RbRkVBVFVSRV9JRF07XG4gIGNvbnN0IG5hbWVzID0gdG9vbHRpcC5jb2xzID09PSB0cnVlID8gT2JqZWN0LmtleXMob2JqZWN0KSA6IHRvb2x0aXAuY29scztcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudG9vbHRpcH0gc3R5bGU9e3sgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7eH1weCwgJHt5fXB4KWAgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxheWVyTmFtZX0+e25hbWV9PC9kaXY+XG4gICAgICA8dGFibGUgY2xhc3NOYW1lPXtzdHlsZXMudGFibGV9PlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAge25hbWVzLm1hcCgobmFtZSkgPT4gKFxuICAgICAgICAgICAgPHRyIGtleT17bmFtZX0+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9e3N0eWxlcy5maWVsZE5hbWV9PntuYW1lfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9e3N0eWxlcy5maWVsZFZhbHVlfT57U3RyaW5nKG9iamVjdFtuYW1lXSA/PyBudWxsKX08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCJpbXBvcnQgeyBkZWZhdWx0IGFzIEdMIH0gZnJvbSBcIkBsdW1hLmdsL2NvbnN0YW50c1wiO1xuXG5jb25zdCBCTEVORElOR19NT0RFUyA9IE9iamVjdC5mcmVlemUoe1xuICBhZGRpdGl2ZToge1xuICAgIFtHTC5CTEVORF06IHRydWUsXG4gICAgYmxlbmRGdW5jOiBbR0wuU1JDX0FMUEhBLCBHTC5EU1RfQUxQSEFdLFxuICAgIGJsZW5kRXF1YXRpb246IEdMLkZVTkNfQURELFxuICB9LFxuICBzdWJ0cmFjdGl2ZToge1xuICAgIFtHTC5CTEVORF06IHRydWUsXG4gICAgYmxlbmRGdW5jOiBbR0wuT05FLCBHTC5PTkVfTUlOVVNfRFNUX0NPTE9SLCBHTC5TUkNfQUxQSEEsIEdMLkRTVF9BTFBIQV0sXG4gICAgYmxlbmRFcXVhdGlvbjogW0dMLkZVTkNfU1VCVFJBQ1QsIEdMLkZVTkNfQUREXSxcbiAgfSxcbiAgbm9ybWFsOiB7XG4gICAgW0dMLkJMRU5EXTogdHJ1ZSxcbiAgICBibGVuZEZ1bmM6IFtHTC5TUkNfQUxQSEEsIEdMLk9ORV9NSU5VU19TUkNfQUxQSEEsIEdMLk9ORSwgR0wuT05FX01JTlVTX1NSQ19BTFBIQV0sXG4gICAgYmxlbmRFcXVhdGlvbjogW0dMLkZVTkNfQURELCBHTC5GVU5DX0FERF0sXG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJsZW5kaW5nUGFyYW1ldGVycyhtb2RlOiBCbGVuZGluZ01vZGUgPSBcIm5vcm1hbFwiKSB7XG4gIHJldHVybiBCTEVORElOR19NT0RFU1ttb2RlXSA/PyBCTEVORElOR19NT0RFUy5ub3JtYWw7XG59XG4iLCJpbXBvcnQgeyBHZW9tZXRyeSwgUG9zaXRpb24gfSBmcm9tIFwiZ2VvanNvblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29vcmRzTGVuZ3RoKGdlb21ldHJ5OiBHZW9tZXRyeSk6IG51bWJlciB7XG4gIHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xuICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgcmV0dXJuIDE7XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgICAgcmV0dXJuIGdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aDtcbiAgICBjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6XG4gICAgY2FzZSBcIlBvbHlnb25cIjpcbiAgICAgIHJldHVybiBwb2x5Z29uQ29vcmRzTGVuZ3RoKGdlb21ldHJ5LmNvb3JkaW5hdGVzKTtcbiAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICByZXR1cm4gbXVsdGlwb2x5Z29uQ29vcmRzTGVuZ3RoKGdlb21ldHJ5LmNvb3JkaW5hdGVzKTtcbiAgICBjYXNlIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6XG4gICAgICByZXR1cm4gZ2VvbWV0cnkuZ2VvbWV0cmllcy5yZWR1Y2UoKGNvdW50LCBnZW9tZXRyeSkgPT4gY291bnQgKyBjb29yZHNMZW5ndGgoZ2VvbWV0cnkpLCAwKTtcbiAgICBkZWZhdWx0OlxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgR2VvbXRyeSB0eXBlICR7Z2VvbWV0cnkudHlwZX0gbm90IHN1cHBvcnRlZC5gKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2x5Z29uQ29vcmRzTGVuZ3RoKGNvb3JkaW5hdGVzOiBQb3NpdGlvbltdW10pOiBudW1iZXIge1xuICByZXR1cm4gY29vcmRpbmF0ZXMucmVkdWNlKChjb3VudCwgcmluZykgPT4gY291bnQgKyByaW5nLmxlbmd0aCwgMCk7XG59XG5cbmZ1bmN0aW9uIG11bHRpcG9seWdvbkNvb3Jkc0xlbmd0aChjb29yZGluYXRlczogUG9zaXRpb25bXVtdW10pOiBudW1iZXIge1xuICByZXR1cm4gY29vcmRpbmF0ZXMucmVkdWNlKChjb3VudCwgcG9seWdvbikgPT4gY291bnQgKyBwb2x5Z29uQ29vcmRzTGVuZ3RoKHBvbHlnb24pLCAwKTtcbn1cbiIsImltcG9ydCB7IFBhdGhTdHlsZUV4dGVuc2lvbiB9IGZyb20gXCJAZGVjay5nbC9leHRlbnNpb25zXCI7XG5pbXBvcnQge1xuICBWaWV3TW9kZSxcbiAgTW9kaWZ5TW9kZSxcbiAgVHJhbnNmb3JtTW9kZSxcbiAgRHJhd1BvbHlnb25Nb2RlLFxuICBEcmF3UG9seWdvbkJ5RHJhZ2dpbmdNb2RlLFxuICBEcmF3TGluZVN0cmluZ01vZGUsXG4gIERyYXdQb2ludE1vZGUsXG4gIHV0aWxzLFxufSBmcm9tIFwiQG5lYnVsYS5nbC9lZGl0LW1vZGVzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIEdlb0pzb25FZGl0TW9kZSxcbiAgRWRpdEFjdGlvbixcbiAgTW9kZVByb3BzLFxuICBQb2ludGVyTW92ZUV2ZW50LFxuICBDbGlja0V2ZW50LFxufSBmcm9tIFwiQG5lYnVsYS5nbC9lZGl0LW1vZGVzXCI7XG5pbXBvcnQgeyBFZGl0YWJsZUdlb0pzb25MYXllciBhcyBfRWRpdGFibGVHZW9Kc29uTGF5ZXIgfSBmcm9tIFwiQG5lYnVsYS5nbC9sYXllcnNcIjtcbmltcG9ydCB0eXBlIHsgRmVhdHVyZUNvbGxlY3Rpb24sIEZlYXR1cmUgfSBmcm9tIFwiZ2VvanNvblwiO1xuXG5pbXBvcnQgdHlwZSB7IEVkaXRvclRvb2xib3hQcm9wcyB9IGZyb20gXCIuL2NvbnRyb2xzXCI7XG5pbXBvcnQgdHlwZSB7IEVkaXRvck1vZGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgaXNTdXBlcnNldCwgZGlmZmVyZW5jZSwgdW5pb24sIGNvb3Jkc0xlbmd0aCB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgdHlwZSBFZGl0b3JQcm9wcyA9IEVkaXRvclRvb2xib3hQcm9wcyAmIHtcbiAgb25TZXRHZW9Kc29uPzogKGdlb2pzb246IEZlYXR1cmVDb2xsZWN0aW9uKSA9PiB2b2lkO1xuICBvblNlbGVjdEZlYXR1cmVzPzogKGZlYXR1cmVJbmRpY2VzOiBudW1iZXJbXSkgPT4gdm9pZDtcbn07XG5cbmNvbnN0IExJR0hUX0JMVUUgPSBbMywgMTY5LCAyNDRdIGFzIGNvbnN0O1xuY29uc3QgTVVURURfQkxVRSA9IFsxMTYsIDExNywgMTI5XSBhcyBjb25zdDtcblxuY29uc3QgTElORV9DT0xPUjogQ29sb3IgPSBbLi4uTElHSFRfQkxVRSwgMC44NSAqIDI1NV07XG5jb25zdCBNVVRFRF9MSU5FX0NPTE9SOiBDb2xvciA9IFsuLi5NVVRFRF9CTFVFLCAwLjg1ICogMjU1XTtcblxuY29uc3QgRklMTF9DT0xPUjogQ29sb3IgPSBbLi4uTElHSFRfQkxVRSwgMC4xNSAqIDI1NV07XG5jb25zdCBNVVRFRF9GSUxMX0NPTE9SOiBDb2xvciA9IFsuLi5NVVRFRF9CTFVFLCAwLjE1ICogMjU1XTtcblxuY29uc3QgVFJBTlNQQVJFTlQ6IENvbG9yID0gWzAsIDAsIDAsIDBdO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWRpdGFibGVMYXllcihwcm9wczogRWRpdG9yUHJvcHMgfCBudWxsKSB7XG4gIGlmIChwcm9wcyA9PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCB7IGdlb2pzb24sIHNlbGVjdGVkRmVhdHVyZUluZGljZXMsIG9uU2V0R2VvSnNvbiwgb25TZWxlY3RGZWF0dXJlcyB9ID0gcHJvcHM7XG4gIGNvbnN0IG1vZGUgPSBuZWJ1bGFNb2RlKHByb3BzLm1vZGUpO1xuICBjb25zdCBpc0VkaXRpbmcgPSAhUkVBRE9OTFlfTU9ERVMuaW5jbHVkZXMobW9kZSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlRWRpdCh7IHVwZGF0ZWREYXRhLCBlZGl0VHlwZSwgZWRpdENvbnRleHQgfTogRWRpdEFjdGlvbjxGZWF0dXJlQ29sbGVjdGlvbj4pIHtcbiAgICBpZiAoVEVOVEFUSVZFX0VWRU5UUy5pbmNsdWRlcyhlZGl0VHlwZSkpIHJldHVybjtcblxuICAgIGlmIChlZGl0VHlwZSA9PT0gXCJzZWxlY3RGZWF0dXJlXCIpIHtcbiAgICAgIG9uU2VsZWN0RmVhdHVyZXM/LihlZGl0Q29udGV4dC5zZWxlY3RlZEluZGljZXMgPz8gW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNvbXB1dGUgY2hhbmdlZCBkYXRhIHJhbmdlIGZvciBlZmZpY2llbnQgdXBkYXRlXG4gICAgY29uc3QgcmFuZ2VzOiBib29sZWFuIHwgRGF0YVJhbmdlW10gPSBVTlNBRkVfRElGRl9FVkVOVFMuaW5jbHVkZXMoZWRpdFR5cGUpXG4gICAgICA/IHRydWVcbiAgICAgIDogZWRpdENvbnRleHQ/LnNlbGVjdGVkSW5kaWNlcz8ubWFwKGFzUmFuZ2UpO1xuXG4gICAgLy8gdXBkYXRlIGludGVybmFsIHN0YXRlIGZvciBpbi1wcm9ncmVzcyBlZGl0c1xuICAgIGxheWVyLnByb3BzLmRhdGEgPSB7IC4uLnVwZGF0ZWREYXRhLCBfX2RpZmY6IHJhbmdlcyB9O1xuICAgIGxheWVyLnNldENoYW5nZUZsYWdzKHsgZGF0YUNoYW5nZWQ6IHJhbmdlcyB9KTtcbiAgICBsYXllci5zZXROZWVkc1VwZGF0ZSgpO1xuXG4gICAgaWYgKEVESVRfRVZFTlRTLmhhcyhlZGl0VHlwZSkpIHtcbiAgICAgIG9uU2V0R2VvSnNvbj8uKHVwZGF0ZWREYXRhKTtcbiAgICAgIGlmIChlZGl0VHlwZSA9PT0gXCJhZGRGZWF0dXJlXCIpIHtcbiAgICAgICAgb25TZWxlY3RGZWF0dXJlcz8uKFsuLi5zZWxlY3RlZEZlYXR1cmVJbmRpY2VzLCAuLi5lZGl0Q29udGV4dC5mZWF0dXJlSW5kZXhlc10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGxheWVyID0gbmV3IEVkaXRhYmxlR2VvSnNvbkxheWVyKHtcbiAgICBkYXRhOiBnZW9qc29uLFxuICAgIHNlbGVjdGVkRmVhdHVyZUluZGV4ZXM6IHNlbGVjdGVkRmVhdHVyZUluZGljZXMsXG4gICAgbW9kZSxcbiAgICBtb2RlQ29uZmlnOiB7XG4gICAgICBzY3JlZW5TcGFjZTogdHJ1ZSxcbiAgICAgIHZpZXdwb3J0OiB7fSxcbiAgICB9LFxuICAgIG9uRWRpdDogaGFuZGxlRWRpdCxcblxuICAgIC8vIHBpY2tpbmdcbiAgICBwaWNrYWJsZTogbW9kZSAhPT0gRURJVE9SX01PREVTLnZpZXcsXG4gICAgcGlja2luZ0xpbmVXaWR0aEV4dHJhUGl4ZWxzOiA1LFxuICAgIHBpY2tpbmdEZXB0aDogMCxcblxuICAgIC8vIGxpbmUgJiBoYW5kbGUgc2l6ZVxuICAgIGdldFJhZGl1czogNixcbiAgICBnZXRMaW5lV2lkdGg6IDEuNSxcbiAgICBnZXRUZW50YXRpdmVMaW5lV2lkdGg6IDEuNSxcbiAgICBsaW5lV2lkdGhTY2FsZTogMSxcblxuICAgIC8vIGNvbG91cnNcbiAgICBnZXRGaWxsQ29sb3I6IG1vZGUgPT09IEVESVRPUl9NT0RFUy52aWV3ID8gVFJBTlNQQVJFTlQgOiBnZXRGaWxsQ29sb3IsXG4gICAgZ2V0TGluZUNvbG9yOiBnZXRMaW5lQ29sb3IsXG4gICAgZ2V0VGVudGF0aXZlTGluZUNvbG9yOiBMSU5FX0NPTE9SLFxuICAgIGdldEVkaXRIYW5kbGVQb2ludE91dGxpbmVDb2xvcjogTElORV9DT0xPUixcbiAgICBnZXRUZW50YXRpdmVGaWxsQ29sb3I6IEZJTExfQ09MT1IsXG4gICAgZ2V0RWRpdEhhbmRsZVBvaW50Q29sb3I6IFRSQU5TUEFSRU5ULFxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGdldERhc2hBcnJheTogaXNFZGl0aW5nID8gWzQsIDJdIDogWzAsIDBdLFxuICAgIGV4dGVuc2lvbnM6IFtuZXcgUGF0aFN0eWxlRXh0ZW5zaW9uKHsgZGFzaDogdHJ1ZSB9KV0sXG5cbiAgICBfc3ViTGF5ZXJQcm9wczoge1xuICAgICAgZ2VvanNvbjoge1xuICAgICAgICBkYXRhQ29tcGFyYXRvcjogZmVhdHVyZXNFcXVhbCxcbiAgICAgICAgLy8gX2RhdGFEaWZmOiBmZWF0dXJlc0RpZmYsXG4gICAgICB9LFxuICAgICAgZ3VpZGVzOiB7XG4gICAgICAgIGRhdGFDb21wYXJhdG9yOiBmZWF0dXJlc0VxdWFsLFxuICAgICAgICBfZGF0YURpZmY6IGZlYXR1cmVzRGlmZixcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIGxheWVyO1xufVxuXG5mdW5jdGlvbiBnZXRGaWxsQ29sb3IoZmVhdHVyZTogRmVhdHVyZSwgaXNTZWxlY3RlZDogYm9vbGVhbiwgbW9kZTogRWRpdG9yTW9kZSkge1xuICByZXR1cm4gaXNTZWxlY3RlZCA/IEZJTExfQ09MT1IgOiBNVVRFRF9GSUxMX0NPTE9SO1xufVxuXG5mdW5jdGlvbiBnZXRMaW5lQ29sb3IoZmVhdHVyZTogRmVhdHVyZSwgaXNTZWxlY3RlZDogYm9vbGVhbiwgbW9kZTogRWRpdG9yTW9kZSkge1xuICByZXR1cm4gaXNTZWxlY3RlZCA/IExJTkVfQ09MT1IgOiBNVVRFRF9MSU5FX0NPTE9SO1xufVxuXG5mdW5jdGlvbiBmZWF0dXJlc0VxdWFsKG5ld0RhdGE6IEZlYXR1cmVDb2xsZWN0aW9uLCBvbGREYXRhOiBGZWF0dXJlQ29sbGVjdGlvbikge1xuICByZXR1cm4gT2JqZWN0LmlzKG5ld0RhdGEuZmVhdHVyZXMsIG9sZERhdGEuZmVhdHVyZXMpO1xufVxuXG5mdW5jdGlvbiBhc1JhbmdlKGluZGV4OiBudW1iZXIpOiBEYXRhUmFuZ2Uge1xuICByZXR1cm4geyBzdGFydFJvdzogaW5kZXgsIGVuZFJvdzogaW5kZXggKyAxIH07XG59XG5cbnR5cGUgRGF0YVJhbmdlID0geyBzdGFydFJvdzogbnVtYmVyOyBlbmRSb3c6IG51bWJlciB9O1xuXG4vLyBvcHRpbWlzZSBpbi1wbGFjZSBmZWF0dXJlIHVwZGF0ZXNcbmZ1bmN0aW9uIGZlYXR1cmVzRGlmZihcbiAgbmV3RGF0YTogRmVhdHVyZUNvbGxlY3Rpb24sXG4gIG9sZERhdGE6IEZlYXR1cmVDb2xsZWN0aW9uXG4pOiBEYXRhUmFuZ2VbXSB8IHN0cmluZyB7XG4gIC8vIEB0cy1pZ25vcmUgdXNlIGRlZmF1bHQgZGF0YURpZmYgd2hlcmUgYXBwbGljYWJsZVxuICBpZiAobmV3RGF0YS5fX2RpZmYpIHJldHVybiBuZXdEYXRhLl9fZGlmZjtcblxuICBjb25zdCBuZXdGZWF0dXJlcyA9IG5ld0RhdGEuZmVhdHVyZXM7XG4gIGNvbnN0IG9sZEZlYXR1cmVzID0gb2xkRGF0YS5mZWF0dXJlcztcblxuICBpZiAobmV3RmVhdHVyZXMubGVuZ3RoICE9PSBvbGRGZWF0dXJlcy5sZW5ndGgpIHJldHVybiBcIkEgbmV3IGRhdGEgY29udGFpbmVyIHdhcyBzdXBwbGllZFwiO1xuXG4gIGNvbnN0IGRpZmY6IERhdGFSYW5nZVtdID0gW107XG4gIGNvbnN0IGxlbmd0aCA9IG5ld0ZlYXR1cmVzLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IG5ld0ZlYXR1cmUgPSBuZXdGZWF0dXJlc1tpXTtcbiAgICBjb25zdCBvbGRGZWF0dXJlID0gb2xkRmVhdHVyZXNbaV07XG5cbiAgICAvLyBmZWF0dXJlIGNoYW5nZWQ/XG4gICAgaWYgKG5ld0ZlYXR1cmUgIT09IG9sZEZlYXR1cmUpIHtcbiAgICAgIC8vIE5PVEU6IHJlbmRlcmluZyBhcnRpZmFjdHMgb2NjdXIgaWYgbnVtYmVyIG9mIHZlcnRpY2VzIGhhcyBjaGFuZ2VkXG4gICAgICBpZiAoY29vcmRzTGVuZ3RoKG5ld0ZlYXR1cmUuZ2VvbWV0cnkpICE9PSBjb29yZHNMZW5ndGgob2xkRmVhdHVyZS5nZW9tZXRyeSkpIHtcbiAgICAgICAgZGlmZi5wdXNoKHsgc3RhcnRSb3c6IGksIGVuZFJvdzogbGVuZ3RoIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gbGVuZ3RocyBlcXVhbD8gc2FmZSBkaWZmXG4gICAgICBkaWZmLnB1c2goeyBzdGFydFJvdzogaSwgZW5kUm93OiBpICsgMSB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGlmZjtcbn1cblxuY29uc3QgRURJVF9FVkVOVFMgPSBPYmplY3QuZnJlZXplKFxuICBuZXcgU2V0KFtcbiAgICBcImFkZFBvc2l0aW9uXCIsXG4gICAgXCJyZW1vdmVQb3NpdGlvblwiLFxuICAgIFwiYWRkRmVhdHVyZVwiLFxuICAgIFwiZmluaXNoTW92ZVBvc2l0aW9uXCIsXG4gICAgXCJzY2FsZWRcIixcbiAgICBcInJvdGF0ZWRcIixcbiAgICBcInRyYW5zbGF0ZWRcIixcbiAgICBcImV4dHJ1ZGVkXCIsXG4gICAgXCJzcGxpdFwiLFxuICBdKVxuKTtcblxuY29uc3QgVEVOVEFUSVZFX0VWRU5UUyA9IE9iamVjdC5mcmVlemUoW1widXBkYXRlVGVudGF0aXZlRmVhdHVyZVwiLCBcImFkZFRlbnRhdGl2ZVBvc2l0aW9uXCJdKTtcbmNvbnN0IFVOU0FGRV9ESUZGX0VWRU5UUyA9IE9iamVjdC5mcmVlemUoW1wiYWRkUG9zaXRpb25cIiwgXCJyZW1vdmVQb3NpdGlvblwiLCBcImFkZEZlYXR1cmVcIl0pO1xuXG5jbGFzcyBFZGl0YWJsZUdlb0pzb25MYXllciBleHRlbmRzIF9FZGl0YWJsZUdlb0pzb25MYXllciB7XG4gIG9uUG9pbnRlck1vdmUoZXZlbnQ6IFBvaW50ZXJNb3ZlRXZlbnQpOiB2b2lkIHtcbiAgICAvLyBwZXJmb3JtYW5jZSBvcHRpbWlzYXRpb24gZm9yIHBvaW50ZXIgbW92ZSBzdGF0ZVxuICAgIHRoaXMuc3RhdGUubGFzdFBvaW50ZXJNb3ZlRXZlbnQgPSBldmVudDtcbiAgICBjb25zdCBtb2RlID0gdGhpcy5nZXRBY3RpdmVNb2RlKCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG1vZGUuaGFuZGxlUG9pbnRlck1vdmUoZXZlbnQsIHRoaXMuZ2V0TW9kZVByb3BzKHRoaXMucHJvcHMpKTtcbiAgfVxuXG4gIHVwZGF0ZVN0YXRlKHBhcmFtczogYW55KTogdm9pZCB7XG4gICAgaWYgKCFwYXJhbXMuY2hhbmdlRmxhZ3MucHJvcHNPckRhdGFDaGFuZ2VkKSByZXR1cm47XG4gICAgc3VwZXIudXBkYXRlU3RhdGUocGFyYW1zKTtcbiAgfVxuXG4gIHNldFN0YXRlKHVwZGF0ZU9iamVjdDogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZSA9PT0gRURJVE9SX01PREVTLm1vZGlmeSkgcmV0dXJuIHN1cGVyLnNldFN0YXRlKHVwZGF0ZU9iamVjdCk7XG5cbiAgICAvLyBvcHRpbWlzZSBjdXJzb3IgdXBkYXRlIGluIG5vbi1tb2RpZnkgbW9kZVxuICAgIGZvciAoY29uc3Qga2V5IGluIHVwZGF0ZU9iamVjdCkge1xuICAgICAgaWYgKGtleSAhPT0gXCJjdXJzb3JcIiB8fCB1cGRhdGVPYmplY3QuY3Vyc29yICE9PSB0aGlzLnN0YXRlLmN1cnNvcilcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNldFN0YXRlKHVwZGF0ZU9iamVjdCk7XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFNlbGVjdE1vZGUgZXh0ZW5kcyBWaWV3TW9kZSB7XG4gIGhhbmRsZVBvaW50ZXJNb3ZlKGV2ZW50OiBQb2ludGVyTW92ZUV2ZW50LCBwcm9wczogTW9kZVByb3BzPGFueT4pOiB2b2lkIHtcbiAgICBjb25zdCBpc1BpY2tlZCA9IGV2ZW50Py5waWNrcz8ubGVuZ3RoICE9PSAwO1xuICAgIHByb3BzLm9uVXBkYXRlQ3Vyc29yKGlzUGlja2VkID8gXCJwb2ludGVyXCIgOiBudWxsKTtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKGV2ZW50OiBDbGlja0V2ZW50LCBwcm9wczogTW9kZVByb3BzPGFueT4pOiB2b2lkIHtcbiAgICBjb25zdCBpc1BpY2tlZCA9IGV2ZW50Py5waWNrcy5sZW5ndGggIT09IDA7XG4gICAgaWYgKCFpc1BpY2tlZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY3VycmVudCA9IG5ldyBTZXQocHJvcHMuc2VsZWN0ZWRJbmRleGVzKTtcbiAgICBjb25zdCBwaWNrZWQgPSBuZXcgU2V0KGV2ZW50LnBpY2tzLm1hcCgoeCkgPT4geC5pbmRleCkpO1xuXG4gICAgLy8gYWxsIHBpY2tlZCBhbHJlYWR5IHNlbGVjdGVkPyB1bnNlbGVjdCBwaWNrZWQsIGVsc2Ugc2VsZWN0IHBpY2tlZFxuICAgIGNvbnN0IHNlbGVjdGVkID0gaXNTdXBlcnNldChjdXJyZW50LCBwaWNrZWQpXG4gICAgICA/IGRpZmZlcmVuY2UoY3VycmVudCwgcGlja2VkKVxuICAgICAgOiB1bmlvbihjdXJyZW50LCBwaWNrZWQpO1xuXG4gICAgcHJvcHMub25FZGl0Py4oe1xuICAgICAgdXBkYXRlZERhdGE6IHByb3BzLmRhdGEsXG4gICAgICBlZGl0VHlwZTogXCJzZWxlY3RGZWF0dXJlXCIsXG4gICAgICBlZGl0Q29udGV4dDoge1xuICAgICAgICBzZWxlY3RlZEluZGljZXM6IFsuLi5zZWxlY3RlZF0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG5cbi8vIG1lbW9pemUgbmVidWxhIHV0aWwgZnVuY3Rpb25cbnV0aWxzLmdldEVkaXRIYW5kbGVzRm9yR2VvbWV0cnkgPSBtZW1vaXplKHV0aWxzLmdldEVkaXRIYW5kbGVzRm9yR2VvbWV0cnkpO1xuXG5jb25zdCBFRElUT1JfTU9ERVM6IFJlY29yZDxFZGl0b3JNb2RlLCB0eXBlb2YgR2VvSnNvbkVkaXRNb2RlPiA9IE9iamVjdC5zZWFsKHtcbiAgdmlldzogVmlld01vZGUsXG4gIHNlbGVjdDogU2VsZWN0TW9kZSxcbiAgbW9kaWZ5OiBNb2RpZnlNb2RlLFxuICB0cmFuc2Zvcm06IFRyYW5zZm9ybU1vZGUsXG4gIGxpbmVzdHJpbmc6IERyYXdMaW5lU3RyaW5nTW9kZSxcbiAgcG9pbnQ6IERyYXdQb2ludE1vZGUsXG4gIHBvbHlnb246IERyYXdQb2x5Z29uTW9kZSxcbiAgbGFzc286IERyYXdQb2x5Z29uQnlEcmFnZ2luZ01vZGUsXG59KTtcblxuY29uc3QgUkVBRE9OTFlfTU9ERVMgPSBbRURJVE9SX01PREVTLnZpZXcsIEVESVRPUl9NT0RFUy5zZWxlY3RdO1xuXG5mdW5jdGlvbiBuZWJ1bGFNb2RlKG1vZGU/OiBFZGl0b3JNb2RlKSB7XG4gIHJldHVybiBFRElUT1JfTU9ERVNbbW9kZSA/PyBcInZpZXdcIl0gPz8gRURJVE9SX01PREVTLnZpZXc7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNTdWJzZXQ8VD4oc3Vic2V0OiBTZXQ8VD4sIHN1cGVyc2V0OiBTZXQ8VD4pOiBib29sZWFuIHtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHN1YnNldCkge1xuICAgIGlmICghc3VwZXJzZXQuaGFzKGVsZW1lbnQpKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3VwZXJzZXQ8VD4oc3VwZXJzZXQ6IFNldDxUPiwgc3Vic2V0OiBTZXQ8VD4pOiBib29sZWFuIHtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHN1YnNldCkge1xuICAgIGlmICghc3VwZXJzZXQuaGFzKGVsZW1lbnQpKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaW9uPFQ+KC4uLnNldHM6IFNldDxUPltdKTogU2V0PFQ+IHtcbiAgcmV0dXJuIG5ldyBTZXQoc2V0cy5mbGF0TWFwKCh4KSA9PiBbLi4ueF0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlcmVuY2U8VD4oLi4uc2V0czogU2V0PFQ+W10pOiBTZXQ8VD4ge1xuICBjb25zdCBkaWZmID0gbmV3IFNldChzZXRzWzBdKTtcblxuICBmb3IgKGNvbnN0IHNldCBvZiBzZXRzLnNsaWNlKDEpKSB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHNldCkge1xuICAgICAgZGlmZi5kZWxldGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRpZmY7XG59XG4iLCJpbXBvcnQgeyBEZWNrIH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB7IE1hcGJveE1hcCB9IGZyb20gXCJyZWFjdC1tYXAtZ2xcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkKGJsb2I6IEJsb2IsIGZpbGVuYW1lOiBzdHJpbmcpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICBjb25zdCBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgZWxlbWVudC5ocmVmID0gYmxvYlVybDtcbiAgZWxlbWVudC5kb3dubG9hZCA9IGZpbGVuYW1lO1xuICBlbGVtZW50LmNsaWNrKCk7XG5cbiAgVVJMLnJldm9rZU9iamVjdFVSTChibG9iVXJsKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0RGVja2dsSW1hZ2VCaXRtYXAoZGVjazogRGVjayk6IFByb21pc2U8SW1hZ2VCaXRtYXA+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB7IG9uQWZ0ZXJSZW5kZXIgfSA9IGRlY2sucHJvcHM7XG5cbiAgICBjb25zdCBnZXRJbWFnZSA9ICh7IGdsIH06IHsgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCB9KSA9PiB7XG4gICAgICBkZWNrLnNldFByb3BzKHsgb25BZnRlclJlbmRlciB9KTtcbiAgICAgIHJlc29sdmUoY3JlYXRlSW1hZ2VCaXRtYXAoZ2wuY2FudmFzKSk7XG4gICAgfTtcblxuICAgIGRlY2suc2V0UHJvcHMoeyBvbkFmdGVyUmVuZGVyOiBnZXRJbWFnZSB9KTtcbiAgICBkZWNrLnJlZHJhdyh0cnVlKTtcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldE1hcGJveEltYWdlQml0bWFwKG1hcGJveDogTWFwYm94TWFwKTogUHJvbWlzZTxJbWFnZUJpdG1hcD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIG1hcGJveC5vbmNlKFwicmVuZGVyXCIsICh7IHRhcmdldCB9KSA9PiB7XG4gICAgICBjb25zdCBjYW52YXMgPSB0YXJnZXQuZ2V0Q2FudmFzKCk7XG4gICAgICByZXNvbHZlKGNyZWF0ZUltYWdlQml0bWFwKGNhbnZhcykpO1xuICAgIH0pO1xuXG4gICAgbWFwYm94LnRyaWdnZXJSZXBhaW50KCk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TWFwSW1hZ2VCaXRtYXAoZGVjazogRGVjaywgbWFwYm94PzogTWFwYm94TWFwKTogUHJvbWlzZTxJbWFnZUJpdG1hcD4ge1xuICBpZiAobWFwYm94ID09IG51bGwpIHJldHVybiBnZXREZWNrZ2xJbWFnZUJpdG1hcChkZWNrKTtcblxuICBjb25zdCBpbWFnZXMgPSBhd2FpdCBQcm9taXNlLmFsbChbZ2V0TWFwYm94SW1hZ2VCaXRtYXAobWFwYm94KSwgZ2V0RGVja2dsSW1hZ2VCaXRtYXAoZGVjayldKTtcblxuICAvLyBjcmVhdGUgY2FudmFzIHRvIGRyYXcgaW1hZ2VzXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gIGNhbnZhcy53aWR0aCA9IGltYWdlc1swXS53aWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IGltYWdlc1swXS5oZWlnaHQ7XG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGZvciAoY29uc3QgaW1hZ2Ugb2YgaW1hZ2VzKSB7XG4gICAgY29udGV4dD8uZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICBpbWFnZS5jbG9zZSgpO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGNhbnZhcyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENhbnZhc0ltYWdlKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpOiBQcm9taXNlPEJsb2I+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjYW52YXMudG9CbG9iKChibG9iKSA9PiByZXNvbHZlKGJsb2IhKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2VEYXRhKGJpdG1hcDogSW1hZ2VCaXRtYXApOiBQcm9taXNlPEJsb2I+IHtcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgY2FudmFzLndpZHRoID0gYml0bWFwLndpZHRoO1xuICBjYW52YXMuaGVpZ2h0ID0gYml0bWFwLmhlaWdodDtcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgY29udGV4dD8uZHJhd0ltYWdlKGJpdG1hcCwgMCwgMCk7XG4gIHJldHVybiBnZXRDYW52YXNJbWFnZShjYW52YXMpO1xufVxuIiwiaW1wb3J0IFwibWFwYm94LWdsXCI7XG5pbXBvcnQgXCJtYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuY3NzXCI7XG5cbmltcG9ydCB7XG4gIGZvcndhcmRSZWYsXG4gIEZyYWdtZW50LFxuICB1c2VDYWxsYmFjayxcbiAgdXNlRWZmZWN0LFxuICB1c2VJbXBlcmF0aXZlSGFuZGxlLFxuICB1c2VSZWYsXG4gIHVzZVN0YXRlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFBpY2tJbmZvLCBNYXBWaWV3IH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB7IERlY2tHTCwgRGVja0dMUmVmIH0gZnJvbSBcIkBkZWNrLmdsL3JlYWN0XCI7XG5pbXBvcnQgeyBfQWdncmVnYXRpb25MYXllciB9IGZyb20gXCJAZGVjay5nbC9hZ2dyZWdhdGlvbi1sYXllcnNcIjtcbmltcG9ydCB7IE1hcCBhcyBNYXBHTCwgTWFwUHJvcHMgYXMgTWFwR0xQcm9wcywgTWFwUmVmIGFzIE1hcEdMUmVmIH0gZnJvbSBcInJlYWN0LW1hcC1nbFwiO1xuXG5pbXBvcnQgeyBEZWNrLCBEZWNrUHJvcHMgfSBmcm9tIFwiLi9kZWNrXCI7XG5pbXBvcnQgeyBMYXllciB9IGZyb20gXCIuL2xheWVyXCI7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSBcIi4vdG9vbHRpcFwiO1xuaW1wb3J0IHsgYmxlbmRpbmdQYXJhbWV0ZXJzIH0gZnJvbSBcIi4vYmxlbmRpbmdcIjtcbmltcG9ydCB7IGNyZWF0ZUVkaXRhYmxlTGF5ZXIsIEVkaXRvclByb3BzIH0gZnJvbSBcIi4vZWRpdG9yXCI7XG5pbXBvcnQgeyBnZXRNYXBJbWFnZUJpdG1hcCB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCB0eXBlIE1hcFByb3BzID0ge1xuICBkZWNrZ2w6IERlY2tQcm9wcztcbiAgbWFwZ2w6IE1hcEdMUHJvcHM7XG4gIGxheWVyczogTGF5ZXJbXTtcbiAgZWRpdG9yOiBFZGl0b3JQcm9wcyB8IG51bGw7XG59O1xuXG5leHBvcnQgdHlwZSBNYXBSZWYgPSB7XG4gIGdldEltYWdlKCk6IFByb21pc2U8SW1hZ2VCaXRtYXAgfCBudWxsPjtcbn07XG5cbmV4cG9ydCBjb25zdCBNYXAgPSBmb3J3YXJkUmVmPE1hcFJlZiwgTWFwUHJvcHM+KCh7IGRlY2tnbCwgbWFwZ2wsIGxheWVycywgZWRpdG9yIH0sIHJlZikgPT4ge1xuICBjb25zdCBkZWNrZ2xSZWYgPSB1c2VSZWY8RGVja0dMUmVmPihudWxsKTtcbiAgY29uc3QgbWFwZ2xSZWYgPSB1c2VSZWY8TWFwR0xSZWY+KG51bGwpO1xuXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUoXG4gICAgcmVmLFxuICAgICgpID0+ICh7XG4gICAgICBhc3luYyBnZXRJbWFnZSgpIHtcbiAgICAgICAgY29uc3QgZGVjayA9IGRlY2tnbFJlZi5jdXJyZW50Py5kZWNrO1xuICAgICAgICBpZiAoZGVjayA9PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCBtYXBib3ggPSBtYXBnbFJlZi5jdXJyZW50Py5nZXRNYXAoKTtcbiAgICAgICAgcmV0dXJuIGdldE1hcEltYWdlQml0bWFwKGRlY2ssIG1hcGJveCk7XG4gICAgICB9LFxuICAgIH0pLFxuICAgIFtdXG4gICk7XG5cbiAgY29uc3QgW2luZm8sIGhhbmRsZUhvdmVyXSA9IHVzZUhvdmVyKCk7XG5cbiAgbGV0IHsgYmxlbmRpbmdNb2RlLCBjb250cm9sbGVyLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgLi4uZGVja1Byb3BzIH0gPSBkZWNrZ2w7XG5cbiAgY29uc3QgcGFyYW1ldGVycyA9IHtcbiAgICAuLi5kZWNrZ2wucGFyYW1ldGVycyxcbiAgICAuLi4oYmxlbmRpbmdNb2RlICYmIGJsZW5kaW5nUGFyYW1ldGVycyhibGVuZGluZ01vZGUpKSxcbiAgfTtcblxuICAvLyBsYXllciBhbmltYXRpb24gbG9vcFxuICBjb25zdCBbdGltZSwgc2V0VGltZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgYW5pbWF0aW5nID0gbGF5ZXJzLnNvbWUoKGxheWVyKSA9PiBsYXllci50eXBlID09PSBcIlRyaXBzTGF5ZXJcIik7XG4gIHVzZUFuaW1hdGlvbihhbmltYXRpbmcsICh0aW1lKSA9PiBzZXRUaW1lKHRpbWUpKTtcblxuICBjb25zdCBfbGF5ZXJzOiBhbnkgPSBsYXllcnMubWFwKChsYXllcikgPT4gKGxheWVyLnR5cGUgIT0gbnVsbCA/IGxheWVyLnJlbmRlckxheWVyKHRpbWUpIDogbnVsbCkpO1xuICBjb25zdCBlZGl0YWJsZUxheWVyID0gY3JlYXRlRWRpdGFibGVMYXllcihlZGl0b3IpO1xuICBjb25zdCBpc0VkaXRpbmcgPSBlZGl0b3IgIT0gbnVsbCAmJiAhW1widmlld1wiLCBcInNlbGVjdFwiXS5pbmNsdWRlcyhlZGl0b3IubW9kZSk7XG5cbiAgLy8gZGlzYWJsZSBkb3VibGUtY2xpY2sgem9vbSBmb3IgZWRpdG9yXG4gIGlmIChpc0VkaXRpbmcgJiYgY29udHJvbGxlcikge1xuICAgIGNvbnRyb2xsZXIgPSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAuLi5jb250cm9sbGVyLFxuICAgICAgZG91YmxlQ2xpY2tab29tOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8RnJhZ21lbnQ+XG4gICAgICA8RGVja0dMXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgRGVjaz17RGVja31cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZWY9e2RlY2tnbFJlZn1cbiAgICAgICAgey4uLnsgLi4uZGVja1Byb3BzLCBwYXJhbWV0ZXJzIH19XG4gICAgICAgIGxheWVycz17Wy4uLl9sYXllcnMsIGVkaXRhYmxlTGF5ZXJdfVxuICAgICAgICAvLyByZW1vdmUgcGlja2luZyBjYWxsYmFja3Mgd2hlbiBlZGl0aW5nXG4gICAgICAgIG9uSG92ZXI9eyFpc0VkaXRpbmcgPyBoYW5kbGVIb3ZlciA6IHVuZGVmaW5lZH1cbiAgICAgICAgb25DbGljaz17IWlzRWRpdGluZyA/IGhhbmRsZUNsaWNrIDogdW5kZWZpbmVkfVxuICAgICAgICBnZXRDdXJzb3I9e2VkaXRhYmxlTGF5ZXI/LmdldEN1cnNvci5iaW5kKGVkaXRhYmxlTGF5ZXIpfVxuICAgICAgPlxuICAgICAgICA8TWFwVmlldyBpZD1cIm1hcFwiIGNvbnRyb2xsZXI9e2NvbnRyb2xsZXJ9IHJlcGVhdD5cbiAgICAgICAgICB7LyogQHRzLWlnbm9yZX0gKi99XG4gICAgICAgICAge21hcGdsLm1hcFN0eWxlICYmIDxNYXBHTCByZWY9e21hcGdsUmVmfSB7Li4ubWFwZ2x9IC8+fVxuICAgICAgICA8L01hcFZpZXc+XG4gICAgICA8L0RlY2tHTD5cbiAgICAgIHtpbmZvICYmIDxUb29sdGlwIGluZm89e2luZm99IC8+fVxuICAgIDwvRnJhZ21lbnQ+XG4gICk7XG59KTtcblxuTWFwLmRpc3BsYXlOYW1lID0gXCJNYXBcIjtcblxuY29uc3QgdXNlSG92ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGU8UGlja0luZm88YW55PiB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGhhbmRsZUhvdmVyID0gdXNlQ2FsbGJhY2soKGluZm86IFBpY2tJbmZvPGFueT4pID0+IHtcbiAgICAvLyBub3QgcGlja2VkIG9yIG5vIHRvb2x0aXAgcHJvcFxuICAgIGlmICghaW5mby5waWNrZWQgfHwgIWluZm8ubGF5ZXIucHJvcHMudG9vbHRpcCB8fCBpbmZvLmxheWVyIGluc3RhbmNlb2YgX0FnZ3JlZ2F0aW9uTGF5ZXIpIHtcbiAgICAgIHJldHVybiBzZXRTdGF0ZShudWxsKTtcbiAgICB9XG5cbiAgICBzZXRTdGF0ZShpbmZvKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBbc3RhdGUsIGhhbmRsZUhvdmVyXSBhcyBbUGlja0luZm88YW55PiB8IG51bGwsIChpbmZvOiBQaWNrSW5mbzxhbnk+KSA9PiB2b2lkXTtcbn07XG5cbmNvbnN0IHVzZUFuaW1hdGlvbiA9IChlbmFibGVkOiBib29sZWFuLCBvbkZyYW1lOiAodGltZTogbnVtYmVyKSA9PiB2b2lkKSA9PiB7XG4gIGNvbnN0IGFuaW1hdGlvbiA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBjb25zdCBzdGFydFRpbWUgPSB1c2VSZWY8bnVtYmVyPihEYXRlLm5vdygpKTtcblxuICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICAgIG9uRnJhbWUoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZS5jdXJyZW50KTtcbiAgICBhbmltYXRpb24uY3VycmVudCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgcmV0dXJuICgpID0+IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb24uY3VycmVudCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2VuYWJsZWRdKTtcbn07XG4iLCJjb25zdCBERUZBVUxUX0NPTE9SOiBDb2xvciA9IFswLCAwLCAwLCAyNTVdO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNDb2xvclByb3AobmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBuYW1lLmVuZHNXaXRoKFwiQ29sb3JcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JhKFtyLCBnLCBiLCBhID0gMjU1XTogQ29sb3IpIHtcbiAgcmV0dXJuIGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YSAvIDI1NX0pYDtcbn1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3ViZXIvZGVjay5nbC9ibG9iL21hc3Rlci9tb2R1bGVzL2NvcmUvc3JjL3V0aWxzL2NvbG9yLmpzXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvcjogc3RyaW5nIHwgQ29sb3IsIHRhcmdldD86IENvbG9yKTogQ29sb3Ige1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICBpZiAoIXRhcmdldCAmJiBjb2xvci5sZW5ndGggPT09IDQpIHtcbiAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGFyZ2V0ID0gdGFyZ2V0ID8/IChbXSBhcyBDb2xvcik7XG4gICAgdGFyZ2V0WzBdID0gY29sb3JbMF07XG4gICAgdGFyZ2V0WzFdID0gY29sb3JbMV07XG4gICAgdGFyZ2V0WzJdID0gY29sb3JbMl07XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRhcmdldFszXSA9IGNvbG9yLmxlbmd0aCA9PT0gMyA/IGNvbG9yWzNdIDogMjU1O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRhcmdldCA9IHRhcmdldCA/PyAoW10gYXMgQ29sb3IpO1xuICAgIHBhcnNlSGV4Q29sb3IoY29sb3IsIHRhcmdldCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBERUZBVUxUX0NPTE9SO1xufVxuXG4vLyBQYXJzZSBhIGhleCBjb2xvclxuZnVuY3Rpb24gcGFyc2VIZXhDb2xvcihjb2xvcjogc3RyaW5nLCB0YXJnZXQ6IENvbG9yKSB7XG4gIGlmIChjb2xvci5sZW5ndGggPT09IDcpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygxKSwgMTYpO1xuICAgIHRhcmdldFswXSA9IE1hdGguZmxvb3IodmFsdWUgLyA2NTUzNik7XG4gICAgdGFyZ2V0WzFdID0gTWF0aC5mbG9vcigodmFsdWUgLyAyNTYpICUgMjU2KTtcbiAgICB0YXJnZXRbMl0gPSB2YWx1ZSAlIDI1NjtcbiAgICB0YXJnZXRbM10gPSAyNTU7XG4gIH0gZWxzZSBpZiAoY29sb3IubGVuZ3RoID09PSA5KSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMSksIDE2KTtcbiAgICB0YXJnZXRbMF0gPSBNYXRoLmZsb29yKHZhbHVlIC8gMTY3NzcyMTYpO1xuICAgIHRhcmdldFsxXSA9IE1hdGguZmxvb3IoKHZhbHVlIC8gNjU1MzYpICUgMjU2KTtcbiAgICB0YXJnZXRbMl0gPSBNYXRoLmZsb29yKCh2YWx1ZSAvIDI1NikgJSAyNTYpO1xuICAgIHRhcmdldFszXSA9IHZhbHVlICUgMjU2O1xuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IFBpY2tJbmZvLCBBY2Nlc3NvckZuIH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB0eXBlIHsgRmVhdHVyZSB9IGZyb20gXCJnZW9qc29uXCI7XG5pbXBvcnQgeyBwYXJzZUNvbG9yIH0gZnJvbSBcIi4vY29sb3JcIjtcblxudHlwZSBBY2Nlc3NvckJhc2UgPSB7XG4gIHR5cGU6IFwiYWNjZXNzb3JcIjtcbiAgY29sOiBzdHJpbmc7XG59O1xuXG50eXBlIEFjY2Vzc29yVGFibGUgPSBBY2Nlc3NvckJhc2UgJiB7XG4gIGRhdGFUeXBlOiBcInRhYmxlXCI7XG4gIGdldERhdGE6IEFjY2Vzc29yRm48RGF0YUZyYW1lLCBhbnk+O1xufTtcblxudHlwZSBBY2Nlc3Nvck9iamVjdCA9IEFjY2Vzc29yQmFzZSAmIHtcbiAgZGF0YVR5cGU6IFwib2JqZWN0XCI7XG4gIGdldERhdGE6IEFjY2Vzc29yRm48UmVjb3JkPHN0cmluZywgYW55PiwgYW55Pjtcbn07XG5cbnR5cGUgQWNjZXNzb3JHZW9Kc29uID0gQWNjZXNzb3JCYXNlICYge1xuICBkYXRhVHlwZTogXCJnZW9qc29uXCI7XG4gIGdldERhdGE6IEFjY2Vzc29yRm48RmVhdHVyZSwgYW55Pjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yID0gQWNjZXNzb3JUYWJsZSB8IEFjY2Vzc29yT2JqZWN0IHwgQWNjZXNzb3JHZW9Kc29uO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBY2Nlc3NvcihvYmo6IGFueSk6IG9iaiBpcyBBY2Nlc3NvciB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmoudHlwZSA9PT0gXCJhY2Nlc3NvclwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzb3Iob2JqOiBBY2Nlc3NvciwgbmFtZTogc3RyaW5nKTogQWNjZXNzb3Ige1xuICBjb25zdCBnZXREYXRhID0gYWNjZXNzb3JGbihvYmosIG5hbWUpIGFzIEFjY2Vzc29yRm48YW55LCBhbnk+O1xuICByZXR1cm4ge1xuICAgIC4uLm9iaixcbiAgICBnZXREYXRhLFxuICB9O1xufVxuXG5mdW5jdGlvbiBhY2Nlc3NvckZuKHsgY29sLCBkYXRhVHlwZSB9OiBBY2Nlc3NvciwgbmFtZTogc3RyaW5nKTogQWNjZXNzb3JGbjxhbnksIGFueT4ge1xuICBpZiAobmFtZSA9PT0gXCJoaWdobGlnaHRDb2xvclwiKSB7XG4gICAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgIHJldHVybiB0YWJsZUhpZ2hsaWdodChjb2wpO1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICByZXR1cm4gb2JqZWN0SGlnaGxpZ2h0KGNvbCk7XG4gICAgICBjYXNlIFwiZ2VvanNvblwiOlxuICAgICAgICByZXR1cm4gZ2VvanNvbkhpZ2hsaWdodChjb2wpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKGAke2RhdGFUeXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG5hbWUuZW5kc1dpdGgoXCJDb2xvclwiKSkge1xuICAgIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICByZXR1cm4gdGFibGVDb2xvcihjb2wpO1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICByZXR1cm4gb2JqZWN0Q29sb3IoY29sKTtcbiAgICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICAgIHJldHVybiBnZW9qc29uQ29sb3IoY29sKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihgJHtkYXRhVHlwZX0gbm90IHN1cHBvcnRlZGApO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgIHJldHVybiB0YWJsZURhdGEoY29sKTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICByZXR1cm4gb2JqZWN0RGF0YShjb2wpO1xuICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICByZXR1cm4gZ2VvanNvbkRhdGEoY29sKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgVHlwZUVycm9yKGAke2RhdGFUeXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGFibGVEYXRhKGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxEYXRhRnJhbWUsIGFueT4ge1xuICByZXR1cm4gKF8sIHsgaW5kZXgsIGRhdGEgfSkgPT4gZGF0YS5mcmFtZVtjb2xdW2luZGV4XTtcbn1cblxuZnVuY3Rpb24gdGFibGVDb2xvcihjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48RGF0YUZyYW1lLCBDb2xvcj4ge1xuICByZXR1cm4gKF8sIHsgaW5kZXgsIGRhdGEsIHRhcmdldCB9KSA9PiBwYXJzZUNvbG9yKGRhdGEuZnJhbWVbY29sXVtpbmRleF0sIHRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIHRhYmxlSGlnaGxpZ2h0KGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxQaWNrSW5mbzxudWxsPiwgQ29sb3I+IHtcbiAgcmV0dXJuICh7IGluZGV4LCBsYXllciB9KSA9PlxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwYXJzZUNvbG9yKGxheWVyLnByb3BzLmRhdGEhLmZyYW1lW2NvbF1baW5kZXhdKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0RGF0YShjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48UmVjb3JkPHN0cmluZywgYW55PiwgYW55PiB7XG4gIHJldHVybiAob2JqZWN0KSA9PiBvYmplY3RbY29sXTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0Q29sb3IoY29sOiBzdHJpbmcpOiBBY2Nlc3NvckZuPFJlY29yZDxzdHJpbmcsIGFueT4sIENvbG9yPiB7XG4gIHJldHVybiAob2JqZWN0LCB7IHRhcmdldCB9KSA9PiBwYXJzZUNvbG9yKG9iamVjdFtjb2xdLCB0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiBvYmplY3RIaWdobGlnaHQoY29sOiBzdHJpbmcpOiBBY2Nlc3NvckZuPFBpY2tJbmZvPFJlY29yZDxzdHJpbmcsIGFueT4+LCBDb2xvcj4ge1xuICByZXR1cm4gKHsgb2JqZWN0IH0pID0+IHBhcnNlQ29sb3Iob2JqZWN0W2NvbF0pO1xufVxuXG5mdW5jdGlvbiBnZW9qc29uRGF0YShjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48RmVhdHVyZSwgYW55PiB7XG4gIHJldHVybiAob2JqZWN0KSA9PiBvYmplY3QucHJvcGVydGllcyFbY29sXTtcbn1cblxuZnVuY3Rpb24gZ2VvanNvbkNvbG9yKGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxGZWF0dXJlLCBDb2xvcj4ge1xuICByZXR1cm4gKG9iamVjdCwgeyB0YXJnZXQgfSkgPT4gcGFyc2VDb2xvcihvYmplY3QucHJvcGVydGllcyFbY29sXSwgdGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gZ2VvanNvbkhpZ2hsaWdodChjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48UGlja0luZm88RmVhdHVyZT4sIENvbG9yPiB7XG4gIHJldHVybiAoeyBvYmplY3QgfSkgPT4gcGFyc2VDb2xvcihvYmplY3QucHJvcGVydGllcyFbY29sXSk7XG59XG4iLCJpbXBvcnQge1xuICBzY2FsZUxpbmVhcixcbiAgU2NhbGVMaW5lYXIsXG4gIHNjYWxlTG9nLFxuICBTY2FsZUxvZ2FyaXRobWljLFxuICBzY2FsZU9yZGluYWwsXG4gIFNjYWxlT3JkaW5hbCxcbiAgc2NhbGVQb3csXG4gIFNjYWxlUG93ZXIsXG4gIHNjYWxlUXVhbnRpemUsXG4gIFNjYWxlUXVhbnRpemUsXG4gIFNjYWxlU3ltTG9nLFxuICBzY2FsZVN5bWxvZyxcbiAgU2NhbGVUaHJlc2hvbGQsXG4gIHNjYWxlVGhyZXNob2xkLFxuICBzY2FsZUlkZW50aXR5LFxuICBTY2FsZUlkZW50aXR5LFxufSBmcm9tIFwiZDMtc2NhbGVcIjtcbmltcG9ydCB0eXBlIHsgUGlja0luZm8sIEFjY2Vzc29yRm4gfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBGZWF0dXJlIH0gZnJvbSBcImdlb2pzb25cIjtcbmltcG9ydCB7IEFjY2Vzc29yLCBpc0FjY2Vzc29yIH0gZnJvbSBcIi4vYWNjZXNzb3JcIjtcbmltcG9ydCB7IHBhcnNlQ29sb3IgfSBmcm9tIFwiLi9jb2xvclwiO1xuXG50eXBlIFNjYWxlRm4gPSAoZGF0YTogYW55KSA9PiBudW1iZXIgfCBDb2xvcjtcblxudHlwZSBBY2Nlc3NvclNjYWxlQmFzZTxSYW5nZT4gPSBBY2Nlc3NvciAmIHtcbiAgbmFtZTogc3RyaW5nO1xuICBkb21haW46IG51bWJlcltdO1xuICByYW5nZTogUmFuZ2VbXTtcbiAgcGFsZXR0ZT86IENvbG9yW107XG4gIHVua25vd246IFJhbmdlO1xuICBsZWdlbmQ6IGJvb2xlYW47XG4gIHRpY2tzOiBzdHJpbmdbXTtcbiAgc2NhbGVCeT86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVMaW5lYXI8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJsaW5lYXJcIjtcbiAgc2NhbGVEYXRhOiBTY2FsZUxpbmVhcjxSYW5nZSwgUmFuZ2U+O1xufTtcblxuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZVBvd2VyPFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwicG93ZXJcIjtcbiAgZXhwb25lbnQ6IG51bWJlcjtcbiAgc2NhbGVEYXRhOiBTY2FsZVBvd2VyPFJhbmdlLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlTG9nPFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwibG9nXCI7XG4gIGJhc2U6IG51bWJlcjtcbiAgc2NhbGVEYXRhOiBTY2FsZUxvZ2FyaXRobWljPFJhbmdlLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlU3ltbG9nPFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwic3ltbG9nXCI7XG4gIHNjYWxlRGF0YTogU2NhbGVTeW1Mb2c8UmFuZ2UsIFJhbmdlPjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVJZGVudGl0eTxSYW5nZT4gPSBBY2Nlc3NvclNjYWxlQmFzZTxSYW5nZT4gJiB7XG4gIHNjYWxlOiBcImlkZW50aXR5XCI7XG4gIHNjYWxlRGF0YTogU2NhbGVJZGVudGl0eTxSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlVGhyZXNob2xkPFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwidGhyZXNob2xkXCI7XG4gIHNjYWxlRGF0YTogU2NhbGVUaHJlc2hvbGQ8bnVtYmVyLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlUXVhbnRpbGU8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJxdWFudGlsZVwiO1xuICBzY2FsZURhdGE6IFNjYWxlVGhyZXNob2xkPG51bWJlciwgUmFuZ2U+O1xufTtcblxuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZUNhdGVnb3J5PFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwiY2F0ZWdvcnlcIjtcbiAgZG9tYWluOiBzdHJpbmdbXTtcbiAgdW5rbm93blRpY2s6IHN0cmluZyB8IG51bGw7XG4gIHNjYWxlRGF0YTogU2NhbGVPcmRpbmFsPHN0cmluZywgUmFuZ2U+O1xufTtcblxuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZVF1YW50aXplPFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwicXVhbnRpemVcIjtcbiAgZG9tYWluOiBbbnVtYmVyLCBudW1iZXJdO1xuICBzY2FsZURhdGE6IFNjYWxlUXVhbnRpemU8UmFuZ2U+O1xufTtcblxuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZUNvbnRpbnVvdXM8UmFuZ2U+ID1cbiAgfCBBY2Nlc3NvclNjYWxlTGluZWFyPFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVQb3dlcjxSYW5nZT5cbiAgfCBBY2Nlc3NvclNjYWxlTG9nPFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVTeW1sb2c8UmFuZ2U+O1xuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZURpc2NyZXRlPFJhbmdlPiA9XG4gIHwgQWNjZXNzb3JTY2FsZVRocmVzaG9sZDxSYW5nZT5cbiAgfCBBY2Nlc3NvclNjYWxlUXVhbnRpbGU8UmFuZ2U+XG4gIHwgQWNjZXNzb3JTY2FsZVF1YW50aXplPFJhbmdlPjtcbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGU8UmFuZ2U+ID1cbiAgfCBBY2Nlc3NvclNjYWxlQ29udGludW91czxSYW5nZT5cbiAgfCBBY2Nlc3NvclNjYWxlRGlzY3JldGU8UmFuZ2U+XG4gIHwgQWNjZXNzb3JTY2FsZUNhdGVnb3J5PFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVJZGVudGl0eTxSYW5nZT47XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FjY2Vzc29yU2NhbGUob2JqOiBhbnkpOiBvYmogaXMgQWNjZXNzb3JTY2FsZTxudW1iZXIgfCBDb2xvcj4ge1xuICByZXR1cm4gaXNBY2Nlc3NvcihvYmopICYmIFwic2NhbGVcIiBpbiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbG9yU2NhbGUob2JqOiBBY2Nlc3NvclNjYWxlPG51bWJlciB8IENvbG9yPik6IG9iaiBpcyBBY2Nlc3NvclNjYWxlPENvbG9yPiB7XG4gIHJldHVybiBcInBhbGV0dGVcIiBpbiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRpbnVvdXNTY2FsZTxUPihvYmo6IEFjY2Vzc29yU2NhbGU8VD4pOiBvYmogaXMgQWNjZXNzb3JTY2FsZUNvbnRpbnVvdXM8VD4ge1xuICByZXR1cm4gKFxuICAgIG9iai5zY2FsZSA9PT0gXCJsaW5lYXJcIiB8fCBvYmouc2NhbGUgPT09IFwicG93ZXJcIiB8fCBvYmouc2NhbGUgPT09IFwibG9nXCIgfHwgb2JqLnNjYWxlID09PSBcInN5bWxvZ1wiXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Rpc2NyZXRlU2NhbGU8VD4ob2JqOiBBY2Nlc3NvclNjYWxlPFQ+KTogb2JqIGlzIEFjY2Vzc29yU2NhbGVEaXNjcmV0ZTxUPiB7XG4gIHJldHVybiBvYmouc2NhbGUgPT09IFwidGhyZXNob2xkXCIgfHwgb2JqLnNjYWxlID09PSBcInF1YW50aWxlXCIgfHwgb2JqLnNjYWxlID09PSBcInF1YW50aXplXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NvclNjYWxlKFxuICBvYmo6IEFjY2Vzc29yU2NhbGU8bnVtYmVyIHwgQ29sb3I+LFxuICBuYW1lOiBzdHJpbmdcbik6IEFjY2Vzc29yU2NhbGU8bnVtYmVyIHwgQ29sb3I+IHtcbiAgaWYgKFwicGFsZXR0ZVwiIGluIG9iaikge1xuICAgIG9iai5yYW5nZSA9IG9iai5wYWxldHRlIS5tYXAoKGNvbG9yKSA9PiBwYXJzZUNvbG9yKGNvbG9yKSk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIG9iai51bmtub3duID0gcGFyc2VDb2xvcihvYmoudW5rbm93bik7XG4gIH1cblxuICBjb25zdCBzY2FsZURhdGEgPSBzY2FsZUZuKG9iaikgYXMgYW55O1xuICBjb25zdCBnZXREYXRhOiBBY2Nlc3NvckZuPGFueSwgYW55PiA9XG4gICAgbmFtZSA9PT0gXCJoaWdobGlnaHRDb2xvclwiID8gaGlnaGxpZ2h0Rm4ob2JqLCBzY2FsZURhdGEpIDogYWNjZXNzb3JGbihvYmosIHNjYWxlRGF0YSk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5vYmosXG4gICAgbmFtZSxcbiAgICBnZXREYXRhLFxuICAgIHNjYWxlRGF0YSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2NhbGVGbihhY2Nlc3NvcjogQWNjZXNzb3JTY2FsZTxhbnk+KSB7XG4gIHR5cGUgVCA9IG51bWJlciB8IENvbG9yO1xuXG4gIHN3aXRjaCAoYWNjZXNzb3Iuc2NhbGUpIHtcbiAgICBjYXNlIFwibGluZWFyXCI6XG4gICAgICByZXR1cm4gc2NhbGVMaW5lYXI8VD4oKVxuICAgICAgICAuZG9tYWluKGFjY2Vzc29yLmRvbWFpbilcbiAgICAgICAgLnJhbmdlKGFjY2Vzc29yLnJhbmdlKVxuICAgICAgICAudW5rbm93bihhY2Nlc3Nvci51bmtub3duKVxuICAgICAgICAuY2xhbXAodHJ1ZSk7XG4gICAgY2FzZSBcInBvd2VyXCI6XG4gICAgICByZXR1cm4gc2NhbGVQb3c8VD4oKVxuICAgICAgICAuZXhwb25lbnQoYWNjZXNzb3IuZXhwb25lbnQpXG4gICAgICAgIC5kb21haW4oYWNjZXNzb3IuZG9tYWluKVxuICAgICAgICAucmFuZ2UoYWNjZXNzb3IucmFuZ2UpXG4gICAgICAgIC51bmtub3duKGFjY2Vzc29yLnVua25vd24pXG4gICAgICAgIC5jbGFtcCh0cnVlKTtcbiAgICBjYXNlIFwibG9nXCI6XG4gICAgICByZXR1cm4gc2NhbGVMb2c8VD4oKVxuICAgICAgICAuYmFzZShhY2Nlc3Nvci5iYXNlKVxuICAgICAgICAuZG9tYWluKGFjY2Vzc29yLmRvbWFpbilcbiAgICAgICAgLnJhbmdlKGFjY2Vzc29yLnJhbmdlKVxuICAgICAgICAudW5rbm93bihhY2Nlc3Nvci51bmtub3duKVxuICAgICAgICAuY2xhbXAodHJ1ZSk7XG4gICAgY2FzZSBcInN5bWxvZ1wiOlxuICAgICAgcmV0dXJuIHNjYWxlU3ltbG9nPFQ+KClcbiAgICAgICAgLmRvbWFpbihhY2Nlc3Nvci5kb21haW4pXG4gICAgICAgIC5yYW5nZShhY2Nlc3Nvci5yYW5nZSlcbiAgICAgICAgLnVua25vd24oYWNjZXNzb3IudW5rbm93bilcbiAgICAgICAgLmNsYW1wKHRydWUpO1xuICAgIGNhc2UgXCJpZGVudGl0eVwiOlxuICAgICAgcmV0dXJuIHNjYWxlSWRlbnRpdHk8VD4oKS51bmtub3duKGFjY2Vzc29yLnVua25vd24pO1xuICAgIGNhc2UgXCJ0aHJlc2hvbGRcIjpcbiAgICBjYXNlIFwicXVhbnRpbGVcIjpcbiAgICAgIHJldHVybiBzY2FsZVRocmVzaG9sZDxudW1iZXIsIFQ+KClcbiAgICAgICAgLmRvbWFpbihhY2Nlc3Nvci5kb21haW4pXG4gICAgICAgIC5yYW5nZShhY2Nlc3Nvci5yYW5nZSlcbiAgICAgICAgLnVua25vd24oYWNjZXNzb3IudW5rbm93bik7XG4gICAgY2FzZSBcImNhdGVnb3J5XCI6XG4gICAgICByZXR1cm4gc2NhbGVPcmRpbmFsPFQ+KClcbiAgICAgICAgLmRvbWFpbihhY2Nlc3Nvci5kb21haW4pXG4gICAgICAgIC5yYW5nZShhY2Nlc3Nvci5yYW5nZSlcbiAgICAgICAgLnVua25vd24oYWNjZXNzb3IudW5rbm93bik7XG4gICAgY2FzZSBcInF1YW50aXplXCI6XG4gICAgICByZXR1cm4gc2NhbGVRdWFudGl6ZTxUPigpXG4gICAgICAgIC5kb21haW4oYWNjZXNzb3IuZG9tYWluKVxuICAgICAgICAucmFuZ2UoYWNjZXNzb3IucmFuZ2UpXG4gICAgICAgIC51bmtub3duKGFjY2Vzc29yLnVua25vd24pO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoYHNjYWxlICR7KGFjY2Vzc29yIGFzIGFueSkuc2NhbGV9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhY2Nlc3NvckZuKHsgY29sLCBkYXRhVHlwZSB9OiBBY2Nlc3Nvciwgc2NhbGVEYXRhOiBTY2FsZUZuKTogQWNjZXNzb3JGbjxhbnksIGFueT4ge1xuICBzd2l0Y2ggKGRhdGFUeXBlKSB7XG4gICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICByZXR1cm4gdGFibGVEYXRhKGNvbCwgc2NhbGVEYXRhKTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICByZXR1cm4gb2JqZWN0RGF0YShjb2wsIHNjYWxlRGF0YSk7XG4gICAgY2FzZSBcImdlb2pzb25cIjpcbiAgICAgIHJldHVybiBnZW9qc29uRGF0YShjb2wsIHNjYWxlRGF0YSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFR5cGVFcnJvcihgJHtkYXRhVHlwZX0gbm90IHN1cHBvcnRlZGApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhpZ2hsaWdodEZuKHsgY29sLCBkYXRhVHlwZSB9OiBBY2Nlc3Nvciwgc2NhbGVEYXRhOiBTY2FsZUZuKTogQWNjZXNzb3JGbjxhbnksIGFueT4ge1xuICBzd2l0Y2ggKGRhdGFUeXBlKSB7XG4gICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICByZXR1cm4gdGFibGVIaWdobGlnaHQoY29sLCBzY2FsZURhdGEpO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIHJldHVybiBvYmplY3RIaWdobGlnaHQoY29sLCBzY2FsZURhdGEpO1xuICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICByZXR1cm4gZ2VvanNvbkhpZ2hsaWdodChjb2wsIHNjYWxlRGF0YSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFR5cGVFcnJvcihgJHtkYXRhVHlwZX0gbm90IHN1cHBvcnRlZGApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRhYmxlRGF0YShjb2w6IHN0cmluZywgc2NhbGVEYXRhOiBTY2FsZUZuKTogQWNjZXNzb3JGbjxEYXRhRnJhbWUsIGFueT4ge1xuICByZXR1cm4gKF8sIHsgaW5kZXgsIGRhdGEgfSkgPT4gc2NhbGVEYXRhKGRhdGEuZnJhbWVbY29sXVtpbmRleF0pO1xufVxuXG5mdW5jdGlvbiB0YWJsZUhpZ2hsaWdodChjb2w6IHN0cmluZywgc2NhbGVEYXRhOiBTY2FsZUZuKTogQWNjZXNzb3JGbjxQaWNrSW5mbzxudWxsPiwgYW55PiB7XG4gIHJldHVybiAoeyBpbmRleCwgbGF5ZXIgfSkgPT5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgc2NhbGVEYXRhKGxheWVyLnByb3BzLmRhdGEhLmZyYW1lW2NvbF1baW5kZXhdKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0RGF0YShjb2w6IHN0cmluZywgc2NhbGVEYXRhOiBTY2FsZUZuKTogQWNjZXNzb3JGbjxSZWNvcmQ8c3RyaW5nLCBhbnk+LCBhbnk+IHtcbiAgcmV0dXJuIChvYmplY3QpID0+IHNjYWxlRGF0YShvYmplY3RbY29sXSk7XG59XG5cbmZ1bmN0aW9uIG9iamVjdEhpZ2hsaWdodChcbiAgY29sOiBzdHJpbmcsXG4gIHNjYWxlRGF0YTogU2NhbGVGblxuKTogQWNjZXNzb3JGbjxQaWNrSW5mbzxSZWNvcmQ8c3RyaW5nLCBhbnk+PiwgYW55PiB7XG4gIHJldHVybiAoeyBvYmplY3QgfSkgPT4gc2NhbGVEYXRhKG9iamVjdFtjb2xdKTtcbn1cblxuZnVuY3Rpb24gZ2VvanNvbkRhdGEoY29sOiBzdHJpbmcsIHNjYWxlRGF0YTogU2NhbGVGbik6IEFjY2Vzc29yRm48RmVhdHVyZSwgYW55PiB7XG4gIHJldHVybiAob2JqZWN0KSA9PiBzY2FsZURhdGEob2JqZWN0LnByb3BlcnRpZXMhW2NvbF0pO1xufVxuXG5mdW5jdGlvbiBnZW9qc29uSGlnaGxpZ2h0KGNvbDogc3RyaW5nLCBzY2FsZURhdGE6IFNjYWxlRm4pOiBBY2Nlc3NvckZuPFBpY2tJbmZvPEZlYXR1cmU+LCBhbnk+IHtcbiAgcmV0dXJuICh7IG9iamVjdCB9KSA9PiBzY2FsZURhdGEob2JqZWN0LnByb3BlcnRpZXMhW2NvbF0pO1xufVxuIiwiaW1wb3J0IHsgTGF5ZXIsIExheWVyRXh0ZW5zaW9uIH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB7IGRlZmF1bHQgYXMgR0wgfSBmcm9tIFwiQGx1bWEuZ2wvY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBBcmNMYXllcixcbiAgSWNvbkxheWVyLFxuICBMaW5lTGF5ZXIsXG4gIFBhdGhMYXllcixcbiAgUG9pbnRDbG91ZExheWVyLFxuICBTY2F0dGVycGxvdExheWVyLFxuICBTb2xpZFBvbHlnb25MYXllcixcbn0gZnJvbSBcIkBkZWNrLmdsL2xheWVyc1wiO1xuXG5pbXBvcnQgeyBpc0RhdGFGcmFtZSB9IGZyb20gXCIuL2RhdGEtZnJhbWVcIjtcblxuZXhwb3J0IGNsYXNzIE11bHRpSGlnaGxpZ2h0RXh0ZW5zaW9uIGV4dGVuZHMgTGF5ZXJFeHRlbnNpb24ge1xuICBpbml0aWFsaXplU3RhdGUoKSB7XG4gICAgaWYgKCFpc1ByaW1pdGl2ZUxheWVyKHRoaXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbGF5ZXIgPSB0aGlzO1xuICAgIGNvbnN0IGF0dHJpYnV0ZU1hbmFnZXIgPSBsYXllci5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7XG5cbiAgICBpZiAoYXR0cmlidXRlTWFuYWdlcikge1xuICAgICAgYXR0cmlidXRlTWFuYWdlci5hZGRJbnN0YW5jZWQoe1xuICAgICAgICBwaWNraW5nQ29sb3JzOiB7XG4gICAgICAgICAgdHlwZTogR0wuVU5TSUdORURfQllURSxcbiAgICAgICAgICBzaXplOiAzLFxuICAgICAgICAgIGFjY2Vzc29yOiAob2JqZWN0LCB7IGluZGV4LCBkYXRhLCB0YXJnZXQgfSkgPT4ge1xuICAgICAgICAgICAgLy8gZGF0YSBpcyBhIGRhdGFmcmFtZSwgd2l0aCBmbGF0dGVuZWQgZ2VvbWV0cmllcz9cbiAgICAgICAgICAgIGlmIChpc0RhdGFGcmFtZShkYXRhKSAmJiBBcnJheS5pc0FycmF5KGRhdGEuaW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxheWVyLmVuY29kZVBpY2tpbmdDb2xvcihkYXRhLmluZGljZXMuaW5kZXhPZihkYXRhLmluZGljZXNbaW5kZXhdKSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc3ViLWxheWVyLCB3aGVyZSBwYXJlbnQgZGF0YSBpcyBhIGRhdGFmcmFtZSB3aXRoIGZsYXR0ZW5lZCBnZW9tZXRyaWVzP1xuICAgICAgICAgICAgY29uc3QgcGFyZW50RGF0YSA9IG9iamVjdD8uX19zb3VyY2U/LnBhcmVudD8ucHJvcHMuZGF0YTtcbiAgICAgICAgICAgIGlmIChpc0RhdGFGcmFtZShwYXJlbnREYXRhKSAmJiBBcnJheS5pc0FycmF5KHBhcmVudERhdGEuaW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxheWVyLmVuY29kZVBpY2tpbmdDb2xvcihcbiAgICAgICAgICAgICAgICBwYXJlbnREYXRhLmluZGljZXMuaW5kZXhPZihwYXJlbnREYXRhLmluZGljZXNbb2JqZWN0Ll9fc291cmNlLmluZGV4XSksXG4gICAgICAgICAgICAgICAgdGFyZ2V0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRlZmF1bHRcbiAgICAgICAgICAgIHJldHVybiBsYXllci5lbmNvZGVQaWNraW5nQ29sb3Iob2JqZWN0Py5fX3NvdXJjZS5pbmRleCA/PyBpbmRleCwgdGFyZ2V0KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNoYWRlckF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIHBpY2tpbmdDb2xvcnM6IHtcbiAgICAgICAgICAgICAgZGl2aXNvcjogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnN0YW5jZVBpY2tpbmdDb2xvcnM6IHtcbiAgICAgICAgICAgICAgZGl2aXNvcjogMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBMYXllcnMgPSBbXG4gIEFyY0xheWVyLFxuICBJY29uTGF5ZXIsXG4gIExpbmVMYXllcixcbiAgUGF0aExheWVyLFxuICBQb2ludENsb3VkTGF5ZXIsXG4gIFNjYXR0ZXJwbG90TGF5ZXIsXG4gIFNvbGlkUG9seWdvbkxheWVyLFxuXTtcblxudHlwZSBCYXNlTGF5ZXIgPSBMYXllcjxEYXRhRnJhbWUsIGFueT47XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZUxheWVyKGxheWVyOiBCYXNlTGF5ZXIgfCBMYXllckV4dGVuc2lvbik6IGxheWVyIGlzIEJhc2VMYXllciB7XG4gIHJldHVybiBMYXllcnMuc29tZSgoTGF5ZXIpID0+IGxheWVyIGluc3RhbmNlb2YgTGF5ZXIpO1xufVxuIiwiaW1wb3J0ICogYXMgZGVjayBmcm9tIFwiLi9kZWNrLWJ1bmRsZVwiO1xuaW1wb3J0IHR5cGUgeyBMYXllciBhcyBEZWNrTGF5ZXIsIExheWVyUHJvcHMgYXMgRGVja0xheWVyUHJvcHMgfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBCaXRtYXBMYXllclByb3BzIH0gZnJvbSBcIkBkZWNrLmdsL2xheWVyc1wiO1xuaW1wb3J0IHR5cGUgeyBUaWxlTGF5ZXJQcm9wcyB9IGZyb20gXCJAZGVjay5nbC9nZW8tbGF5ZXJzXCI7XG5pbXBvcnQgdHlwZSB7IEZlYXR1cmVDb2xsZWN0aW9uIH0gZnJvbSBcImdlb2pzb25cIjtcblxuaW1wb3J0IHsgcGFyc2VDb2xvciBhcyBfcGFyc2VDb2xvciB9IGZyb20gXCIuL2NvbG9yXCI7XG5pbXBvcnQgeyBBY2Nlc3NvclNjYWxlLCBhY2Nlc3NvclNjYWxlIGFzIF9hY2Nlc3NvclNjYWxlLCBpc0FjY2Vzc29yU2NhbGUgfSBmcm9tIFwiLi9zY2FsZVwiO1xuaW1wb3J0IHsgYWNjZXNzb3IgYXMgX2FjY2Vzc29yLCBBY2Nlc3NvciwgaXNBY2Nlc3NvciB9IGZyb20gXCIuL2FjY2Vzc29yXCI7XG5pbXBvcnQgeyBibGVuZGluZ1BhcmFtZXRlcnMgfSBmcm9tIFwiLi9ibGVuZGluZ1wiO1xuaW1wb3J0IHsgZmxhdHRlbkdlb21ldHJpZXMgYXMgX2ZsYXR0ZW5HZW9tZXRyaWVzLCBpc0RhdGFGcmFtZSB9IGZyb20gXCIuL2RhdGEtZnJhbWVcIjtcbmltcG9ydCB7IE11bHRpSGlnaGxpZ2h0RXh0ZW5zaW9uIH0gZnJvbSBcIi4vbXVsdGktaGlnaGxpZ2h0LWV4dGVuc2lvblwiO1xuaW1wb3J0IHsgbWVtb2l6ZSB9IGZyb20gXCIuL3V0aWxcIjtcblxudHlwZSBMYXllckRhdGEgPSBzdHJpbmcgfCBEYXRhRnJhbWUgfCBGZWF0dXJlQ29sbGVjdGlvbjtcbnR5cGUgRW50cnk8VD4gPSBbc3RyaW5nLCBUXTtcblxuZXhwb3J0IHR5cGUgTGVnZW5kSW5mbyA9IFBpY2s8TGF5ZXJQcm9wcywgXCJpZFwiIHwgXCJuYW1lXCI+ICYge1xuICBzY2FsZXM6IEFjY2Vzc29yU2NhbGU8bnVtYmVyIHwgQ29sb3I+W107XG59O1xuXG5leHBvcnQgdHlwZSBWaXNpYmlsaXR5SW5mbyA9IFBpY2s8TGF5ZXJQcm9wcywgXCJpZFwiIHwgXCJuYW1lXCIgfCBcImdyb3VwTmFtZVwiPiAmIHtcbiAgdmlzaWJsZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF5ZXJQcm9wcyBleHRlbmRzIE9taXQ8RGVja0xheWVyUHJvcHM8YW55PiwgXCJkYXRhXCI+IHtcbiAgdHlwZTogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGdyb3VwTmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgZGF0YTogTGF5ZXJEYXRhIHwgbnVsbDtcbiAgYmxlbmRpbmdNb2RlOiBCbGVuZGluZ01vZGU7XG4gIHZpc2liaWxpdHlUb2dnbGU6IGJvb2xlYW47XG4gIHRvb2x0aXA6IFRvb2x0aXBJbmZvIHwgbnVsbDtcbn1cblxuaW50ZXJmYWNlIFRyaXBzTGF5ZXJQcm9wcyBleHRlbmRzIExheWVyUHJvcHMge1xuICBjdXJyZW50VGltZTogbnVtYmVyO1xuICBsb29wTGVuZ3RoOiBudW1iZXI7XG4gIGFuaW1hdGlvblNwZWVkOiBudW1iZXI7XG59XG5cbi8vIHBlcmZvcm1hbmNlIG9wdGltaXNhdGlvbjogYXZvaWQgc2hhbGxvdyBwcm9wIGNoYW5nZXNcbmNvbnN0IGZsYXR0ZW5HZW9tZXRyaWVzID0gbWVtb2l6ZShfZmxhdHRlbkdlb21ldHJpZXMpO1xuY29uc3QgcGFyc2VDb2xvciA9IG1lbW9pemUoX3BhcnNlQ29sb3IpO1xuY29uc3QgYWNjZXNzb3IgPSBtZW1vaXplKF9hY2Nlc3Nvcik7XG5jb25zdCBhY2Nlc3NvclNjYWxlID0gbWVtb2l6ZShfYWNjZXNzb3JTY2FsZSk7XG5cbmV4cG9ydCBjbGFzcyBMYXllciB7XG4gIHR5cGU6IHN0cmluZztcbiAgcHJvcHM6IExheWVyUHJvcHM7XG4gIHNjYWxlczogQWNjZXNzb3JTY2FsZTxhbnk+W107XG5cbiAgY29uc3RydWN0b3IoeyB0eXBlLCAuLi5wcm9wcyB9OiBMYXllclByb3BzKSB7XG4gICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHByb3BzKTtcbiAgICBjb25zdCBjb2xvcnMgPSBnZXRDb2xvcnMoZW50cmllcyk7XG4gICAgY29uc3QgYWNjZXNzb3JzID0gZ2V0QWNjZXNzb3JzKGVudHJpZXMpO1xuXG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICBjb25zdCBfcHJvcHMgPSBPYmplY3QuZnJvbUVudHJpZXMoW1xuICAgICAgLi4uZW50cmllcyxcbiAgICAgIC4uLmNvbG9ycyxcbiAgICAgIC4uLmFjY2Vzc29ycy5tYXAoKFtuYW1lLCB2YWx1ZV0pID0+IFtuYW1lLCB2YWx1ZS5nZXREYXRhXSksXG4gICAgICAuLi5nZXRXZWlnaHRQcm9wcyhlbnRyaWVzKSxcbiAgICAgIFtcInZpc2libGVcIiwgcHJvcHMudmlzaWJsZSA/PyB0cnVlXSxcbiAgICAgIFtcInVwZGF0ZVRyaWdnZXJzXCIsIGdldFVwZGF0ZVRyaWdnZXJzKGFjY2Vzc29ycyldLFxuICAgICAgW1wicGFyYW1ldGVyc1wiLCBnZXRQYXJhbWV0ZXJzKHByb3BzLnBhcmFtZXRlcnMsIHByb3BzLmJsZW5kaW5nTW9kZSldLFxuICAgIF0pO1xuXG4gICAgLy8gbXVsdGktZ2VvbWV0cnkgaGlnaGxpZ2h0XG4gICAgaWYgKGlzRGF0YUZyYW1lKF9wcm9wcy5kYXRhKSkge1xuICAgICAgX3Byb3BzLmRhdGEgPSBmbGF0dGVuR2VvbWV0cmllcyhfcHJvcHMuZGF0YSk7XG4gICAgICBfcHJvcHMuZXh0ZW5zaW9ucyA9IFtuZXcgTXVsdGlIaWdobGlnaHRFeHRlbnNpb24oKSwgLi4uKF9wcm9wcy5leHRlbnNpb25zID8/IFtdKV07XG4gICAgfVxuXG4gICAgLy8gdGlsZS1sYXllclxuICAgIHR5cGUgVGlsZVByb3BzID0gVGlsZUxheWVyUHJvcHM8YW55PiAmIEJpdG1hcExheWVyUHJvcHM8YW55PiAmIHsgdGlsZTogYW55IH07XG4gICAgaWYgKHR5cGUgPT09IFwiVGlsZUxheWVyXCIpIHtcbiAgICAgIF9wcm9wcy5yZW5kZXJTdWJMYXllcnMgPSAocHJvcHM6IFRpbGVQcm9wcykgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgYmJveDogeyB3ZXN0LCBzb3V0aCwgZWFzdCwgbm9ydGggfSxcbiAgICAgICAgICB4LFxuICAgICAgICAgIHksXG4gICAgICAgICAgeixcbiAgICAgICAgfSA9IHByb3BzLnRpbGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBkZWNrLkJpdG1hcExheWVyKHtcbiAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICBkYXRhOiBbeyB6LCB4LCB5IH1dLFxuICAgICAgICAgIGltYWdlOiBwcm9wcy5kYXRhLFxuICAgICAgICAgIGJvdW5kczogW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF0sXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzID0gX3Byb3BzO1xuXG4gICAgdGhpcy5zY2FsZXMgPSBhY2Nlc3NvcnNcbiAgICAgIC5maWx0ZXIoKFssIHZhbHVlXSkgPT4gaXNBY2Nlc3NvclNjYWxlKHZhbHVlKSlcbiAgICAgIC5tYXAoKFssIHZhbHVlXSkgPT4gdmFsdWUgYXMgQWNjZXNzb3JTY2FsZTxudW1iZXIgfCBDb2xvcj4pO1xuXG4gICAgLy8gbG9hZCBmb250XG4gICAgaWYgKHR5cGUgPT09IFwiVGV4dExheWVyXCIgJiYgXCJmb250c1wiIGluIGRvY3VtZW50KSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBkb2N1bWVudC5mb250cy5sb2FkKGAxNnB4ICR7cHJvcHMuZm9udEZhbWlseX1gKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlKHByb3BzOiBMYXllclByb3BzKSB7XG4gICAgcmV0dXJuIG5ldyBMYXllcihwcm9wcyk7XG4gIH1cblxuICByZW5kZXJMYXllcih0aW1lPzogbnVtYmVyKTogRGVja0xheWVyPGFueSwgYW55PiB7XG4gICAgLy8gYW5pbWF0ZSB0cmlwcyBsYXllclxuICAgIGlmICh0aGlzLnR5cGUgPT09IFwiVHJpcHNMYXllclwiICYmIHRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzIGFzIFRyaXBzTGF5ZXJQcm9wcztcbiAgICAgIGNvbnN0IHsgbG9vcExlbmd0aCwgYW5pbWF0aW9uU3BlZWQgfSA9IHByb3BzO1xuICAgICAgY29uc3QgYW5pbWF0aW9uVGltZSA9IGxvb3BMZW5ndGggLyBhbmltYXRpb25TcGVlZDtcbiAgICAgIGNvbnN0IHJhdGlvQ29tcGxldGUgPSAoKHRpbWUgLyAxMDAwKSAlIGFuaW1hdGlvblRpbWUpIC8gYW5pbWF0aW9uVGltZTtcbiAgICAgIHByb3BzLmN1cnJlbnRUaW1lID0gcmF0aW9Db21wbGV0ZSAqIGxvb3BMZW5ndGg7XG4gICAgfVxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gbmV3IGRlY2tbdGhpcy50eXBlXSh7IC4uLnRoaXMucHJvcHMgfSk7XG4gIH1cblxuICByZW5kZXJMZWdlbmQoKTogTGVnZW5kSW5mbyB7XG4gICAgY29uc3Qgc2NhbGVzID0gdGhpcy5zY2FsZXMuZmlsdGVyKChzY2FsZSkgPT4gc2NhbGUubGVnZW5kKTtcbiAgICByZXR1cm4geyBpZDogdGhpcy5wcm9wcy5pZCEsIG5hbWU6IHRoaXMucHJvcHMubmFtZSwgc2NhbGVzIH07XG4gIH1cblxuICByZW5kZXJTZWxlY3RvcigpOiBWaXNpYmlsaXR5SW5mbyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkISxcbiAgICAgIGdyb3VwTmFtZTogdGhpcy5wcm9wcy5ncm91cE5hbWUsXG4gICAgICBuYW1lOiB0aGlzLnByb3BzLm5hbWUsXG4gICAgICB2aXNpYmxlOiB0aGlzLnByb3BzLnZpc2libGUgPz8gdHJ1ZSxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbG9yKFtuYW1lLCB2YWx1ZV06IFtzdHJpbmcsIGFueV0pIHtcbiAgcmV0dXJuIG5hbWUuZW5kc1dpdGgoXCJDb2xvclwiKSAmJiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29sb3JzKGVudHJpZXM6IEVudHJ5PGFueT5bXSk6IEVudHJ5PENvbG9yIHwgQ29sb3JbXT5bXSB7XG4gIGNvbnN0IGNvbG9ycyA9IGVudHJpZXNcbiAgICAuZmlsdGVyKGlzQ29sb3IpXG4gICAgLm1hcCgoW25hbWUsIGNvbG9yXSk6IEVudHJ5PENvbG9yPiA9PiBbbmFtZSwgcGFyc2VDb2xvcihjb2xvcildKTtcblxuICBjb25zdCBjb2xvclJhbmdlID0gZW50cmllcy5maW5kKChbbmFtZV0pID0+IG5hbWUgPT09IFwiY29sb3JSYW5nZVwiKTtcbiAgaWYgKGNvbG9yUmFuZ2UpIHtcbiAgICBjb2xvcnMucHVzaChbY29sb3JSYW5nZVswXSwgY29sb3JSYW5nZVsxXS5tYXAoKGNvbG9yOiBzdHJpbmcgfCBDb2xvcikgPT4gcGFyc2VDb2xvcihjb2xvcikpXSk7XG4gIH1cblxuICByZXR1cm4gY29sb3JzO1xufVxuXG5mdW5jdGlvbiBnZXRBY2Nlc3NvcnMoZW50cmllczogRW50cnk8YW55PltdKTogRW50cnk8QWNjZXNzb3IgfCBBY2Nlc3NvclNjYWxlPGFueT4+W10ge1xuICByZXR1cm4gZW50cmllc1xuICAgIC5maWx0ZXIoKFssIHZhbHVlXSkgPT4gaXNBY2Nlc3Nvcih2YWx1ZSkpXG4gICAgLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4gW1xuICAgICAgbmFtZSxcbiAgICAgIGlzQWNjZXNzb3JTY2FsZSh2YWx1ZSkgPyBhY2Nlc3NvclNjYWxlKHZhbHVlLCBuYW1lKSA6IGFjY2Vzc29yKHZhbHVlLCBuYW1lKSxcbiAgICBdKTtcbn1cblxuZnVuY3Rpb24gZ2V0VXBkYXRlVHJpZ2dlcnMoZW50cmllczogRW50cnk8QWNjZXNzb3IgfCBBY2Nlc3NvclNjYWxlPGFueT4+W10pIHtcbiAgY29uc3Qgc2NhbGVQcm9wcyA9IChhY2Nlc3NvcjogYW55KSA9PiB7XG4gICAgY29uc3QgeyBnZXREYXRhLCBzY2FsZURhdGEsIHBhbGV0dGUsIC4uLnByb3BzIH0gPSBhY2Nlc3NvcjtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH07XG5cbiAgY29uc3QgcHJvcFRyaWdnZXJzID0gZW50cmllcy5tYXAoKFtuYW1lLCBhY2Nlc3Nvcl0pID0+IFtuYW1lLCBzY2FsZVByb3BzKGFjY2Vzc29yKV0pO1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHByb3BUcmlnZ2Vycyk7XG59XG5cbmZ1bmN0aW9uIGdldFBhcmFtZXRlcnMocGFyYW1ldGVyczogYW55LCBibGVuZGluZ01vZGU6IEJsZW5kaW5nTW9kZSkge1xuICByZXR1cm4ge1xuICAgIC4uLnBhcmFtZXRlcnMsXG4gICAgLi4uYmxlbmRpbmdQYXJhbWV0ZXJzKGJsZW5kaW5nTW9kZSksXG4gIH07XG59XG5cbi8vIGdldENvbG9yV2VpZ2h0ICYgZ2V0RWxldmF0aW9uV2VpZ2h0IG11c3QgYmUgZnVuY3Rpb25zXG5mdW5jdGlvbiBnZXRXZWlnaHRQcm9wcyhlbnRyaWVzOiBFbnRyeTxhbnk+W10pIHtcbiAgcmV0dXJuIGVudHJpZXNcbiAgICAuZmlsdGVyKChbbmFtZV0pID0+IG5hbWUgPT09IFwiZ2V0Q29sb3JXZWlnaHRcIiB8fCBuYW1lID09PSBcImdldEVsZXZhdGlvbldlaWdodFwiKVxuICAgIC5maWx0ZXIoKFssIHZhbHVlXSkgPT4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIgJiYgIWlzQWNjZXNzb3IodmFsdWUpKVxuICAgIC5tYXAoKFtuYW1lLCB2YWx1ZV0pID0+IFtuYW1lLCAoKSA9PiB2YWx1ZV0pO1xufVxuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJrZXBsZXJcIjpcImtlcGxlclwiLFwibGlnaHRcIjpcImxpZ2h0XCIsXCJ0b2dnbGUtYnV0dG9uXCI6XCJVNDRMaHBLbFY4cjFWdTFab1pBM1wiLFwidG9nZ2xlQnV0dG9uXCI6XCJVNDRMaHBLbFY4cjFWdTFab1pBM1wiLFwicGFuZWxcIjpcIlhGNzcwbkVMVWNFXzB6eG9fYU9nXCIsXCJoZWFkZXJcIjpcIkhZUmhDMmF3MVBTTVlHQ3oyYkRiXCIsXCJidXR0b25cIjpcIllOb3U0RllsYzNOM0doRnAyQmtPXCIsXCJ0ZXh0XCI6XCJmNDROR3FaWkduNGRlOVMzb1RITlwiLFwiYm9keVwiOlwieHFLUDI4OU1VSjA2SGdiM0Nqb1dcIixcImdyb3VwLWNvbnRhaW5lclwiOlwiWGN0WkNfZlpBTXZSTWlIUGx0OUdcIixcImdyb3VwQ29udGFpbmVyXCI6XCJYY3RaQ19mWkFNdlJNaUhQbHQ5R1wiLFwibGFiZWxcIjpcImx5OWtFSDhNcFh5bmhCWDZGaGNqXCIsXCJjaGVja2VkXCI6XCJpTTJPaU1RejZ6X050QVFaWnlQU1wiLFwiY2hlY2tib3hcIjpcIl84cjgzNDhLUFNfbnpOTFJfQ1ZfXCIsXCJpY29uXCI6XCJ0emtGcmtFVTVjQl9qWTZ6Y3V1YVwifTsiLCJpbXBvcnQgeyBGcmFnbWVudCwgUHJvcHNXaXRoQ2hpbGRyZW4sIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ2hlY2tCb3hPdXRsaW5lQmxhbmssIENoZWNrQm94LCBJbmRldGVybWluYXRlQ2hlY2tCb3gsIExheWVycyB9IGZyb20gXCJAbXVpL2ljb25zLW1hdGVyaWFsXCI7XG5cbmltcG9ydCB7IFZpc2liaWxpdHlJbmZvIH0gZnJvbSBcIi4uL2xheWVyXCI7XG5pbXBvcnQgeyBjbGFzc05hbWVzLCBncm91cEJ5IH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vbGF5ZXItc2VsZWN0b3IuY3NzXCI7XG5cbmNvbnN0IE5PX0dST1VQID0gRGF0ZS5ub3coKTtcblxuZXhwb3J0IHR5cGUgVG9nZ2xlQnV0dG9uUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgdG9vbHRpcD86IHN0cmluZztcbiAgb25DbGljazogKCkgPT4gdm9pZDtcbn0+O1xuXG5leHBvcnQgZnVuY3Rpb24gVG9nZ2xlQnV0dG9uKHsgY2xhc3NOYW1lLCB0b29sdGlwLCBvbkNsaWNrLCBjaGlsZHJlbiB9OiBUb2dnbGVCdXR0b25Qcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxidXR0b24gY2xhc3NOYW1lPXtjbGFzc05hbWV9IHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtvbkNsaWNrfSB0aXRsZT17dG9vbHRpcH0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICk7XG59XG5cbmV4cG9ydCB0eXBlIExheWVyU2VsZWN0b3JQcm9wcyA9IHtcbiAgbGF5ZXJzOiBWaXNpYmlsaXR5SW5mb1tdO1xuICBvblZpc2liaWxpdHlDaGFuZ2U6IChsYXllcnM6IFZpc2liaWxpdHlJbmZvW10pID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTGF5ZXJTZWxlY3Rvcih7IGxheWVycywgb25WaXNpYmlsaXR5Q2hhbmdlIH06IExheWVyU2VsZWN0b3JQcm9wcykge1xuICBjb25zdCBncm91cHMgPSBncm91cEJ5KGxheWVycywgKGxheWVyKSA9PiBsYXllci5ncm91cE5hbWUgPz8gYCR7bGF5ZXIubmFtZX0tJHtOT19HUk9VUH1gKTtcblxuICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKGNoYW5nZWQ6IFZpc2liaWxpdHlJbmZvW10sIHZpc2libGU6IGJvb2xlYW4sIGZvY3VzOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKGZvY3VzKSB7XG4gICAgICBjb25zdCBub3RDaGFuZ2VkID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICFjaGFuZ2VkLmluY2x1ZGVzKGxheWVyKSk7XG4gICAgICBjb25zdCBub25Gb2N1cyA9ICFub3RDaGFuZ2VkLnNvbWUoKGxheWVyKSA9PiBsYXllci52aXNpYmxlKTtcbiAgICAgIHJldHVybiBvblZpc2liaWxpdHlDaGFuZ2UoXG4gICAgICAgIGxheWVycy5tYXAoKGxheWVyKSA9PiAoe1xuICAgICAgICAgIC4uLmxheWVyLFxuICAgICAgICAgIHZpc2libGU6IGNoYW5nZWQuaW5jbHVkZXMobGF5ZXIpID8gdmlzaWJsZSA6IG5vbkZvY3VzLFxuICAgICAgICB9KSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgb25WaXNpYmlsaXR5Q2hhbmdlKGNoYW5nZWQubWFwKChsYXllcikgPT4gKHsgLi4ubGF5ZXIsIHZpc2libGUgfSkpKTtcbiAgfTtcblxuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYW5kbGVPcGVuQ2hhbmdlID0gKCkgPT4gc2V0SXNPcGVuKChpc09wZW4pID0+ICFpc09wZW4pO1xuXG4gIGlmICghaXNPcGVuKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUb2dnbGVCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudG9nZ2xlQnV0dG9ufVxuICAgICAgICB0b29sdGlwPVwiTGF5ZXIgc2VsZWN0b3JcIlxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVPcGVuQ2hhbmdlfVxuICAgICAgPlxuICAgICAgICA8TGF5ZXJzIGNsYXNzTmFtZT17c3R5bGVzLmljb259IGZvbnRTaXplPVwic21hbGxcIiAvPlxuICAgICAgPC9Ub2dnbGVCdXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wYW5lbH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmhlYWRlcn0+XG4gICAgICAgIDxUb2dnbGVCdXR0b24gY2xhc3NOYW1lPXtzdHlsZXMuYnV0dG9ufSBvbkNsaWNrPXtoYW5kbGVPcGVuQ2hhbmdlfSB0b29sdGlwPVwiQ2xvc2VcIj5cbiAgICAgICAgICA8TGF5ZXJzIGNsYXNzTmFtZT17c3R5bGVzLmljb259IGZvbnRTaXplPVwic21hbGxcIiAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnRleHR9PkxheWVyczwvc3Bhbj5cbiAgICAgICAgPC9Ub2dnbGVCdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYm9keX0+XG4gICAgICAgIHtBcnJheS5mcm9tKGdyb3Vwcy5lbnRyaWVzKCksIChba2V5LCBsYXllcnMsIFt7IGdyb3VwTmFtZTogZ3JvdXAgfV0gPSBsYXllcnNdKSA9PiAoXG4gICAgICAgICAgPENoZWNrYm94R3JvdXAga2V5PXtrZXl9IHsuLi57IGdyb3VwLCBsYXllcnMsIG9uQ2hhbmdlOiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIH19IC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbnR5cGUgQ2hlY2tib3hHcm91cFByb3BzID0ge1xuICBncm91cDogc3RyaW5nIHwgbnVsbDtcbiAgbGF5ZXJzOiBWaXNpYmlsaXR5SW5mb1tdO1xuICBvbkNoYW5nZTogKGxheWVyczogVmlzaWJpbGl0eUluZm9bXSwgdmlzaWJsZTogYm9vbGVhbiwgZm9jdXM6IGJvb2xlYW4pID0+IHZvaWQ7XG59O1xuXG5mdW5jdGlvbiBDaGVja2JveEdyb3VwKHsgZ3JvdXAsIGxheWVycywgb25DaGFuZ2UgfTogQ2hlY2tib3hHcm91cFByb3BzKSB7XG4gIGNvbnN0IGNoZWNrYm94ZXMgPSBBcnJheS5mcm9tKFxuICAgIGdyb3VwQnkobGF5ZXJzLCAobGF5ZXIpID0+IGxheWVyLm5hbWUpLFxuICAgIChbbmFtZSwgbGF5ZXJzXSkgPT4gPENoZWNrYm94IGtleT17bmFtZX0gey4uLnsgbmFtZSwgbGF5ZXJzLCBvbkNoYW5nZSB9fSAvPlxuICApO1xuXG4gIHJldHVybiBncm91cCA/IChcbiAgICA8RnJhZ21lbnQ+XG4gICAgICA8Q2hlY2tib3ggey4uLnsgbmFtZTogZ3JvdXAsIGxheWVycywgb25DaGFuZ2UgfX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZ3JvdXBDb250YWluZXJ9PntjaGVja2JveGVzfTwvZGl2PlxuICAgIDwvRnJhZ21lbnQ+XG4gICkgOiAoXG4gICAgPEZyYWdtZW50PntjaGVja2JveGVzfTwvRnJhZ21lbnQ+XG4gICk7XG59XG5cbnR5cGUgQ2hlY2tib3hQcm9wcyA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICBsYXllcnM6IFZpc2liaWxpdHlJbmZvW107XG4gIG9uQ2hhbmdlOiAobGF5ZXJzOiBWaXNpYmlsaXR5SW5mb1tdLCB2aXNpYmxlOiBib29sZWFuLCBmb2N1czogYm9vbGVhbikgPT4gdm9pZDtcbn07XG5cbmZ1bmN0aW9uIENoZWNrYm94KHsgbmFtZSwgbGF5ZXJzLCBvbkNoYW5nZSB9OiBDaGVja2JveFByb3BzKSB7XG4gIGNvbnN0IGNoZWNrZWQgPSBpc1Zpc2libGUobGF5ZXJzKTtcbiAgY29uc3QgaW5kZXRlcm1pbmF0ZSA9IGNoZWNrZWQgPT09IG51bGw7XG5cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuaW5kZXRlcm1pbmF0ZSA9IGluZGV0ZXJtaW5hdGU7XG4gICAgfVxuICB9LCBbaW5kZXRlcm1pbmF0ZV0pO1xuXG4gIGNvbnN0IGNhbmNlbCA9IHVzZVJlZjwoKSA9PiBib29sZWFuPigoKSA9PiBmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICAvLyBpZiBhIGRlbGF5IHdhcyBjYW5jZWxsZWQsIGNoZWNrYm94IHdhcyBjaGVja2VkIHdpdGhpbiBkZWxheSBwZXJpb2RcbiAgICBjb25zdCBjYW5jZWxsZWQgPSBjYW5jZWwuY3VycmVudCgpO1xuICAgIC8vIGRvdWJsZS1jbGljayAtPiBzaG93IGxheWVyIGFuZCBmb2N1c1xuICAgIGlmIChjYW5jZWxsZWQpIG9uQ2hhbmdlKGxheWVycywgdHJ1ZSwgdHJ1ZSk7XG4gICAgLy8gc2luZ2xlLWNsaWNrIC0+IGNoYW5nZSBsYXllciB3aXRoIHNtYWxsIGRlbGF5XG4gICAgZWxzZSBjYW5jZWwuY3VycmVudCA9IGRlbGF5KCgpID0+IG9uQ2hhbmdlKGxheWVycywgIWNoZWNrZWQsIGZhbHNlKSwgMjAwKTtcbiAgfTtcblxuICBjb25zdCBDaGVja0JveEljb24gPSBjaGVja2VkXG4gICAgPyBDaGVja0JveFxuICAgIDogaW5kZXRlcm1pbmF0ZVxuICAgID8gSW5kZXRlcm1pbmF0ZUNoZWNrQm94XG4gICAgOiBDaGVja0JveE91dGxpbmVCbGFuaztcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcyhzdHlsZXMubGFiZWwsIGNoZWNrZWQgfHwgaW5kZXRlcm1pbmF0ZSA/IHN0eWxlcy5jaGVja2VkIDogbnVsbCk7XG4gIHJldHVybiAoXG4gICAgPGxhYmVsIGNsYXNzTmFtZT17Y2xhc3Nlc30+XG4gICAgICA8aW5wdXRcbiAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY2hlY2tib3h9XG4gICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgIGNoZWNrZWQ9e2NoZWNrZWQgPz8gdHJ1ZX1cbiAgICAgIC8+XG4gICAgICA8Q2hlY2tCb3hJY29uIGZvbnRTaXplPVwic21hbGxcIiBjbGFzc05hbWU9e3N0eWxlcy5pY29ufSAvPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMudGV4dH0+e25hbWV9PC9zcGFuPlxuICAgIDwvbGFiZWw+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzVmlzaWJsZShsYXllcnM6IFZpc2liaWxpdHlJbmZvW10pIHtcbiAgbGV0IHZpc2libGUgPSBsYXllcnNbMF0udmlzaWJsZTtcbiAgZm9yIChjb25zdCBsYXllciBvZiBsYXllcnMpIHtcbiAgICBpZiAobGF5ZXIudmlzaWJsZSAhPT0gdmlzaWJsZSkgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gdmlzaWJsZTtcbn1cblxuY29uc3QgZGVsYXkgPSAob25UaW1lb3V0OiAoKSA9PiB2b2lkLCBkZWxheSA9IDIwMCkgPT4ge1xuICBjb25zdCByYWYgPSB7IGN1cnJlbnQ6IDAgfTtcbiAgbGV0IHN0YXJ0VGltZSA9IDA7XG5cbiAgY29uc3QgY2FuY2VsID0gKCkgPT4ge1xuICAgIGlmIChyYWYuY3VycmVudCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZ2xvYmFsVGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZShyYWYuY3VycmVudCk7XG4gICAgcmFmLmN1cnJlbnQgPSAwO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IGxvb3AgPSAodGltZXN0YW1wOiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXN0YXJ0VGltZSkge1xuICAgICAgc3RhcnRUaW1lID0gdGltZXN0YW1wO1xuICAgIH1cblxuICAgIGlmICh0aW1lc3RhbXAgLSBzdGFydFRpbWUgPiBkZWxheSkge1xuICAgICAgcmFmLmN1cnJlbnQgPSAwO1xuICAgICAgb25UaW1lb3V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmFmLmN1cnJlbnQgPSBnbG9iYWxUaGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfTtcblxuICByYWYuY3VycmVudCA9IGdsb2JhbFRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICByZXR1cm4gY2FuY2VsO1xufTtcbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wia2VwbGVyXCI6XCJrZXBsZXJcIixcImxpZ2h0XCI6XCJsaWdodFwiLFwibGVnZW5kXCI6XCJsV093Y2hGYjZXMk5wY1dSNFpRU1wiLFwibGF5ZXJcIjpcIm1JSmpJb09Tc2pMWk1wNTkxck4wXCIsXCJsYXllci1uYW1lXCI6XCJPVUxseTA3T0drTFBSaUVEZ3AwMFwiLFwibGF5ZXJOYW1lXCI6XCJPVUxseTA3T0drTFBSaUVEZ3AwMFwiLFwic2NhbGVcIjpcIm94Y3RLNVRja25iM3N5VWZUN3hnXCIsXCJzY2FsZS1uYW1lXCI6XCJLRWJHUEJJakxYbmpBaVVUdThlUFwiLFwic2NhbGVOYW1lXCI6XCJLRWJHUEJJakxYbmpBaVVUdThlUFwiLFwic2NhbGUtYnlcIjpcIk1CQkZyT1NSNUZfZ3JaY3lPQ3AwXCIsXCJzY2FsZUJ5XCI6XCJNQkJGck9TUjVGX2dyWmN5T0NwMFwiLFwiZmllbGQtbmFtZVwiOlwibF80UGFNTzdCV09uNERjTE41T2hcIixcImZpZWxkTmFtZVwiOlwibF80UGFNTzdCV09uNERjTE41T2hcIixcImNvbG9yLXNjYWxlXCI6XCJhV3pZcURvemRxNlZsNFF1SUoxeVwiLFwiY29sb3JTY2FsZVwiOlwiYVd6WXFEb3pkcTZWbDRRdUlKMXlcIixcInRpY2tcIjpcInhhcHJWNEFORGdSaUU1YWkxaFVsXCIsXCJsaW5lXCI6XCJmNlNuYXVlckpZNzVacU5BdUs1NlwifTsiLCJpbXBvcnQgdHlwZSB7IFNjYWxlTGluZWFyLCBTY2FsZUxvZ2FyaXRobWljLCBTY2FsZVBvd2VyIH0gZnJvbSBcImQzLXNjYWxlXCI7XG5pbXBvcnQge1xuICBBY2Nlc3NvclNjYWxlLFxuICBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnksXG4gIEFjY2Vzc29yU2NhbGVDb250aW51b3VzLFxuICBBY2Nlc3NvclNjYWxlRGlzY3JldGUsXG4gIGlzQ29sb3JTY2FsZSxcbiAgaXNDb250aW51b3VzU2NhbGUsXG4gIGlzRGlzY3JldGVTY2FsZSxcbn0gZnJvbSBcIi4uL3NjYWxlXCI7XG5pbXBvcnQgdHlwZSB7IExlZ2VuZEluZm8gfSBmcm9tIFwiLi4vbGF5ZXJcIjtcbmltcG9ydCB7IHJnYmEgfSBmcm9tIFwiLi4vY29sb3JcIjtcbmltcG9ydCB7IHdvcmRzIH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vbGVnZW5kLmNzc1wiO1xuXG5jb25zdCBUSUNLX0hFSUdIVCA9IDE2O1xuY29uc3QgVElDS19GT05UX1NJWkUgPSAxMTtcblxuZXhwb3J0IHR5cGUgTGVnZW5kUHJvcHMgPSB7XG4gIGxheWVyczogTGVnZW5kSW5mb1tdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIExlZ2VuZCh7IGxheWVycyB9OiBMZWdlbmRQcm9wcykge1xuICBpZiAobGF5ZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxlZ2VuZH0+XG4gICAgICB7bGF5ZXJzLm1hcCgobGF5ZXIpID0+IChcbiAgICAgICAgPExheWVyIGtleT17bGF5ZXIuaWR9IHsuLi5sYXllcn0gLz5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBMYXllcih7IG5hbWUsIHNjYWxlcyB9OiBMZWdlbmRJbmZvKSB7XG4gIGlmIChzY2FsZXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5sYXllck5hbWV9IHRpdGxlPXtuYW1lfT5cbiAgICAgICAge25hbWV9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtzY2FsZXMubWFwKChzY2FsZSkgPT4gKFxuICAgICAgICA8U2NhbGUga2V5PXtzY2FsZS5uYW1lfSB7Li4uc2NhbGV9IC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gU2NhbGUoc2NhbGU6IEFjY2Vzc29yU2NhbGU8bnVtYmVyIHwgQ29sb3I+KSB7XG4gIGNvbnN0IHNjYWxlTmFtZSA9IHdvcmRzKHNjYWxlLm5hbWUucmVwbGFjZSgvXmdldC8sIFwiXCIpKTtcbiAgY29uc3QgaXNDb2xvciA9IGlzQ29sb3JTY2FsZShzY2FsZSk7XG4gIGNvbnN0IGlzQ29udGludW91cyA9IGlzQ29udGludW91c1NjYWxlKHNjYWxlKTtcbiAgY29uc3QgaXNEaXNjcmV0ZSA9IGlzRGlzY3JldGVTY2FsZShzY2FsZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNjYWxlfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2NhbGVOYW1lfT57c2NhbGVOYW1lfTwvZGl2PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc2NhbGVCeX0+YnkgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuZmllbGROYW1lfSB0aXRsZT17c2NhbGUuY29sfT5cbiAgICAgICAge3NjYWxlLnNjYWxlQnkgPz8gc2NhbGUuY29sfVxuICAgICAgPC9zcGFuPlxuICAgICAge2lzQ29sb3IgJiYgaXNDb250aW51b3VzICYmIDxDb250aW51b3VzIHsuLi4oc2NhbGUgYXMgQWNjZXNzb3JTY2FsZUNvbnRpbnVvdXM8Q29sb3I+KX0gLz59XG4gICAgICB7aXNDb2xvciAmJiBpc0Rpc2NyZXRlICYmIDxEaXNjcmV0ZSB7Li4uKHNjYWxlIGFzIEFjY2Vzc29yU2NhbGVEaXNjcmV0ZTxDb2xvcj4pfSAvPn1cbiAgICAgIHtpc0NvbG9yICYmIHNjYWxlLnNjYWxlID09PSBcImNhdGVnb3J5XCIgJiYgKFxuICAgICAgICA8Q2F0ZWdvcnkgey4uLihzY2FsZSBhcyBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnk8Q29sb3I+KX0gLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmNvbnN0IENvbnRpbnVvdXMgPSAoeyB0aWNrcywgc2NhbGVEYXRhIH06IEFjY2Vzc29yU2NhbGVDb250aW51b3VzPENvbG9yPikgPT4ge1xuICBjb25zdCBsaW5lcyA9IHRpY2tzLm1hcCgoXywgaW5kZXgpID0+IGluZGV4KS5zbGljZSgxLCAtMSk7XG4gIGNvbnN0IGdyYWRpZW50SGVpZ2h0ID0gVElDS19IRUlHSFQgKiAodGlja3MubGVuZ3RoIC0gMSk7XG4gIGNvbnN0IGhlaWdodCA9IGdyYWRpZW50SGVpZ2h0ICsgVElDS19GT05UX1NJWkUgKyAxO1xuXG4gIHJldHVybiAoXG4gICAgPHN2ZyBjbGFzc05hbWU9e3N0eWxlcy5jb2xvclNjYWxlfSBoZWlnaHQ9e2hlaWdodH0gc2hhcGVSZW5kZXJpbmc9XCJjcmlzcEVkZ2VzXCI+XG4gICAgICA8c3ZnIHk9ezV9PlxuICAgICAgICA8aW1hZ2VcbiAgICAgICAgICB3aWR0aD17MjB9XG4gICAgICAgICAgaGVpZ2h0PXtncmFkaWVudEhlaWdodH1cbiAgICAgICAgICBocmVmPXtnZXRDb2xvckdyYWRpZW50KHNjYWxlRGF0YSl9XG4gICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cIm5vbmVcIlxuICAgICAgICAvPlxuICAgICAgICB7bGluZXMubWFwKChpbmRleCkgPT4gKFxuICAgICAgICAgIDxsaW5lXG4gICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMubGluZX1cbiAgICAgICAgICAgIHgyPXsyMH1cbiAgICAgICAgICAgIHkxPXtUSUNLX0hFSUdIVCAqIGluZGV4fVxuICAgICAgICAgICAgeTI9e1RJQ0tfSEVJR0hUICogaW5kZXh9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L3N2Zz5cbiAgICAgIDxUaWNrcyB0aWNrcz17dGlja3N9IHk9ey0yfSAvPlxuICAgIDwvc3ZnPlxuICApO1xufTtcblxuY29uc3QgRGlzY3JldGUgPSAoeyB0aWNrcywgcmFuZ2UgfTogQWNjZXNzb3JTY2FsZURpc2NyZXRlPENvbG9yPikgPT4ge1xuICBjb25zdCBjb2xvcnMgPSByYW5nZS5tYXAocmdiYSk7XG4gIGNvbnN0IHNjYWxlSGVpZ2h0ID0gVElDS19IRUlHSFQgKiAodGlja3MubGVuZ3RoIC0gMSk7XG4gIGNvbnN0IGhlaWdodCA9IHNjYWxlSGVpZ2h0ICsgVElDS19GT05UX1NJWkUgKyAxO1xuXG4gIHJldHVybiAoXG4gICAgPHN2ZyBjbGFzc05hbWU9e3N0eWxlcy5jb2xvclNjYWxlfSBoZWlnaHQ9e2hlaWdodH0gc2hhcGVSZW5kZXJpbmc9XCJjcmlzcEVkZ2VzXCI+XG4gICAgICA8c3ZnIHk9ezV9PlxuICAgICAgICB7Y29sb3JzLm1hcCgoY29sb3IsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPHJlY3Qga2V5PXtpbmRleH0gd2lkdGg9ezIwfSBoZWlnaHQ9e1RJQ0tfSEVJR0hUfSB5PXtpbmRleCAqIFRJQ0tfSEVJR0hUfSBmaWxsPXtjb2xvcn0gLz5cbiAgICAgICAgKSl9XG4gICAgICA8L3N2Zz5cbiAgICAgIDxUaWNrcyB0aWNrcz17dGlja3N9IHk9ey0yfSAvPlxuICAgIDwvc3ZnPlxuICApO1xufTtcblxuZnVuY3Rpb24gQ2F0ZWdvcnkoeyB0aWNrcywgcmFuZ2UsIHVua25vd25UaWNrLCB1bmtub3duIH06IEFjY2Vzc29yU2NhbGVDYXRlZ29yeTxDb2xvcj4pIHtcbiAgY29uc3QgX3JhbmdlID0gdW5rbm93blRpY2sgPyBbLi4ucmFuZ2UsIHVua25vd25dIDogcmFuZ2U7XG4gIGNvbnN0IF90aWNrcyA9IHVua25vd25UaWNrID8gWy4uLnRpY2tzLCB1bmtub3duVGlja10gOiB0aWNrcztcbiAgY29uc3QgY29sb3JzID0gX3JhbmdlLm1hcChyZ2JhKTtcbiAgY29uc3QgaGVpZ2h0ID0gVElDS19IRUlHSFQgKiBfdGlja3MubGVuZ3RoO1xuXG4gIHJldHVybiAoXG4gICAgPHN2ZyBjbGFzc05hbWU9e3N0eWxlcy5jb2xvclNjYWxlfSBoZWlnaHQ9e2hlaWdodH0+XG4gICAgICA8c3ZnPlxuICAgICAgICB7Y29sb3JzLm1hcCgoY29sb3IsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPHJlY3Qga2V5PXtpbmRleH0gd2lkdGg9ezIwfSBoZWlnaHQ9ezE0fSB5PXsxICsgaW5kZXggKiBUSUNLX0hFSUdIVH0gZmlsbD17Y29sb3J9IC8+XG4gICAgICAgICkpfVxuICAgICAgPC9zdmc+XG4gICAgICA8VGlja3MgdGlja3M9e190aWNrc30gLz5cbiAgICA8L3N2Zz5cbiAgKTtcbn1cblxudHlwZSBUaWNrc1Byb3BzID0ge1xuICB0aWNrczogYW55W107XG4gIHg/OiBzdHJpbmcgfCBudW1iZXI7XG4gIHk/OiBzdHJpbmcgfCBudW1iZXI7XG59O1xuXG5mdW5jdGlvbiBUaWNrcyh7IHRpY2tzLCB4ID0gMjgsIHkgPSAwIH06IFRpY2tzUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c3ZnIHsuLi57IHgsIHkgfX0+XG4gICAgICB7dGlja3MubWFwKCh0aWNrLCBpbmRleCkgPT4gKFxuICAgICAgICA8dGV4dCBrZXk9e2luZGV4fSBjbGFzc05hbWU9e3N0eWxlcy50aWNrfSB5PXtUSUNLX0hFSUdIVCAqIGluZGV4fSBkeT17VElDS19GT05UX1NJWkV9PlxuICAgICAgICAgIHtTdHJpbmcodGljayl9XG4gICAgICAgIDwvdGV4dD5cbiAgICAgICkpfVxuICAgIDwvc3ZnPlxuICApO1xufVxuXG50eXBlIFNjYWxlQ29udGludW91czxUPiA9IFNjYWxlTGluZWFyPFQsIFQ+IHwgU2NhbGVQb3dlcjxULCBUPiB8IFNjYWxlTG9nYXJpdGhtaWM8VCwgVD47XG5cbmZ1bmN0aW9uIGdldENvbG9yR3JhZGllbnQoc2NhbGU6IFNjYWxlQ29udGludW91czxDb2xvcj4sIG4gPSAyMDApOiBzdHJpbmcge1xuICBjb25zdCBsZW5ndGggPSBzY2FsZS5yYW5nZSgpLmxlbmd0aDtcbiAgY29uc3QgcmFuZ2U6IGFueSA9IFsuLi5BcnJheShsZW5ndGgpLmtleXMoKV0ubWFwKCh4KSA9PiB4IC8gKGxlbmd0aCAtIDEpKTtcbiAgY29uc3QgaW52ZXJ0ID0gc2NhbGUuY29weSgpLnJhbmdlKHJhbmdlKS5pbnZlcnQ7XG5cbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGNhbnZhcy53aWR0aCA9IDE7XG4gIGNhbnZhcy5oZWlnaHQgPSBuO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgY29udGV4dCEuZmlsbFN0eWxlID0gcmdiYShzY2FsZShpbnZlcnQoaSAvIG4pKSk7XG4gICAgY29udGV4dCEuZmlsbFJlY3QoMCwgaSwgMSwgMSk7XG4gIH1cblxuICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xufVxuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJrZXBsZXJcIjpcImtlcGxlclwiLFwibGlnaHRcIjpcImxpZ2h0XCIsXCJjb250YWluZXJcIjpcIlNfSnc1eGxTNHlzakxmRW5HMV9WXCIsXCJncm91cFwiOlwidWxBMlJRbWtRaFNuYWs5SmxYblpcIixcImJ1dHRvblwiOlwiYUlFMzNtWEZxT0Jvc1ZFRkJyYjhcIixcImFjdGl2ZVwiOlwibGxtaTVoeURIdGNIcWEycl9fc3VcIixcImljb25cIjpcImlsaGtjNW81WmxTZDRJYUd5dExGXCJ9OyIsImltcG9ydCB0eXBlIHsgQ1NTUHJvcGVydGllcywgTW91c2VFdmVudEhhbmRsZXIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB0eXBlIHsgRmVhdHVyZUNvbGxlY3Rpb24gfSBmcm9tIFwiZ2VvanNvblwiO1xuXG5pbXBvcnQgTGFzc28gZnJvbSBcIkBtZGkvc3ZnL3N2Zy9sYXNzby5zdmdcIjtcbmltcG9ydCBWZWN0b3JTcXVhcmUgZnJvbSBcIkBtZGkvc3ZnL3N2Zy92ZWN0b3Itc3F1YXJlLnN2Z1wiO1xuaW1wb3J0IFZlY3RvclNxdWFyZUVkaXQgZnJvbSBcIkBtZGkvc3ZnL3N2Zy92ZWN0b3Itc3F1YXJlLWVkaXQuc3ZnXCI7XG5pbXBvcnQgVmVjdG9yUG9seUxpbmUgZnJvbSBcIkBtZGkvc3ZnL3N2Zy92ZWN0b3ItcG9seWxpbmUuc3ZnXCI7XG5pbXBvcnQgVW5kbyBmcm9tIFwiQG1kaS9zdmcvc3ZnL2Fycm93LXUtbGVmdC10b3Auc3ZnXCI7XG5pbXBvcnQgUmVkbyBmcm9tIFwiQG1kaS9zdmcvc3ZnL2Fycm93LXUtcmlnaHQtdG9wLnN2Z1wiO1xuaW1wb3J0IHsgU3ZnSWNvbiB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5pbXBvcnQge1xuICBQYW5Ub29sLFxuICBUb3VjaEFwcCxcbiAgVHJhbnNmb3JtLFxuICBMb2NhdGlvbk9uT3V0bGluZWQsXG4gIERvd25sb2FkLFxuICBVcGxvYWQsXG4gIERlbGV0ZSxcbn0gZnJvbSBcIkBtdWkvaWNvbnMtbWF0ZXJpYWxcIjtcblxuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi9lZGl0b3ItdG9vbGJveC5jc3NcIjtcbmltcG9ydCB0eXBlIHsgRWRpdG9yTW9kZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gXCIuLi91dGlsXCI7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuZXhwb3J0IHR5cGUgRWRpdG9yVG9vbGJveFByb3BzID0ge1xuICBtb2RlOiBFZGl0b3JNb2RlO1xuICBnZW9qc29uOiBGZWF0dXJlQ29sbGVjdGlvbjtcbiAgc2VsZWN0ZWRGZWF0dXJlSW5kaWNlczogbnVtYmVyW107XG4gIG9uU2V0TW9kZT86IChtb2RlOiBFZGl0b3JNb2RlKSA9PiB2b2lkO1xuICBvbkRvd25sb2FkPzogKGdlb2pzb246IEZlYXR1cmVDb2xsZWN0aW9uKSA9PiB2b2lkO1xuICBvblVwbG9hZD86IChnZW9qc29uOiBGZWF0dXJlQ29sbGVjdGlvbikgPT4gdm9pZDtcbiAgb25EZWxldGVTZWxlY3RlZD86IChpbmRpY2VzOiBudW1iZXJbXSkgPT4gdm9pZDtcbiAgLy8gdW5kby9yZWRvXG4gIGNhblVuZG86IGJvb2xlYW47XG4gIGNhblJlZG86IGJvb2xlYW47XG4gIG9uVW5kbz86ICgpID0+IHZvaWQ7XG4gIG9uUmVkbz86ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gRWRpdG9yVG9vbGJveCh7XG4gIG1vZGUsXG4gIGdlb2pzb24sXG4gIHNlbGVjdGVkRmVhdHVyZUluZGljZXMsXG4gIG9uU2V0TW9kZSA9IG5vb3AsXG4gIG9uRG93bmxvYWQgPSBub29wLFxuICBvblVwbG9hZCA9IG5vb3AsXG4gIG9uRGVsZXRlU2VsZWN0ZWQgPSBub29wLFxuICBjYW5VbmRvLFxuICBjYW5SZWRvLFxuICBvblVuZG8gPSBub29wLFxuICBvblJlZG8gPSBub29wLFxufTogRWRpdG9yVG9vbGJveFByb3BzKSB7XG4gIGNvbnN0IGFueVNlbGVjdGVkID0gc2VsZWN0ZWRGZWF0dXJlSW5kaWNlcz8ubGVuZ3RoID4gMDtcbiAgY29uc3QgYW55RmVhdHVyZXMgPSBnZW9qc29uPy5mZWF0dXJlcy5sZW5ndGggPiAwO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ncm91cH0+XG4gICAgICAgIDxFZGl0b3JCdXR0b25cbiAgICAgICAgICBuYW1lPVwiVmlld1wiXG4gICAgICAgICAgaWNvbj17UGFuVG9vbH1cbiAgICAgICAgICBpY29uU3R5bGU9e3sgdHJhbnNmb3JtOiBcInNjYWxlKDAuOSlcIiB9fVxuICAgICAgICAgIGFjdGl2ZT17bW9kZSA9PT0gXCJ2aWV3XCJ9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gb25TZXRNb2RlKFwidmlld1wiKX1cbiAgICAgICAgLz5cbiAgICAgICAgPEVkaXRvckJ1dHRvblxuICAgICAgICAgIG5hbWU9XCJTZWxlY3RcIlxuICAgICAgICAgIGljb249e1RvdWNoQXBwfVxuICAgICAgICAgIGFjdGl2ZT17bW9kZSA9PT0gXCJzZWxlY3RcIn1cbiAgICAgICAgICBkaXNhYmxlZD17IWFueUZlYXR1cmVzfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2V0TW9kZShcInNlbGVjdFwiKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ncm91cH0+XG4gICAgICAgIDxFZGl0b3JCdXR0b25cbiAgICAgICAgICBuYW1lPVwiTW9kaWZ5XCJcbiAgICAgICAgICBpY29uPXtWZWN0b3JTcXVhcmVFZGl0fVxuICAgICAgICAgIGFjdGl2ZT17bW9kZSA9PT0gXCJtb2RpZnlcIn1cbiAgICAgICAgICBkaXNhYmxlZD17IWFueVNlbGVjdGVkfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2V0TW9kZShcIm1vZGlmeVwiKX1cbiAgICAgICAgLz5cbiAgICAgICAgPEVkaXRvckJ1dHRvblxuICAgICAgICAgIG5hbWU9XCJUcmFuc2Zvcm1cIlxuICAgICAgICAgIGljb249e1RyYW5zZm9ybX1cbiAgICAgICAgICBhY3RpdmU9e21vZGUgPT09IFwidHJhbnNmb3JtXCJ9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFhbnlTZWxlY3RlZH1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNldE1vZGUoXCJ0cmFuc2Zvcm1cIil9XG4gICAgICAgIC8+XG4gICAgICAgIDxFZGl0b3JCdXR0b25cbiAgICAgICAgICBuYW1lPVwiUG9pbnRcIlxuICAgICAgICAgIGljb249e0xvY2F0aW9uT25PdXRsaW5lZH1cbiAgICAgICAgICBhY3RpdmU9e21vZGUgPT09IFwicG9pbnRcIn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNldE1vZGUoXCJwb2ludFwiKX1cbiAgICAgICAgLz5cbiAgICAgICAgPEVkaXRvckJ1dHRvblxuICAgICAgICAgIG5hbWU9XCJMaW5lU3RyaW5nXCJcbiAgICAgICAgICBpY29uPXtWZWN0b3JQb2x5TGluZX1cbiAgICAgICAgICBhY3RpdmU9e21vZGUgPT09IFwibGluZXN0cmluZ1wifVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2V0TW9kZShcImxpbmVzdHJpbmdcIil9XG4gICAgICAgIC8+XG4gICAgICAgIDxFZGl0b3JCdXR0b25cbiAgICAgICAgICBuYW1lPVwiUG9seWdvblwiXG4gICAgICAgICAgaWNvbj17VmVjdG9yU3F1YXJlfVxuICAgICAgICAgIGFjdGl2ZT17bW9kZSA9PT0gXCJwb2x5Z29uXCJ9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gb25TZXRNb2RlKFwicG9seWdvblwiKX1cbiAgICAgICAgLz5cbiAgICAgICAgPEVkaXRvckJ1dHRvblxuICAgICAgICAgIG5hbWU9XCJMYXNzb1wiXG4gICAgICAgICAgaWNvbj17TGFzc299XG4gICAgICAgICAgYWN0aXZlPXttb2RlID09PSBcImxhc3NvXCJ9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gb25TZXRNb2RlKFwibGFzc29cIil9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZ3JvdXB9PlxuICAgICAgICA8RWRpdG9yQnV0dG9uXG4gICAgICAgICAgbmFtZT1cIkRvd25sb2FkXCJcbiAgICAgICAgICBpY29uPXtEb3dubG9hZH1cbiAgICAgICAgICBkaXNhYmxlZD17IWFueUZlYXR1cmVzfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uRG93bmxvYWQoZ2VvanNvbil9XG4gICAgICAgIC8+XG4gICAgICAgIDxFZGl0b3JCdXR0b25cbiAgICAgICAgICBuYW1lPVwiVXBsb2FkXCJcbiAgICAgICAgICBpY29uPXtVcGxvYWR9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFhbnlGZWF0dXJlc31cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblVwbG9hZChnZW9qc29uKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ncm91cH0+XG4gICAgICAgIDxFZGl0b3JCdXR0b24gbmFtZT1cIlVuZG9cIiBpY29uPXtVbmRvfSBkaXNhYmxlZD17IWNhblVuZG99IG9uQ2xpY2s9e29uVW5kb30gLz5cbiAgICAgICAgPEVkaXRvckJ1dHRvbiBuYW1lPVwiUmVkb1wiIGljb249e1JlZG99IGRpc2FibGVkPXshY2FuUmVkb30gb25DbGljaz17b25SZWRvfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmdyb3VwfT5cbiAgICAgICAgPEVkaXRvckJ1dHRvblxuICAgICAgICAgIG5hbWU9XCJEZWxldGVcIlxuICAgICAgICAgIGljb249e0RlbGV0ZX1cbiAgICAgICAgICBkaXNhYmxlZD17IWFueVNlbGVjdGVkfVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uRGVsZXRlU2VsZWN0ZWQoc2VsZWN0ZWRGZWF0dXJlSW5kaWNlcyl9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxudHlwZSBCdXR0b25Qcm9wcyA9IHtcbiAgbmFtZT86IHN0cmluZztcbiAgb25DbGljaz86IE1vdXNlRXZlbnRIYW5kbGVyO1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIGFjdGl2ZT86IGJvb2xlYW47XG4gIGljb24/OiBhbnk7XG4gIGljb25TdHlsZT86IENTU1Byb3BlcnRpZXM7XG59O1xuXG5mdW5jdGlvbiBFZGl0b3JCdXR0b24oe1xuICBuYW1lLFxuICBvbkNsaWNrID0gbm9vcCxcbiAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgYWN0aXZlID0gZmFsc2UsXG4gIGljb24sXG4gIGljb25TdHlsZSxcbn06IEJ1dHRvblByb3BzKSB7XG4gIGNvbnN0IGJ1dHRvbkNsYXNzID0gY2xhc3NOYW1lcyhzdHlsZXMuYnV0dG9uLCBhY3RpdmUgPyBzdHlsZXMuYWN0aXZlIDogbnVsbCk7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiBjbGFzc05hbWU9e2J1dHRvbkNsYXNzfSBvbkNsaWNrPXtvbkNsaWNrfSB0aXRsZT17bmFtZX0gZGlzYWJsZWQ9e2Rpc2FibGVkfT5cbiAgICAgIHtpY29uICYmIChcbiAgICAgICAgPFN2Z0ljb24gY29tcG9uZW50PXtpY29ufSBjbGFzc05hbWU9e3N0eWxlcy5pY29ufSBmb250U2l6ZT1cInNtYWxsXCIgc3R5bGU9e2ljb25TdHlsZX0gLz5cbiAgICAgICl9XG4gICAgPC9idXR0b24+XG4gICk7XG59XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcInJkZWNrXCI6XCJyZGVja1wiLFwia2VwbGVyXCI6XCJrZXBsZXJcIixcImxpZ2h0XCI6XCJsaWdodFwiLFwiY29udHJvbC1jb250YWluZXJcIjpcIlhUdVlLU2xCY0M5MzNXNHNLV3RDXCIsXCJjb250cm9sQ29udGFpbmVyXCI6XCJYVHVZS1NsQmNDOTMzVzRzS1d0Q1wiLFwibGVmdFwiOlwia1FuZWxRNGhrQUpFSkhMTzBOSklcIixcInJpZ2h0XCI6XCJoUWJPT2RFWncwTE8wbGxHS1ZxU1wiLFwidG9wXCI6XCJjU29sNTRtbFZUZ0FuUnpqX0dVTVwifTsiLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIFJlZk9iamVjdCwgZm9yd2FyZFJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBNYXBQcm9wcyB9IGZyb20gXCJyZWFjdC1tYXAtZ2xcIjtcblxuaW1wb3J0IHR5cGUgeyBEZWNrUHJvcHMgfSBmcm9tIFwiLi9kZWNrXCI7XG5pbXBvcnQgeyBNYXAsIE1hcFJlZiB9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgTGF5ZXIsIExheWVyUHJvcHMsIFZpc2liaWxpdHlJbmZvIH0gZnJvbSBcIi4vbGF5ZXJcIjtcbmltcG9ydCB7IExheWVyU2VsZWN0b3IsIExlZ2VuZCwgRWRpdG9yVG9vbGJveCB9IGZyb20gXCIuL2NvbnRyb2xzXCI7XG5pbXBvcnQgdHlwZSB7IEVkaXRvclByb3BzIH0gZnJvbSBcIi4vZWRpdG9yXCI7XG5pbXBvcnQgc3R5bGVzIGZyb20gXCIuL3JkZWNrLmNzc1wiO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IGdldEltYWdlRGF0YSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUkRlY2tQcm9wcyB7XG4gIHRoZW1lOiBcImtlcGxlclwiIHwgXCJsaWdodFwiO1xuICBkZWNrZ2w6IERlY2tQcm9wcztcbiAgbWFwZ2w6IE1hcFByb3BzO1xuICBsYXllcnM6IExheWVyUHJvcHNbXTtcbiAgbGF6eUxvYWQ6IGJvb2xlYW47XG4gIGxheWVyU2VsZWN0b3I6IGJvb2xlYW47XG4gIG9uTGF5ZXJWaXNpYmlsaXR5Q2hhbmdlOiAobGF5ZXJzVmlzaWJpbGl0eTogVmlzaWJpbGl0eUluZm9bXSkgPT4gdm9pZDtcbiAgZWRpdG9yOiBFZGl0b3JQcm9wcyB8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIFJEZWNrUmVmID0ge1xuICBnZXRJbWFnZSgpOiBQcm9taXNlPEJsb2IgfCBudWxsPjtcbn07XG5cbmV4cG9ydCBjb25zdCBSRGVjayA9IGZvcndhcmRSZWY8UkRlY2tSZWYsIFJEZWNrUHJvcHM+KFxuICAoXG4gICAge1xuICAgICAgdGhlbWUsXG4gICAgICBkZWNrZ2wsXG4gICAgICBtYXBnbCxcbiAgICAgIGxheWVycyxcbiAgICAgIGxhenlMb2FkID0gZmFsc2UsXG4gICAgICBsYXllclNlbGVjdG9yID0gZmFsc2UsXG4gICAgICBvbkxheWVyVmlzaWJpbGl0eUNoYW5nZSxcbiAgICAgIGVkaXRvcixcbiAgICB9LFxuICAgIHJlZlxuICApID0+IHtcbiAgICBjb25zdCBtYXBSZWYgPSB1c2VSZWY8TWFwUmVmPihudWxsKTtcbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKFxuICAgICAgcmVmLFxuICAgICAgKCkgPT4gKHtcbiAgICAgICAgYXN5bmMgZ2V0SW1hZ2UoKSB7XG4gICAgICAgICAgY29uc3QgbWFwID0gbWFwUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgY29uc3QgYml0bWFwID0gYXdhaXQgbWFwPy5nZXRJbWFnZSgpO1xuXG4gICAgICAgICAgcmV0dXJuIGJpdG1hcCAhPSBudWxsID8gZ2V0SW1hZ2VEYXRhKGJpdG1hcCkgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICBbXVxuICAgICk7XG5cbiAgICBjb25zdCBfbGF5ZXJzID0gbGF5ZXJzPy5tYXAoTGF5ZXIuY3JlYXRlKSA/PyBbXTtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gICAgY29uc3QgaW5WaWV3cG9ydCA9IHVzZUluVmlld3BvcnQoY29udGFpbmVyLCBsYXp5TG9hZCk7XG4gICAgY29uc3Qgc2hvdWxkUmVuZGVyID0gIWxhenlMb2FkIHx8IGluVmlld3BvcnQ7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiByZWY9e2NvbnRhaW5lcn0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKHN0eWxlcy5yZGVjaywgdGhlbWUpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoc3R5bGVzLmNvbnRyb2xDb250YWluZXIsIHN0eWxlcy5sZWZ0KX0+XG4gICAgICAgICAge2xheWVyU2VsZWN0b3IgJiYgKFxuICAgICAgICAgICAgPExheWVyU2VsZWN0b3JcbiAgICAgICAgICAgICAgbGF5ZXJzPXtfbGF5ZXJzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigobGF5ZXIpID0+IGxheWVyLnByb3BzLnZpc2liaWxpdHlUb2dnbGUpXG4gICAgICAgICAgICAgICAgLm1hcCgobGF5ZXIpID0+IGxheWVyLnJlbmRlclNlbGVjdG9yKCkpXG4gICAgICAgICAgICAgICAgLnJldmVyc2UoKX1cbiAgICAgICAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlPXtvbkxheWVyVmlzaWJpbGl0eUNoYW5nZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHN0eWxlcy5jb250cm9sQ29udGFpbmVyLCBzdHlsZXMucmlnaHQpfT5cbiAgICAgICAgICA8TGVnZW5kXG4gICAgICAgICAgICBsYXllcnM9e19sYXllcnNcbiAgICAgICAgICAgICAgLmZpbHRlcigobGF5ZXIpID0+IGxheWVyLnByb3BzLnZpc2libGUpXG4gICAgICAgICAgICAgIC5tYXAoKGxheWVyKSA9PiBsYXllci5yZW5kZXJMZWdlbmQoKSlcbiAgICAgICAgICAgICAgLnJldmVyc2UoKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoc3R5bGVzLmNvbnRyb2xDb250YWluZXIsIHN0eWxlcy50b3ApfT5cbiAgICAgICAgICB7ZWRpdG9yICYmIDxFZGl0b3JUb29sYm94IHsuLi5lZGl0b3J9IC8+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Nob3VsZFJlbmRlciAmJiA8TWFwIHJlZj17bWFwUmVmfSB7Li4ueyBkZWNrZ2wsIG1hcGdsLCBsYXllcnM6IF9sYXllcnMsIGVkaXRvciB9fSAvPn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbik7XG5cblJEZWNrLmRpc3BsYXlOYW1lID0gXCJSRGVja1wiO1xuXG5mdW5jdGlvbiB1c2VJblZpZXdwb3J0KHJlZjogUmVmT2JqZWN0PEhUTUxFbGVtZW50PiwgZW5hYmxlZDogYm9vbGVhbikge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChlbmFibGVkICYmIHJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgICBzZXRTdGF0ZShlbnRyaWVzWzBdLmlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgfSxcbiAgICAgICAgeyB0aHJlc2hvbGQ6IDAgfVxuICAgICAgKTtcblxuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShyZWYuY3VycmVudCk7XG4gICAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSwgW2VuYWJsZWQsIHJlZl0pO1xuXG4gIHJldHVybiBzdGF0ZTtcbn1cbiIsImltcG9ydCB7IEluaXRpYWxWaWV3U3RhdGVQcm9wcywgV2ViTWVyY2F0b3JWaWV3cG9ydCB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgeyBwaWNrIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vmlld1N0YXRlKHZpZXdTdGF0ZTogV2ViTWVyY2F0b3JWaWV3cG9ydCB8IEluaXRpYWxWaWV3U3RhdGVQcm9wcykge1xuICBjb25zdCB2aWV3cG9ydCA9XG4gICAgdmlld1N0YXRlIGluc3RhbmNlb2YgV2ViTWVyY2F0b3JWaWV3cG9ydCA/IHZpZXdTdGF0ZSA6IG5ldyBXZWJNZXJjYXRvclZpZXdwb3J0KHZpZXdTdGF0ZSk7XG5cbiAgY29uc3QgcHJvcHMgPSBwaWNrKHZpZXdwb3J0LCBcImxvbmdpdHVkZVwiLCBcImxhdGl0dWRlXCIsIFwiem9vbVwiLCBcImJlYXJpbmdcIiwgXCJwaXRjaFwiLCBcImFsdGl0dWRlXCIpO1xuICByZXR1cm4ge1xuICAgIGJvdW5kczogdmlld3BvcnQuZ2V0Qm91bmRzKCksXG4gICAgdmlld1N0YXRlOiB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNlbnRlcjogdmlld3BvcnQudW5wcm9qZWN0RmxhdCh2aWV3cG9ydC5jZW50ZXIpLFxuICAgIH0sXG4gIH07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gb2JzZXJ2YWJsZTxUIGV4dGVuZHMgb2JqZWN0PihvYmplY3Q6IFQsIG9ic2VydmVyPzogU2V0SGFuZGxlcjxQYXJ0aWFsPFQ+Pik6IFQge1xuICAvLyByZXBsYWNlIGFsbCB3cml0YWJsZSBwcm9wZXJ0aWVzIHdpdGggZ2V0KCkgJiBzZXQoKVxuICBjb25zdCBvd25EZXNjcmlwdG9ycyA9IGdldERlc2NyaXB0b3JzKG9iamVjdCk7XG4gIGZvciAoY29uc3QgW3Byb3BlcnR5LCBkZXNjcmlwdG9yXSBvZiBvd25EZXNjcmlwdG9ycykge1xuICAgIGlmICghZGVzY3JpcHRvci5jb25maWd1cmFibGUpIGNvbnRpbnVlO1xuXG4gICAgaWYgKGRlc2NyaXB0b3Iud3JpdGFibGUpIHtcbiAgICAgIGRlZmluZUFjY2Vzc29yKG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIG9ic2VydmVyKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLnNldCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB3cmFwU2V0dGVyKG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIG9ic2VydmVyKTtcbiAgICB9XG4gIH1cblxuICAvLyBpcyB0aGlzIGEgY3VzdG9tIG9iamVjdD9cbiAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih7fSkgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpKSByZXR1cm4gb2JqZWN0O1xuXG4gIGNvbnN0IHByb3RvdHlwZURlc2NyaXB0b3JzID0gZ2V0RGVzY3JpcHRvcnMoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpO1xuICAvLyB3cmFwIGFsbCBzZXR0ZXJzIG9uIHByb3RvdHlwZVxuICBmb3IgKGNvbnN0IFtwcm9wZXJ0eSwgZGVzY3JpcHRvcl0gb2YgcHJvdG90eXBlRGVzY3JpcHRvcnMpIHtcbiAgICBpZiAoZGVzY3JpcHRvci5jb25maWd1cmFibGUgJiYgdHlwZW9mIGRlc2NyaXB0b3Iuc2V0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHdyYXBTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSBhcyBrZXlvZiBULCBkZXNjcmlwdG9yLCBvYnNlcnZlcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hhbmdlSGFuZGxlciA9ICgpID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2YWJsZSB7XG4gIG9uQ2hhbmdlPzogQ2hhbmdlSGFuZGxlcjtcbn1cblxudHlwZSBEZXNjcmlwdG9yRW50cnk8VD4gPSBba2V5b2YgVCwgUHJvcGVydHlEZXNjcmlwdG9yXTtcbmZ1bmN0aW9uIGdldERlc2NyaXB0b3JzPFQgZXh0ZW5kcyBvYmplY3Q+KG9iamVjdDogVCk6IERlc2NyaXB0b3JFbnRyeTxUPltdIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iamVjdCkpIGFzIERlc2NyaXB0b3JFbnRyeTxUPltdO1xufVxuXG50eXBlIFNldEhhbmRsZXI8VD4gPSAoaW5mbzogVCkgPT4gdm9pZDtcblxuZnVuY3Rpb24gZGVmaW5lQWNjZXNzb3I8VCBleHRlbmRzIG9iamVjdCwgSyBleHRlbmRzIGtleW9mIFQ+KFxuICB0YXJnZXQ6IFQsXG4gIHByb3BlcnR5OiBLLFxuICB7IHZhbHVlIH06IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPFRbS10+LFxuICBvblNldD86IFNldEhhbmRsZXI8UGljazxULCBLPj5cbikge1xuICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7XG4gICAgZ2V0KCk6IFRbS10ge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2V0KG5ld1ZhbHVlOiBUW0tdKSB7XG4gICAgICBpZiAoT2JqZWN0LmlzKG5ld1ZhbHVlLCB2YWx1ZSkpIHJldHVybjtcbiAgICAgIHZhbHVlID0gbmV3VmFsdWU7XG4gICAgICBvblNldD8uKHsgW3Byb3BlcnR5XTogbmV3VmFsdWUgfSBhcyBQaWNrPFQsIEs+KTtcbiAgICB9LFxuICB9KTtcbn1cblxuZnVuY3Rpb24gd3JhcFNldHRlcjxUIGV4dGVuZHMgb2JqZWN0LCBLIGV4dGVuZHMga2V5b2YgVD4oXG4gIHRhcmdldDogVCxcbiAgcHJvcGVydHk6IEssXG4gIGRlc2NyaXB0b3I6IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPFRbS10+LFxuICBvblNldD86IFNldEhhbmRsZXI8UGljazxULCBLPj5cbikge1xuICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCB7XG4gICAgLi4uZGVzY3JpcHRvcixcbiAgICBzZXQobmV3VmFsdWU6IFRbS10pIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGVzY3JpcHRvci5nZXQ/LmNhbGwodGFyZ2V0KTtcbiAgICAgIGlmIChPYmplY3QuaXMobmV3VmFsdWUsIHZhbHVlKSkgcmV0dXJuO1xuICAgICAgZGVzY3JpcHRvci5zZXQ/LmNhbGwodGFyZ2V0LCBuZXdWYWx1ZSk7XG4gICAgICBvblNldD8uKHsgW3Byb3BlcnR5XTogbmV3VmFsdWUgfSBhcyBQaWNrPFQsIEs+KTtcbiAgICB9LFxuICB9KTtcbn1cbiIsImltcG9ydCB0eXBlIHsgRWZmZWN0LCBJbml0aWFsVmlld1N0YXRlUHJvcHMsIFBpY2tJbmZvLCBWaWV3U3RhdGVDaGFuZ2VQYXJhbXMgfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBEZWNrUHJvcHMgfSBmcm9tIFwiLi4vZGVja1wiO1xuXG5jb25zdCBHTE9CRTogSW5pdGlhbFZpZXdTdGF0ZVByb3BzID0ge1xuICBsb25naXR1ZGU6IDAsXG4gIGxhdGl0dWRlOiAwLFxuICB6b29tOiAwLFxuICBwaXRjaDogMCxcbiAgYmVhcmluZzogMCxcbn07XG5cbmV4cG9ydCBjbGFzcyBEZWNrU3RhdGUgaW1wbGVtZW50cyBEZWNrUHJvcHMge1xuICB1c2VEZXZpY2VQaXhlbHM/OiBudW1iZXIgfCBib29sZWFuO1xuICBwaWNraW5nUmFkaXVzPzogbnVtYmVyO1xuICBibGVuZGluZ01vZGU/OiBCbGVuZGluZ01vZGU7XG4gIGVmZmVjdHM/OiBFZmZlY3RbXTtcbiAgY29udHJvbGxlcj86IGJvb2xlYW47XG4gIGluaXRpYWxWaWV3U3RhdGU/OiBJbml0aWFsVmlld1N0YXRlUHJvcHMgPSBHTE9CRTtcbiAgaW5pdGlhbEJvdW5kcz86IEJvdW5kcztcblxuICBvblZpZXdTdGF0ZUNoYW5nZT86IChwYXJhbXM6IFZpZXdTdGF0ZUNoYW5nZVBhcmFtcykgPT4gYW55O1xuICBvbkNsaWNrPzogKGluZm86IFBpY2tJbmZvLCBldmVudDogTW91c2VFdmVudCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcz86IFBhcnRpYWw8RGVja1Byb3BzPikge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEZlYXR1cmVDb2xsZWN0aW9uLCBHZW9Kc29uUHJvcGVydGllcywgR2VvbWV0cnkgfSBmcm9tIFwiZ2VvanNvblwiO1xuXG5pbXBvcnQgeyBkb3dubG9hZCwgZXF1YWwgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB0eXBlIHsgRWRpdG9yUHJvcHMgfSBmcm9tIFwiLi4vZWRpdG9yXCI7XG5pbXBvcnQgdHlwZSB7IEVkaXRvck1vZGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuY29uc3QgRU1QVFlfR0VPSlNPTjogRmVhdHVyZUNvbGxlY3Rpb24gPSBPYmplY3QuZnJlZXplKHtcbiAgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICBmZWF0dXJlczogW10sXG59KTtcblxuZXhwb3J0IGNsYXNzIEVkaXRvclN0YXRlIGltcGxlbWVudHMgUGFydGlhbDxFZGl0b3JQcm9wcz4ge1xuICBtb2RlOiBFZGl0b3JNb2RlID0gXCJ2aWV3XCI7XG4gIGdlb2pzb246IEZlYXR1cmVDb2xsZWN0aW9uID0gRU1QVFlfR0VPSlNPTjtcbiAgc2VsZWN0ZWRGZWF0dXJlSW5kaWNlczogbnVtYmVyW10gPSBbXTtcbiAgLy8gaGFuZGxlcnNcbiAgb25TZXRNb2RlID0gKG1vZGU6IEVkaXRvck1vZGUpID0+IHRoaXMuc2V0TW9kZShtb2RlKTtcbiAgb25TZWxlY3RGZWF0dXJlcyA9IChmZWF0dXJlSW5kaWNlczogbnVtYmVyW10pID0+IHRoaXMuc2VsZWN0RmVhdHVyZXMoZmVhdHVyZUluZGljZXMpO1xuICBvblNldEdlb0pzb24gPSAoZ2VvanNvbjogRmVhdHVyZUNvbGxlY3Rpb24pID0+IHRoaXMuc2V0R2VvSnNvbihnZW9qc29uKTtcbiAgb25EZWxldGVTZWxlY3RlZCA9IChzZWxlY3RlZEluZGljZXM6IG51bWJlcltdKSA9PiB0aGlzLmRlbGV0ZVNlbGVjdGVkKHNlbGVjdGVkSW5kaWNlcyk7XG4gIG9uVXBsb2FkID0gKGdlb2pzb246IEZlYXR1cmVDb2xsZWN0aW9uKSA9PiB7fTtcbiAgb25Eb3dubG9hZCA9IChnZW9qc29uOiBGZWF0dXJlQ29sbGVjdGlvbikgPT4gdGhpcy5kb3dubG9hZChnZW9qc29uKTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcz86IFBhcnRpYWw8RWRpdG9yUHJvcHM+KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gIH1cblxuICBzZXRTdGF0ZShzdGF0ZTogUGFydGlhbDxFZGl0b3JTdGF0ZT4gPSB7fSkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgc3RhdGUpO1xuICB9XG5cbiAgc2V0TW9kZShtb2RlOiBFZGl0b3JNb2RlKTogdm9pZCB7XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICBjYXNlIFwibW9kaWZ5XCI6XG4gICAgICAgIHRoaXMubW9kZSA9IHRoaXMuc2VsZWN0ZWRGZWF0dXJlSW5kaWNlcz8ubGVuZ3RoID8gXCJtb2RpZnlcIiA6IFwidmlld1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgdGhpcy5tb2RlID0gdGhpcy5nZW9qc29uPy5mZWF0dXJlcy5sZW5ndGggPyBcInNlbGVjdFwiIDogXCJ2aWV3XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgc2VsZWN0RmVhdHVyZXMoZmVhdHVyZUluZGljZXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgdGhpcy5zZWxlY3RlZEZlYXR1cmVJbmRpY2VzID0gZmVhdHVyZUluZGljZXM7XG4gIH1cblxuICBzZXRHZW9Kc29uKGdlb2pzb246IEZlYXR1cmVDb2xsZWN0aW9uKTogdm9pZCB7XG4gICAgdGhpcy5nZW9qc29uID0gZ2VvanNvbjtcbiAgfVxuXG4gIGRlbGV0ZVNlbGVjdGVkKHNlbGVjdGVkSW5kaWNlczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2VvanNvbi5mZWF0dXJlcy5maWx0ZXIoKF8sIGkpID0+ICFzZWxlY3RlZEluZGljZXMuaW5jbHVkZXMoaSkpO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgbW9kZTogW1wibW9kaWZ5XCIsIFwidHJhbnNmb3JtXCJdLmluY2x1ZGVzKHRoaXMubW9kZSkgPyBcInZpZXdcIiA6IHRoaXMubW9kZSxcbiAgICAgIHNlbGVjdGVkRmVhdHVyZUluZGljZXM6IFtdLFxuICAgICAgZ2VvanNvbjoge1xuICAgICAgICAuLi50aGlzLmdlb2pzb24sXG4gICAgICAgIGZlYXR1cmVzLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEZJWE1FOiBtaWdyYXRlIGZyb20gd2lkZ2V0XG4gIHVwbG9hZD86IChnZW9qc29uOiBGZWF0dXJlQ29sbGVjdGlvbikgPT4gdm9pZDtcblxuICBkb3dubG9hZChnZW9qc29uOiBGZWF0dXJlQ29sbGVjdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoZ2VvanNvbildLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vZ2VvK2pzb25cIiB9KTtcbiAgICBkb3dubG9hZChkYXRhLCBcInJkZWNrLmdlb2pzb25cIik7XG4gICAgdGhpcy5zZXRNb2RlKFwidmlld1wiKTtcbiAgfVxufVxuXG50eXBlIENoYW5nZVByb3BzID0gUGljazxFZGl0b3JQcm9wcywgXCJtb2RlXCIgfCBcImdlb2pzb25cIiB8IFwic2VsZWN0ZWRGZWF0dXJlSW5kaWNlc1wiPjtcbmV4cG9ydCBjbGFzcyBVbmRvYWJsZUVkaXRvclN0YXRlIGV4dGVuZHMgRWRpdG9yU3RhdGUge1xuICAjY3VycmVudDogbnVtYmVyID0gLTE7XG4gIHJlYWRvbmx5ICNoaXN0b3J5OiBDaGFuZ2VQcm9wc1tdID0gW107XG5cbiAgZ2V0IGNhblVuZG8oKSB7XG4gICAgcmV0dXJuIHRoaXMuI2N1cnJlbnQgPiAwO1xuICB9XG5cbiAgZ2V0IGNhblJlZG8oKSB7XG4gICAgcmV0dXJuIHRoaXMuI2N1cnJlbnQgPCB0aGlzLiNoaXN0b3J5Lmxlbmd0aCAtIDE7XG4gIH1cblxuICBvblVuZG8gPSAoKSA9PiB0aGlzLnVuZG8oKTtcbiAgb25SZWRvID0gKCkgPT4gdGhpcy5yZWRvKCk7XG5cbiAgY29uc3RydWN0b3IocHJvcHM/OiBQYXJ0aWFsPEVkaXRvclByb3BzPikge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLiNwdXNoQ2hhbmdlKCk7XG4gIH1cblxuICAjcHVzaENoYW5nZShjaGFuZ2U6IENoYW5nZVByb3BzID0gdGhpcykge1xuICAgIGNvbnN0IG5ld1N0YXRlID0gcGljayhjaGFuZ2UpO1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuI2hpc3RvcnlbdGhpcy4jY3VycmVudF07XG5cbiAgICBpZiAoZXF1YWwobmV3U3RhdGUsIGN1cnJlbnRTdGF0ZSkpIHJldHVybjtcblxuICAgIC8vIGRlbGV0ZSBmdXR1cmUgdmFsdWVzXG4gICAgdGhpcy4jaGlzdG9yeS5sZW5ndGggPSB0aGlzLiNjdXJyZW50ICsgMTtcbiAgICAvLyBwdXNoIGNoYW5nZSBvbnRvIGhpc3Rvcnkgc3RhY2tcbiAgICB0aGlzLiNjdXJyZW50ID0gdGhpcy4jaGlzdG9yeS5wdXNoKG5ld1N0YXRlKSAtIDE7XG4gIH1cblxuICAjdXBkYXRlQ3VycmVudFN0YXRlKGNoYW5nZTogQ2hhbmdlUHJvcHMgPSB0aGlzKSB7XG4gICAgdGhpcy4jaGlzdG9yeVt0aGlzLiNjdXJyZW50XSA9IHBpY2soY2hhbmdlKTtcbiAgfVxuXG4gIHVuZG8oKSB7XG4gICAgaWYgKCF0aGlzLmNhblVuZG8pIHJldHVybjtcblxuICAgIHRoaXMuI2N1cnJlbnQgLT0gMTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHRoaXMuI2hpc3RvcnlbdGhpcy4jY3VycmVudF0pO1xuICB9XG5cbiAgcmVkbygpIHtcbiAgICBpZiAoIXRoaXMuY2FuUmVkbykgcmV0dXJuO1xuXG4gICAgdGhpcy4jY3VycmVudCArPSAxO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgdGhpcy4jaGlzdG9yeVt0aGlzLiNjdXJyZW50XSk7XG4gIH1cblxuICBzZXRTdGF0ZShzdGF0ZT86IFBhcnRpYWw8RWRpdG9yU3RhdGU+KTogdm9pZCB7XG4gICAgc3VwZXIuc2V0U3RhdGUoc3RhdGUpO1xuICAgIHRoaXMuI3VwZGF0ZUN1cnJlbnRTdGF0ZSgpO1xuICB9XG5cbiAgc2V0TW9kZShtb2RlOiBFZGl0b3JNb2RlKTogdm9pZCB7XG4gICAgc3VwZXIuc2V0TW9kZShtb2RlKTtcbiAgICB0aGlzLiN1cGRhdGVDdXJyZW50U3RhdGUoKTtcbiAgfVxuXG4gIHNlbGVjdEZlYXR1cmVzKGZlYXR1cmVJbmRpY2VzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHN1cGVyLnNlbGVjdEZlYXR1cmVzKGZlYXR1cmVJbmRpY2VzKTtcbiAgICB0aGlzLiN1cGRhdGVDdXJyZW50U3RhdGUoKTtcbiAgfVxuXG4gIHNldEdlb0pzb24oZ2VvanNvbjogRmVhdHVyZUNvbGxlY3Rpb248R2VvbWV0cnksIEdlb0pzb25Qcm9wZXJ0aWVzPik6IHZvaWQge1xuICAgIHN1cGVyLnNldEdlb0pzb24oZ2VvanNvbik7XG4gICAgdGhpcy4jcHVzaENoYW5nZSgpO1xuICB9XG5cbiAgZGVsZXRlU2VsZWN0ZWQoc2VsZWN0ZWRJbmRpY2VzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHN1cGVyLmRlbGV0ZVNlbGVjdGVkKHNlbGVjdGVkSW5kaWNlcyk7XG4gICAgdGhpcy4jcHVzaENoYW5nZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBpY2soeyBtb2RlLCBnZW9qc29uLCBzZWxlY3RlZEZlYXR1cmVJbmRpY2VzIH06IENoYW5nZVByb3BzKTogQ2hhbmdlUHJvcHMge1xuICByZXR1cm4geyBtb2RlLCBnZW9qc29uLCBzZWxlY3RlZEZlYXR1cmVJbmRpY2VzIH07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZXF1YWw8VCA9IGFueT4oYTogVCwgYjogVCk6IGJvb2xlYW4ge1xuICBpZiAoT2JqZWN0LmlzKGEsIGIpKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gIGlmIChrZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoIU9iamVjdC5pcyhhW2tleV0sIGJba2V5XSkgfHwgYi5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbiIsImltcG9ydCB0eXBlIHsgTWFwUHJvcHMgfSBmcm9tIFwicmVhY3QtbWFwLWdsXCI7XG5cbmV4cG9ydCBjbGFzcyBNYXBTdGF0ZSBpbXBsZW1lbnRzIE1hcFByb3BzIHtcbiAgbWFwYm94QWNjZXNzVG9rZW4/OiBzdHJpbmc7XG4gIG1hcFN0eWxlPzogc3RyaW5nO1xuICByZXVzZU1hcHM/OiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcz86IFBhcnRpYWw8TWFwUHJvcHM+KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgTGF5ZXJQcm9wcywgVmlzaWJpbGl0eUluZm8gfSBmcm9tIFwiLi4vbGF5ZXJcIjtcbmltcG9ydCB7IENoYW5nZUhhbmRsZXIsIG9ic2VydmFibGUsIE9ic2VydmFibGUgfSBmcm9tIFwiLi4vdXRpbHNcIjtcbmltcG9ydCB7IERlY2tTdGF0ZSB9IGZyb20gXCIuL2RlY2tcIjtcbmltcG9ydCB7IFVuZG9hYmxlRWRpdG9yU3RhdGUgfSBmcm9tIFwiLi9lZGl0b3JcIjtcbmltcG9ydCB7IE1hcFN0YXRlIH0gZnJvbSBcIi4vbWFwXCI7XG5cbmV4cG9ydCBjbGFzcyBTdG9yZSBpbXBsZW1lbnRzIE9ic2VydmFibGUge1xuICB0aGVtZTogXCJrZXBsZXJcIiB8IFwibGlnaHRcIiA9IFwia2VwbGVyXCI7XG5cbiAgI2RlY2tnbCA9IG5ldyBEZWNrU3RhdGUoKTtcbiAgZ2V0IGRlY2tnbCgpIHtcbiAgICByZXR1cm4gdGhpcy4jZGVja2dsO1xuICB9XG5cbiAgc2V0IGRlY2tnbCh2YWx1ZSkge1xuICAgIHRoaXMuI2RlY2tnbCA9IG9ic2VydmFibGUobmV3IERlY2tTdGF0ZSh2YWx1ZSksIHRoaXMuI2VtaXRDaGFuZ2UpO1xuICB9XG5cbiAgI21hcGdsID0gbmV3IE1hcFN0YXRlKCk7XG4gIGdldCBtYXBnbCgpIHtcbiAgICByZXR1cm4gdGhpcy4jbWFwZ2w7XG4gIH1cblxuICBzZXQgbWFwZ2wodmFsdWUpIHtcbiAgICB0aGlzLiNtYXBnbCA9IG9ic2VydmFibGUobmV3IE1hcFN0YXRlKHZhbHVlKSwgdGhpcy4jZW1pdENoYW5nZSk7XG4gIH1cblxuICBsYXllcnM6IExheWVyUHJvcHNbXSA9IFtdO1xuICBsYXllclNlbGVjdG9yID0gZmFsc2U7XG4gIGxhenlMb2FkID0gZmFsc2U7XG5cbiAgI2VkaXRvcjogVW5kb2FibGVFZGl0b3JTdGF0ZSB8IG51bGwgPSBudWxsO1xuICBnZXQgZWRpdG9yKCkge1xuICAgIHJldHVybiB0aGlzLiNlZGl0b3I7XG4gIH1cblxuICBzZXQgZWRpdG9yKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHRoaXMuI2VkaXRvciA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh0aGlzLiNlZGl0b3IgPT0gbnVsbCkge1xuICAgICAgdGhpcy4jZWRpdG9yID0gb2JzZXJ2YWJsZShuZXcgVW5kb2FibGVFZGl0b3JTdGF0ZSh2YWx1ZSksIHRoaXMuI2VtaXRDaGFuZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNlZGl0b3Iuc2V0U3RhdGUodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlPzogQ2hhbmdlSGFuZGxlcjtcbiAgcmVhZG9ubHkgI2VtaXRDaGFuZ2UgPSAoKSA9PiB0aGlzLm9uQ2hhbmdlPy4oKTtcblxuICBjb25zdHJ1Y3RvcihzdGF0ZTogUGFydGlhbDxTdG9yZT4gPSB7fSwgb25DaGFuZ2U/OiBDaGFuZ2VIYW5kbGVyKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG5cbiAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib25DaGFuZ2VcIiwge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IG9uQ2hhbmdlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgfSk7XG5cbiAgICB0aGlzLnNldExheWVyVmlzaWJpbGl0eSA9IHRoaXMuc2V0TGF5ZXJWaXNpYmlsaXR5LmJpbmQodGhpcyk7XG5cbiAgICAvLyBvYnNlcnZlIGFsbCBwcm9wZXJ0aWVzXG4gICAgb2JzZXJ2YWJsZSh0aGlzLCB0aGlzLiNlbWl0Q2hhbmdlKTtcbiAgfVxuXG4gIHNldFN0YXRlKHsgZGVja2dsLCBtYXBnbCwgZWRpdG9yLCAuLi5zdGF0ZSB9OiBQYXJ0aWFsPFN0b3JlPiA9IHt9KSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIC8vIG1lcmdlIG9iamVjdHNcbiAgICAgIGRlY2tnbDogeyAuLi50aGlzLmRlY2tnbCwgLi4uZGVja2dsIH0sXG4gICAgICBtYXBnbDogeyAuLi50aGlzLm1hcGdsLCAuLi5tYXBnbCB9LFxuICAgIH0pO1xuXG4gICAgaWYgKGVkaXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0aGlzLmVkaXRvciA9IGVkaXRvciAhPSBudWxsID8geyAuLi50aGlzLmVkaXRvciwgLi4uZWRpdG9yIH0gOiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHVwc2VydExheWVyKGxheWVyOiBMYXllclByb3BzKTogdm9pZCB7XG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmxheWVycy5maW5kKCh4KSA9PiB4LmlkID09PSBsYXllci5pZCk7XG4gICAgLy8gYXBwZW5kIGlmIG5vdCBmb3VuZFxuICAgIGlmIChleGlzdGluZyA9PSBudWxsKSB7XG4gICAgICB0aGlzLmxheWVycyA9IFsuLi50aGlzLmxheWVycywgbGF5ZXJdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG1lcmdlIGV4aXN0aW5nXG4gICAgY29uc3QgbWVyZ2VkID0ge1xuICAgICAgLi4uZXhpc3RpbmcsXG4gICAgICAuLi5sYXllcixcbiAgICAgIC8vIGlmIHZpc2libGUgaXMgbnVsbCwgdXNlIGV4aXN0aW5nXG4gICAgICB2aXNpYmxlOiBsYXllci52aXNpYmxlID8/IGV4aXN0aW5nPy52aXNpYmxlLFxuICAgICAgLy8gaWYgZGF0YSBpcyBub3Qgc3VwcGxpZWQgLyBpcyBmYWxzZXkgZnJvbSBzaGlueSwgdXNlIGV4aXN0aW5nXG4gICAgICBkYXRhOiBsYXllci5kYXRhID8/IGV4aXN0aW5nPy5kYXRhID8/IG51bGwsXG4gICAgfTtcblxuICAgIC8vIHVwZGF0ZVxuICAgIHRoaXMubGF5ZXJzID0gdGhpcy5sYXllcnMubWFwKCh4KSA9PiAoeCA9PT0gZXhpc3RpbmcgPyBtZXJnZWQgOiB4KSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGxheWVycycgdmlzaWJpbGl0eS4gTGF5ZXJzIG5vdCBpbmNsdWRlZCBpbiB2aXNpYmlsaXR5IGFyZSB1bmFsdGVyZWQuXG4gICAqIEBwYXJhbSBsYXllcnNWaXNpYmlsaXR5IHRoZSBsYXllcnMgd2hvc2UgdmlzaWJpbGl0eSBpcyB0byBiZSBjaGFuZ2VkXG4gICAqL1xuICBzZXRMYXllclZpc2liaWxpdHkobGF5ZXJzVmlzaWJpbGl0eTogVmlzaWJpbGl0eUluZm9bXSk6IHZvaWQge1xuICAgIGlmIChsYXllcnNWaXNpYmlsaXR5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaXNNYXRjaCA9IChsYXllclZpc2libGl0eTogVmlzaWJpbGl0eUluZm8sIGxheWVyOiBMYXllclByb3BzKSA9PiB7XG4gICAgICBjb25zdCBuYW1lRXF1YWwgPSBsYXllclZpc2libGl0eS5uYW1lID09PSBsYXllci5uYW1lO1xuICAgICAgY29uc3QgZ3JvdXBFcXVhbCA9IGxheWVyVmlzaWJsaXR5Lmdyb3VwTmFtZSA9PT0gbGF5ZXIuZ3JvdXBOYW1lO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICAobmFtZUVxdWFsICYmIGdyb3VwRXF1YWwpIHx8XG4gICAgICAgIC8vIGFsbCBsYXllcnMgaW4gYSBncm91cFxuICAgICAgICAobGF5ZXJWaXNpYmxpdHkubmFtZSA9PSBudWxsICYmIGxheWVyVmlzaWJsaXR5Lmdyb3VwTmFtZSAhPSBudWxsICYmIGdyb3VwRXF1YWwpXG4gICAgICApO1xuICAgIH07XG5cbiAgICB0aGlzLmxheWVycyA9IHRoaXMubGF5ZXJzLm1hcCgobGF5ZXIpID0+IHtcbiAgICAgIGNvbnN0IHZpc2liaWxpdHkgPSBsYXllcnNWaXNpYmlsaXR5LmZpbmQoXG4gICAgICAgICh4KSA9PiBpc01hdGNoKHgsIGxheWVyKSAmJiB4LnZpc2libGUgIT09IGxheWVyLnZpc2libGVcbiAgICAgICk7XG4gICAgICByZXR1cm4gdmlzaWJpbGl0eSA/IHsgLi4ubGF5ZXIsIHZpc2libGU6IHZpc2liaWxpdHkudmlzaWJsZSB9IDogbGF5ZXI7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJvb3QsIFJvb3QgfSBmcm9tIFwicmVhY3QtZG9tL2NsaWVudFwiO1xuaW1wb3J0IHsgY3JlYXRlUmVmLCBTdHJpY3RNb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IFBpY2tJbmZvLCBWaWV3U3RhdGVDaGFuZ2VQYXJhbXMgfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBGZWF0dXJlQ29sbGVjdGlvbiB9IGZyb20gXCJnZW9qc29uXCI7XG5cbmltcG9ydCB7IFJEZWNrLCBSRGVja1JlZiB9IGZyb20gXCIuL3JkZWNrXCI7XG5pbXBvcnQgdHlwZSB7IExheWVyUHJvcHMsIFZpc2liaWxpdHlJbmZvIH0gZnJvbSBcIi4vbGF5ZXJcIjtcbmltcG9ydCB7IHBpY2sgfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBnZXRWaWV3U3RhdGUgfSBmcm9tIFwiLi92aWV3cG9ydFwiO1xuaW1wb3J0IHsgZ2V0UGlja2VkT2JqZWN0IH0gZnJvbSBcIi4vcGlja2luZ1wiO1xuaW1wb3J0IHsgU3RvcmUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xuaW1wb3J0IHsgRWRpdG9yUHJvcHMgfSBmcm9tIFwiLi9lZGl0b3JcIjtcbmltcG9ydCB7IGRvd25sb2FkIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIFdpZGdldCB7XG4gICNyb290OiBSb290O1xuICAjZWxlbWVudDogRWxlbWVudDtcbiAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2VsZW1lbnQ7XG4gIH1cblxuICAjcmRlY2tSZWYgPSBjcmVhdGVSZWY8UkRlY2tSZWY+KCk7XG5cbiAgI3N0YXRlOiBTdG9yZTtcbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLiNzdGF0ZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIHByb3BzOiBQYXJ0aWFsPFN0b3JlPikge1xuICAgIHRoaXMuI2VsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuI3Jvb3QgPSBjcmVhdGVSb290KGVsZW1lbnQpO1xuICAgIHRoaXMuI3N0YXRlID0gbmV3IFN0b3JlKHByb3BzLCAoKSA9PiB0aGlzLnJlbmRlcigpKTtcblxuICAgIC8vIEZJWE1FOiBtb3ZlIHRvIHNlcnZpY2VcbiAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7XG4gICAgICAvLyB1cGRhdGUgbGF5ZXJzXG4gICAgICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcihgJHtlbGVtZW50LmlkfTpsYXllcmAsIChsYXllcjogTGF5ZXJQcm9wcykgPT4ge1xuICAgICAgICAvLyBGSVhNRTogYmF0Y2ggdXBzZXJ0c1xuICAgICAgICB0aGlzLnN0YXRlLnVwc2VydExheWVyKGxheWVyKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyB1cGRhdGUgbWFwXG4gICAgICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcihgJHtlbGVtZW50LmlkfTpkZWNrYCwgKHN0YXRlOiBQYXJ0aWFsPFN0b3JlPikgPT4ge1xuICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXRlKHN0YXRlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgeyBkZWNrZ2wsIG1hcGdsLCBlZGl0b3I6IF9lZGl0b3IsIC4uLnByb3BzIH0gPSB0aGlzLiNzdGF0ZTtcblxuICAgIGRlY2tnbCA9IHtcbiAgICAgIC4uLmRlY2tnbCxcbiAgICAgIG9uQ2xpY2s6IHRoaXMuI2hhbmRsZUNsaWNrLFxuICAgICAgb25WaWV3U3RhdGVDaGFuZ2U6IHRoaXMuI2hhbmRsZVZpZXdTdGF0ZUNoYW5nZSxcbiAgICB9O1xuXG4gICAgbGV0IGVkaXRvcjogRWRpdG9yUHJvcHMgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoX2VkaXRvciAhPSBudWxsKSB7XG4gICAgICBlZGl0b3IgPSB7XG4gICAgICAgIC4uLl9lZGl0b3IsXG4gICAgICAgIGNhblVuZG86IF9lZGl0b3IuY2FuVW5kbyxcbiAgICAgICAgY2FuUmVkbzogX2VkaXRvci5jYW5SZWRvLFxuICAgICAgICBvblVwbG9hZDogKGdlb2pzb24pID0+IHtcbiAgICAgICAgICB0aGlzLiNoYW5kbGVVcGxvYWQoZ2VvanNvbik7XG4gICAgICAgICAgX2VkaXRvciEuc2V0TW9kZShcInZpZXdcIik7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIG92ZXJ3cml0dGVuXG4gICAgaWYgKGRlY2tnbC5pbml0aWFsQm91bmRzICE9IG51bGwpIHtcbiAgICAgIGRlbGV0ZSBkZWNrZ2wuaW5pdGlhbFZpZXdTdGF0ZTtcbiAgICB9XG5cbiAgICB0aGlzLiNyb290LnJlbmRlcihcbiAgICAgIDxTdHJpY3RNb2RlPlxuICAgICAgICA8UkRlY2tcbiAgICAgICAgICByZWY9e3RoaXMuI3JkZWNrUmVmfVxuICAgICAgICAgIHsuLi57XG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGRlY2tnbCxcbiAgICAgICAgICAgIG1hcGdsLFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgb25MYXllclZpc2liaWxpdHlDaGFuZ2U6IHRoaXMuc3RhdGUuc2V0TGF5ZXJWaXNpYmlsaXR5LFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L1N0cmljdE1vZGU+XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbGF5ZXJzJyB2aXNpYmlsaXR5LiBMYXllcnMgbm90IGluY2x1ZGVkIGluIHZpc2liaWxpdHkgYXJlIHVuYWx0ZXJlZC5cbiAgICogQHBhcmFtIGxheWVyc1Zpc2liaWxpdHkgdGhlIGxheWVycyB3aG9zZSB2aXNpYmlsaXR5IGlzIHRvIGJlIGNoYW5nZWRcbiAgICovXG4gIHNldExheWVyVmlzaWJpbGl0eShsYXllcnNWaXNpYmlsaXR5OiBWaXNpYmlsaXR5SW5mb1tdKSB7XG4gICAgcmV0dXJuIHRoaXMuI3N0YXRlLnNldExheWVyVmlzaWJpbGl0eShsYXllcnNWaXNpYmlsaXR5KTtcbiAgfVxuXG4gIGFzeW5jIHNuYXBzaG90KGZpbGVuYW1lID0gXCJyZGVjay5wbmdcIik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHJkZWNrID0gdGhpcy4jcmRlY2tSZWYuY3VycmVudDtcbiAgICBjb25zdCBpbWFnZSA9IGF3YWl0IHJkZWNrPy5nZXRJbWFnZSgpO1xuXG4gICAgaWYgKGltYWdlICE9IG51bGwpIGRvd25sb2FkKGltYWdlLCBmaWxlbmFtZSk7XG4gIH1cblxuICAvLyBGSVhNRTogbW92ZSB0byBzdG9yZVxuICAjaGFuZGxlQ2xpY2sgPSAoaW5mbzogUGlja0luZm88YW55PiwgZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLiNzdGF0ZS5kZWNrZ2wub25DbGljaz8uKGluZm8sIGV2ZW50KTtcbiAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBjb29yZGluYXRlOiBpbmZvLmNvb3JkaW5hdGUsXG4gICAgICAgIC4uLmdldFZpZXdTdGF0ZShpbmZvLnZpZXdwb3J0KSxcbiAgICAgICAgbGF5ZXI6IHBpY2soaW5mby5sYXllcj8ucHJvcHMsIFwiaWRcIiwgXCJuYW1lXCIsIFwiZ3JvdXBOYW1lXCIpLFxuICAgICAgICBvYmplY3Q6IGdldFBpY2tlZE9iamVjdChpbmZvKSxcbiAgICAgIH07XG5cbiAgICAgIFNoaW55LnNldElucHV0VmFsdWUoYCR7dGhpcy5lbGVtZW50LmlkfV9jbGlja2AsIGRhdGEsIHsgcHJpb3JpdHk6IFwiZXZlbnRcIiB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRklYTUU6IG1vdmUgdG8gc3RvcmVcbiAgI2hhbmRsZVZpZXdTdGF0ZUNoYW5nZSA9IChwYXJhbXM6IFZpZXdTdGF0ZUNoYW5nZVBhcmFtcyk6IHZvaWQgPT4ge1xuICAgIHRoaXMuI3N0YXRlLmRlY2tnbC5vblZpZXdTdGF0ZUNoYW5nZT8uKHBhcmFtcyk7XG4gICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSkge1xuICAgICAgY29uc3QgZGF0YSA9IGdldFZpZXdTdGF0ZShwYXJhbXMudmlld1N0YXRlKTtcblxuICAgICAgU2hpbnkuc2V0SW5wdXRWYWx1ZShgJHt0aGlzLmVsZW1lbnQuaWR9X3ZpZXdzdGF0ZWAsIGRhdGEsIHsgcHJpb3JpdHk6IFwiZXZlbnRcIiB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRklYTUU6IG1vdmUgdG8gc3RvcmVcbiAgI2hhbmRsZVVwbG9hZCA9IChnZW9qc29uOiBGZWF0dXJlQ29sbGVjdGlvbik6IHZvaWQgPT4ge1xuICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gcGFyc2UgdGhlIGpzb24gd2l0aCBnZW9qc29uc2ZcbiAgICAgIFNoaW55LnNldElucHV0VmFsdWUoYCR7dGhpcy5lbGVtZW50LmlkfV9lZGl0b3J1cGxvYWRgLCB7XG4gICAgICAgIGdlb2pzb246IEpTT04uc3RyaW5naWZ5KGdlb2pzb24pLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSBcIi4vd2lkZ2V0XCI7XG5cbmV4cG9ydCBjb25zdCBiaW5kaW5nOiBIVE1MV2lkZ2V0cy5CaW5kaW5nID0ge1xuICBuYW1lOiBcInJkZWNrXCIsXG4gIHR5cGU6IFwib3V0cHV0XCIsXG4gIGZhY3RvcnkoZWwsIF93aWR0aCwgX2hlaWdodCkge1xuICAgIGxldCBpbnN0YW5jZTogV2lkZ2V0IHwgbnVsbCA9IG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfSxcbiAgICAgIHJlbmRlclZhbHVlKHByb3BzOiBhbnkpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgV2lkZ2V0KGVsLCBwcm9wcyk7XG4gICAgICAgIGluc3RhbmNlLnJlbmRlcigpO1xuICAgICAgfSxcbiAgICAgIHJlc2l6ZSgpIHt9LFxuICAgIH0gYXMgY29uc3Q7XG4gIH0sXG59O1xuXG50eXBlIENvbnRhaW5lckVsZW1lbnQgPSBFbGVtZW50ICYge1xuICBodG1sd2lkZ2V0X2RhdGFfaW5pdF9yZXN1bHQ6IEhUTUxXaWRnZXRzLldpZGdldCAmIHsgaW5zdGFuY2U6IFdpZGdldCB8IG51bGwgfTtcbn07XG5cbi8qKlxuICogR2V0IGFuIHJkZWNrIHdpZGdldCBpbnN0YW5jZSBieSBpZFxuICogQHBhcmFtIGlkIHRoZSB3aWRnZXQgaWRcbiAqIEByZXR1cm5zIHtXaWRnZXR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaWRnZXRCeUlkKGlkOiBzdHJpbmcpOiBXaWRnZXQgfCBudWxsIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSBhcyBDb250YWluZXJFbGVtZW50IHwgbnVsbDtcbiAgcmV0dXJuIGVsZW1lbnQgJiYgZ2V0SW5zdGFuY2UoZWxlbWVudCk7XG59XG5cbi8qKlxuICogR2V0IGFsbCByZGVjayB3aWRnZXQgaW5zdGFuY2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaWRnZXRzKCk6IFdpZGdldFtdIHtcbiAgY29uc3QgZWxlbWVudHMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZGVjay5odG1sLXdpZGdldFwiKV0gYXMgQ29udGFpbmVyRWxlbWVudFtdO1xuICByZXR1cm4gZWxlbWVudHMubWFwKCh4KSA9PiBnZXRJbnN0YW5jZSh4KSkuZmlsdGVyKCh4KTogeCBpcyBXaWRnZXQgPT4gaXNXaWRnZXQoeCkpO1xufVxuXG5mdW5jdGlvbiBnZXRJbnN0YW5jZShlbGVtZW50OiBDb250YWluZXJFbGVtZW50KTogV2lkZ2V0IHwgbnVsbCB7XG4gIHJldHVybiBlbGVtZW50Py5odG1sd2lkZ2V0X2RhdGFfaW5pdF9yZXN1bHQ/Lmluc3RhbmNlO1xufVxuXG5mdW5jdGlvbiBpc1dpZGdldChvYmplY3Q6IHVua25vd24gfCBudWxsKTogb2JqZWN0IGlzIFdpZGdldCB7XG4gIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBXaWRnZXQ7XG59XG5cbi8qIHJlZ2lzdGVyIHdpZGdldCAqL1xuSFRNTFdpZGdldHMud2lkZ2V0KGJpbmRpbmcpO1xuIiwiaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5mcm9tLWVudHJpZXNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5nbG9iYWwtdGhpc1wiO1xuXG5kZWNsYXJlIGNvbnN0IF9fVkVSU0lPTl9fOiBzdHJpbmc7XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gX19WRVJTSU9OX187XG5leHBvcnQgKiBmcm9tIFwiLi9iaW5kaW5nXCI7XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRcIjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0NDcyOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtyZGVja1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtyZGVja1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzQ4Niw0NzQsNjE5LDMxNSw1NjgsMTc1LDk3Nyw2MjcsODExLDQyLDg5OSw2NjcsMzI0LDEzNCwxMzMsNDY4LDUzNSw3NDUsNzgzLDUyOCw3ODQsNDg1LDM3OCw2NDUsMzk0LDgxNiw2NTAsODY5LDcwNiw4MzYsNDU4LDc2OSw2Nyw4MDYsNTUxLDI4Miw5NTMsNTM4LDQ5LDg0NCw2MzksODI1LDU5Nl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDUxNzEpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsImRlZmVycmVkIiwibGVhZlByb3RvdHlwZXMiLCJnZXRQcm90byIsInBpY2siLCJvYmplY3QiLCJrZXlzIiwiZW50cmllcyIsIm1hcCIsImtleSIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZmluZFZpc2libGVBbmNlc3RvciIsImVsIiwiY2xpZW50SGVpZ2h0IiwicGFyZW50RWxlbWVudCIsImdldEVsZW1lbnRTaXplIiwidmlzaWJsZSIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJnZXRDb21wdXRlZFN0eWxlIiwibm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFzc2lnbiIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwic2l6ZSIsInJlbW92ZUNoaWxkIiwiZ3JvdXBCeSIsImxpc3QiLCJNYXAiLCJpdGVtIiwiaXRlbUtleSIsImhhcyIsImdldCIsInB1c2giLCJzZXQiLCJjbGFzc05hbWVzIiwiZmlsdGVyIiwieCIsImpvaW4iLCJNYXBDYWNoZSIsIldlYWtNYXAiLCJnZXRTdG9yZSIsInRoaXMiLCJfcmVmIiwiX3ZhbCIsInZhbHVlIiwibWVtb2l6ZSIsImZuIiwiYXJncyIsImFyZzAiLCJjYWNoZSIsInNsaWNlIiwicmVkdWNlUmlnaHQiLCJwYXJlbnQiLCJhcmciLCJjaGlsZCIsIkRlY2siLCJzZXRQcm9wcyIsInByb3BzIiwiaW5pdGlhbEJvdW5kcyIsImJvdW5kcyIsInByZXZCb3VuZHMiLCJldmVyeSIsImNvb3JkIiwiaW5kZXgiLCJ4bWluIiwieW1pbiIsInhtYXgiLCJ5bWF4IiwiTWF0aCIsIm1heCIsIm1pbiIsIl9zZXRDYW52YXNTaXplIiwiX2dldE1hcFNpemUiLCJpbml0aWFsVmlld1N0YXRlIiwiYmVhcmluZyIsInBpdGNoIiwic3VwZXIiLCJjYW52YXMiLCJjbG9zZXN0IiwiaXNEYXRhRnJhbWUiLCJkYXRhIiwiZmxhdHRlbiIsIm5hbWUiLCJ0eXBlIiwib2xkRnJhbWUiLCJmcmFtZSIsIm5ld0ZyYW1lIiwiZ2VvbWV0cmllcyIsImlzTXVsdGlHZW9tZXRyeSIsImlzTXVsdGlQb2ludCIsImlzTXVsdGlMaW5lU3RyaW5nIiwiaXNNdWx0aVBvbHlnb24iLCJUeXBlRXJyb3IiLCJpc011bHRpR2VvbWV0cnlGbiIsImNvcHlWYWx1ZXMiLCJpbmRpY2VzIiwibGVuZ3RoIiwiZ2VvbWV0cnkiLCJyZXAiLCJyZXBsYWNlIiwiQXJyYXkiLCJpc0FycmF5IiwiRkVBVFVSRV9JRCIsImdldFBpY2tlZE9iamVjdCIsImluZm8iLCJkYXRhVHlwZSIsInBpY2tlZCIsImxheWVyIiwiaXNHZW9qc29uIiwiZ2V0RGF0YVR5cGUiLCJnZXREYXRhIiwiXyIsImdlb21zIiwiY29sIiwiaW5jbHVkZXMiLCJpZCIsInByb3BlcnRpZXMiLCJhY2Nlc3NvckZuIiwiVG9vbHRpcCIsInRvb2x0aXAiLCJ5IiwibmFtZXMiLCJjb2xzIiwiY2xhc3NOYW1lIiwidHJhbnNmb3JtIiwiU3RyaW5nIiwiQkxFTkRJTkdfTU9ERVMiLCJmcmVlemUiLCJhZGRpdGl2ZSIsImJsZW5kRnVuYyIsImJsZW5kRXF1YXRpb24iLCJzdWJ0cmFjdGl2ZSIsIm5vcm1hbCIsImJsZW5kaW5nUGFyYW1ldGVycyIsIm1vZGUiLCJjb29yZHNMZW5ndGgiLCJjb29yZGluYXRlcyIsInBvbHlnb25Db29yZHNMZW5ndGgiLCJyZWR1Y2UiLCJjb3VudCIsInBvbHlnb24iLCJyaW5nIiwiTElHSFRfQkxVRSIsIk1VVEVEX0JMVUUiLCJMSU5FX0NPTE9SIiwiTVVURURfTElORV9DT0xPUiIsIkZJTExfQ09MT1IiLCJNVVRFRF9GSUxMX0NPTE9SIiwiVFJBTlNQQVJFTlQiLCJjcmVhdGVFZGl0YWJsZUxheWVyIiwiZ2VvanNvbiIsInNlbGVjdGVkRmVhdHVyZUluZGljZXMiLCJvblNldEdlb0pzb24iLCJvblNlbGVjdEZlYXR1cmVzIiwiRURJVE9SX01PREVTIiwidmlldyIsIm5lYnVsYU1vZGUiLCJpc0VkaXRpbmciLCJSRUFET05MWV9NT0RFUyIsIkVkaXRhYmxlR2VvSnNvbkxheWVyIiwic2VsZWN0ZWRGZWF0dXJlSW5kZXhlcyIsIm1vZGVDb25maWciLCJzY3JlZW5TcGFjZSIsInZpZXdwb3J0Iiwib25FZGl0IiwidXBkYXRlZERhdGEiLCJlZGl0VHlwZSIsImVkaXRDb250ZXh0IiwiVEVOVEFUSVZFX0VWRU5UUyIsInNlbGVjdGVkSW5kaWNlcyIsInJhbmdlcyIsIlVOU0FGRV9ESUZGX0VWRU5UUyIsImFzUmFuZ2UiLCJfX2RpZmYiLCJzZXRDaGFuZ2VGbGFncyIsImRhdGFDaGFuZ2VkIiwic2V0TmVlZHNVcGRhdGUiLCJFRElUX0VWRU5UUyIsImZlYXR1cmVJbmRleGVzIiwicGlja2FibGUiLCJwaWNraW5nTGluZVdpZHRoRXh0cmFQaXhlbHMiLCJwaWNraW5nRGVwdGgiLCJnZXRSYWRpdXMiLCJnZXRMaW5lV2lkdGgiLCJnZXRUZW50YXRpdmVMaW5lV2lkdGgiLCJsaW5lV2lkdGhTY2FsZSIsImdldEZpbGxDb2xvciIsImdldExpbmVDb2xvciIsImdldFRlbnRhdGl2ZUxpbmVDb2xvciIsImdldEVkaXRIYW5kbGVQb2ludE91dGxpbmVDb2xvciIsImdldFRlbnRhdGl2ZUZpbGxDb2xvciIsImdldEVkaXRIYW5kbGVQb2ludENvbG9yIiwiZ2V0RGFzaEFycmF5IiwiZXh0ZW5zaW9ucyIsImRhc2giLCJfc3ViTGF5ZXJQcm9wcyIsImRhdGFDb21wYXJhdG9yIiwiZmVhdHVyZXNFcXVhbCIsImd1aWRlcyIsIl9kYXRhRGlmZiIsImZlYXR1cmVzRGlmZiIsImZlYXR1cmUiLCJpc1NlbGVjdGVkIiwibmV3RGF0YSIsIm9sZERhdGEiLCJpcyIsImZlYXR1cmVzIiwic3RhcnRSb3ciLCJlbmRSb3ciLCJuZXdGZWF0dXJlcyIsIm9sZEZlYXR1cmVzIiwiZGlmZiIsImkiLCJuZXdGZWF0dXJlIiwib2xkRmVhdHVyZSIsIlNldCIsIm9uUG9pbnRlck1vdmUiLCJldmVudCIsInN0YXRlIiwibGFzdFBvaW50ZXJNb3ZlRXZlbnQiLCJnZXRBY3RpdmVNb2RlIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJnZXRNb2RlUHJvcHMiLCJ1cGRhdGVTdGF0ZSIsInBhcmFtcyIsImNoYW5nZUZsYWdzIiwicHJvcHNPckRhdGFDaGFuZ2VkIiwic2V0U3RhdGUiLCJ1cGRhdGVPYmplY3QiLCJtb2RpZnkiLCJjdXJzb3IiLCJTZWxlY3RNb2RlIiwiVmlld01vZGUiLCJpc1BpY2tlZCIsInBpY2tzIiwib25VcGRhdGVDdXJzb3IiLCJoYW5kbGVDbGljayIsImN1cnJlbnQiLCJzZWxlY3RlZEluZGV4ZXMiLCJzZWxlY3RlZCIsInN1cGVyc2V0Iiwic3Vic2V0IiwiZWxlbWVudCIsImlzU3VwZXJzZXQiLCJzZXRzIiwiZGVsZXRlIiwiZGlmZmVyZW5jZSIsImZsYXRNYXAiLCJ1bmlvbiIsInV0aWxzIiwic2VhbCIsInNlbGVjdCIsIk1vZGlmeU1vZGUiLCJUcmFuc2Zvcm1Nb2RlIiwibGluZXN0cmluZyIsIkRyYXdMaW5lU3RyaW5nTW9kZSIsInBvaW50IiwiRHJhd1BvaW50TW9kZSIsIkRyYXdQb2x5Z29uTW9kZSIsImxhc3NvIiwiRHJhd1BvbHlnb25CeURyYWdnaW5nTW9kZSIsImRvd25sb2FkIiwiYmxvYiIsImZpbGVuYW1lIiwiYmxvYlVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImhyZWYiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsImFzeW5jIiwiZ2V0RGVja2dsSW1hZ2VCaXRtYXAiLCJkZWNrIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbkFmdGVyUmVuZGVyIiwiZ2wiLCJjcmVhdGVJbWFnZUJpdG1hcCIsInJlZHJhdyIsImdldE1hcGJveEltYWdlQml0bWFwIiwibWFwYm94Iiwib25jZSIsInRhcmdldCIsImdldENhbnZhcyIsInRyaWdnZXJSZXBhaW50IiwiZ2V0SW1hZ2VEYXRhIiwiYml0bWFwIiwiY29udGV4dCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJnZXRDYW52YXNJbWFnZSIsImZvcndhcmRSZWYiLCJkZWNrZ2wiLCJtYXBnbCIsImxheWVycyIsImVkaXRvciIsInJlZiIsImRlY2tnbFJlZiIsInVzZVJlZiIsIm1hcGdsUmVmIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImltYWdlcyIsImFsbCIsImltYWdlIiwiY2xvc2UiLCJnZXRNYXBJbWFnZUJpdG1hcCIsImdldE1hcCIsImhhbmRsZUhvdmVyIiwidXNlSG92ZXIiLCJibGVuZGluZ01vZGUiLCJjb250cm9sbGVyIiwib25DbGljayIsImRlY2tQcm9wcyIsInBhcmFtZXRlcnMiLCJ0aW1lIiwic2V0VGltZSIsInVzZVN0YXRlIiwiYW5pbWF0aW5nIiwic29tZSIsInVzZUFuaW1hdGlvbiIsIl9sYXllcnMiLCJyZW5kZXJMYXllciIsImVkaXRhYmxlTGF5ZXIiLCJkb3VibGVDbGlja1pvb20iLCJGcmFnbWVudCIsIm9uSG92ZXIiLCJ1bmRlZmluZWQiLCJnZXRDdXJzb3IiLCJiaW5kIiwicmVwZWF0IiwibWFwU3R5bGUiLCJkaXNwbGF5TmFtZSIsInVzZUNhbGxiYWNrIiwiZW5hYmxlZCIsIm9uRnJhbWUiLCJhbmltYXRpb24iLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiYW5pbWF0ZSIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVzZUVmZmVjdCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiREVGQVVMVF9DT0xPUiIsInJnYmEiLCJyIiwiZyIsImIiLCJhIiwicGFyc2VDb2xvciIsImNvbG9yIiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJmbG9vciIsInBhcnNlSGV4Q29sb3IiLCJpc0FjY2Vzc29yIiwib2JqIiwiaXNBY2Nlc3NvclNjYWxlIiwiTXVsdGlIaWdobGlnaHRFeHRlbnNpb24iLCJpbml0aWFsaXplU3RhdGUiLCJMYXllcnMiLCJMYXllciIsImlzUHJpbWl0aXZlTGF5ZXIiLCJhdHRyaWJ1dGVNYW5hZ2VyIiwiZ2V0QXR0cmlidXRlTWFuYWdlciIsImFkZEluc3RhbmNlZCIsInBpY2tpbmdDb2xvcnMiLCJhY2Nlc3NvciIsImVuY29kZVBpY2tpbmdDb2xvciIsImluZGV4T2YiLCJwYXJlbnREYXRhIiwiX19zb3VyY2UiLCJzaGFkZXJBdHRyaWJ1dGVzIiwiZGl2aXNvciIsImluc3RhbmNlUGlja2luZ0NvbG9ycyIsIm11bHRpR2VvbWV0cmllcyIsInRlc3QiLCJnZXRNdWx0aUdlb21ldHJ5IiwidGFibGVIaWdobGlnaHQiLCJvYmplY3RIaWdobGlnaHQiLCJnZW9qc29uSGlnaGxpZ2h0IiwiZW5kc1dpdGgiLCJ0YWJsZUNvbG9yIiwib2JqZWN0Q29sb3IiLCJnZW9qc29uQ29sb3IiLCJ0YWJsZURhdGEiLCJvYmplY3REYXRhIiwiZ2VvanNvbkRhdGEiLCJyYW5nZSIsInBhbGV0dGUiLCJ1bmtub3duIiwic2NhbGVEYXRhIiwic2NhbGUiLCJkb21haW4iLCJjbGFtcCIsImV4cG9uZW50IiwiYmFzZSIsInNjYWxlRm4iLCJoaWdobGlnaHRGbiIsImNvbnN0cnVjdG9yIiwiY29sb3JzIiwiaXNDb2xvciIsImNvbG9yUmFuZ2UiLCJmaW5kIiwiZ2V0Q29sb3JzIiwiYWNjZXNzb3JzIiwiZ2V0QWNjZXNzb3JzIiwiX3Byb3BzIiwiZ2V0V2VpZ2h0UHJvcHMiLCJnZXRVcGRhdGVUcmlnZ2VycyIsInJlbmRlclN1YkxheWVycyIsImJib3giLCJ3ZXN0Iiwic291dGgiLCJlYXN0Iiwibm9ydGgiLCJ6IiwidGlsZSIsInNjYWxlcyIsImZvbnRzIiwibG9hZCIsImZvbnRGYW1pbHkiLCJzdGF0aWMiLCJsb29wTGVuZ3RoIiwiYW5pbWF0aW9uU3BlZWQiLCJhbmltYXRpb25UaW1lIiwicmF0aW9Db21wbGV0ZSIsImN1cnJlbnRUaW1lIiwicmVuZGVyTGVnZW5kIiwibGVnZW5kIiwicmVuZGVyU2VsZWN0b3IiLCJncm91cE5hbWUiLCJzY2FsZVByb3BzIiwicHJvcFRyaWdnZXJzIiwiTk9fR1JPVVAiLCJUb2dnbGVCdXR0b24iLCJjaGlsZHJlbiIsInRpdGxlIiwiTGF5ZXJTZWxlY3RvciIsIm9uVmlzaWJpbGl0eUNoYW5nZSIsImdyb3VwcyIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJjaGFuZ2VkIiwiZm9jdXMiLCJub25Gb2N1cyIsImlzT3BlbiIsInNldElzT3BlbiIsImhhbmRsZU9wZW5DaGFuZ2UiLCJmb250U2l6ZSIsImZyb20iLCJncm91cCIsIkNoZWNrYm94R3JvdXAiLCJvbkNoYW5nZSIsImNoZWNrYm94ZXMiLCJDaGVja2JveCIsImNoZWNrZWQiLCJpc1Zpc2libGUiLCJpbmRldGVybWluYXRlIiwiaW5wdXRSZWYiLCJjYW5jZWwiLCJDaGVja0JveEljb24iLCJDaGVja0JveCIsIkluZGV0ZXJtaW5hdGVDaGVja0JveCIsIkNoZWNrQm94T3V0bGluZUJsYW5rIiwiY2xhc3NlcyIsImRlbGF5Iiwib25UaW1lb3V0IiwicmFmIiwibG9vcCIsInRpbWVzdGFtcCIsImdsb2JhbFRoaXMiLCJUSUNLX0hFSUdIVCIsIkxlZ2VuZCIsIlNjYWxlIiwic2NhbGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpc0NvbnRpbnVvdXMiLCJpc0NvbnRpbnVvdXNTY2FsZSIsImlzRGlzY3JldGUiLCJpc0Rpc2NyZXRlU2NhbGUiLCJzY2FsZUJ5IiwiQ29udGludW91cyIsIkRpc2NyZXRlIiwiQ2F0ZWdvcnkiLCJ0aWNrcyIsImxpbmVzIiwiZ3JhZGllbnRIZWlnaHQiLCJzaGFwZVJlbmRlcmluZyIsImdldENvbG9yR3JhZGllbnQiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwieDIiLCJ5MSIsInkyIiwiVGlja3MiLCJmaWxsIiwidW5rbm93blRpY2siLCJfcmFuZ2UiLCJfdGlja3MiLCJ0aWNrIiwiZHkiLCJuIiwiaW52ZXJ0IiwiY29weSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwidG9EYXRhVVJMIiwibm9vcCIsIkVkaXRvclRvb2xib3giLCJvblNldE1vZGUiLCJvbkRvd25sb2FkIiwib25VcGxvYWQiLCJvbkRlbGV0ZVNlbGVjdGVkIiwiY2FuVW5kbyIsImNhblJlZG8iLCJvblVuZG8iLCJvblJlZG8iLCJhbnlTZWxlY3RlZCIsImFueUZlYXR1cmVzIiwiRWRpdG9yQnV0dG9uIiwiaWNvbiIsIlBhblRvb2wiLCJpY29uU3R5bGUiLCJhY3RpdmUiLCJUb3VjaEFwcCIsImRpc2FibGVkIiwiVHJhbnNmb3JtIiwiTG9jYXRpb25Pbk91dGxpbmVkIiwiRG93bmxvYWQiLCJVcGxvYWQiLCJEZWxldGUiLCJidXR0b25DbGFzcyIsIlN2Z0ljb24iLCJjb21wb25lbnQiLCJSRGVjayIsInRoZW1lIiwibGF6eUxvYWQiLCJsYXllclNlbGVjdG9yIiwib25MYXllclZpc2liaWxpdHlDaGFuZ2UiLCJtYXBSZWYiLCJnZXRJbWFnZSIsImNyZWF0ZSIsImNvbnRhaW5lciIsImluVmlld3BvcnQiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiaXNJbnRlcnNlY3RpbmciLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsInVzZUluVmlld3BvcnQiLCJzaG91bGRSZW5kZXIiLCJ2aXNpYmlsaXR5VG9nZ2xlIiwicmV2ZXJzZSIsImdldFZpZXdTdGF0ZSIsInZpZXdTdGF0ZSIsImdldEJvdW5kcyIsImNlbnRlciIsInVucHJvamVjdEZsYXQiLCJvYnNlcnZhYmxlIiwib3duRGVzY3JpcHRvcnMiLCJnZXREZXNjcmlwdG9ycyIsInByb3BlcnR5IiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lQWNjZXNzb3IiLCJ3cmFwU2V0dGVyIiwiZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGVEZXNjcmlwdG9ycyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJvblNldCIsIlJlZmxlY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIm5ld1ZhbHVlIiwiY2FsbCIsIkdMT0JFIiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJ6b29tIiwiRGVja1N0YXRlIiwiRU1QVFlfR0VPSlNPTiIsIlVuZG9hYmxlRWRpdG9yU3RhdGUiLCJzZXRNb2RlIiwiZmVhdHVyZUluZGljZXMiLCJzZWxlY3RGZWF0dXJlcyIsInNldEdlb0pzb24iLCJkZWxldGVTZWxlY3RlZCIsIkJsb2IiLCJKU09OIiwic3RyaW5naWZ5IiwidW5kbyIsInJlZG8iLCJjaGFuZ2UiLCJuZXdTdGF0ZSIsImhhc093blByb3BlcnR5IiwiZXF1YWwiLCJNYXBTdGF0ZSIsIlN0b3JlIiwiZW51bWVyYWJsZSIsInNldExheWVyVmlzaWJpbGl0eSIsInVwc2VydExheWVyIiwiZXhpc3RpbmciLCJtZXJnZWQiLCJsYXllcnNWaXNpYmlsaXR5IiwidmlzaWJpbGl0eSIsImxheWVyVmlzaWJsaXR5IiwibmFtZUVxdWFsIiwiZ3JvdXBFcXVhbCIsImlzTWF0Y2giLCJXaWRnZXQiLCJjcmVhdGVSZWYiLCJIVE1MV2lkZ2V0cyIsInNoaW55TW9kZSIsImNvb3JkaW5hdGUiLCJTaGlueSIsInNldElucHV0VmFsdWUiLCJwcmlvcml0eSIsIm9uVmlld1N0YXRlQ2hhbmdlIiwicmVuZGVyIiwiYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIiLCJfZWRpdG9yIiwiU3RyaWN0TW9kZSIsInJkZWNrIiwiYmluZGluZyIsIl93aWR0aCIsIl9oZWlnaHQiLCJpbnN0YW5jZSIsInJlbmRlclZhbHVlIiwicmVzaXplIiwiZ2V0V2lkZ2V0QnlJZCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0SW5zdGFuY2UiLCJnZXRXaWRnZXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImh0bWx3aWRnZXRfZGF0YV9pbml0X3Jlc3VsdCIsIndpZGdldCIsIlZFUlNJT04iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIk8iLCJyZXN1bHQiLCJjaHVua0lkcyIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiZnVsZmlsbGVkIiwiaiIsInNwbGljZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwidCIsInRoZW4iLCJucyIsImRlZiIsImdldE93blByb3BlcnR5TmFtZXMiLCJmb3JFYWNoIiwiZGVmaW5pdGlvbiIsIm8iLCJGdW5jdGlvbiIsImUiLCJwcm9wIiwicHJvdG90eXBlIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9