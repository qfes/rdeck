!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rdeck=t():e.rdeck=t()}(self,(function(){return(()=>{var e,t,n,r={8981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>wt,Widget:()=>vt,binding:()=>gt,getWidgetById:()=>bt,getWidgets:()=>jt});var r={};n.r(r),n.d(r,{AGGREGATION_OPERATION:()=>c.KM,ArcLayer:()=>l.zv,BitmapLayer:()=>l.hz,CPUGridLayer:()=>c.ab,ColumnLayer:()=>l.eJ,ContourLayer:()=>c.YY,GPUGridLayer:()=>c.ML,GeoJsonLayer:()=>l.UW,GreatCircleLayer:()=>u.GJ,GridCellLayer:()=>l.cJ,GridLayer:()=>c.mU,H3ClusterLayer:()=>u.cH,H3HexagonLayer:()=>u.bW,HeatmapLayer:()=>c.zP,HexagonLayer:()=>c.dX,IconLayer:()=>l.eE,LineLayer:()=>l.Ie,MVTLayer:()=>u.i3,PathLayer:()=>l.nr,PointCloudLayer:()=>l.U5,PolygonLayer:()=>l.dW,QuadkeyLayer:()=>u._k,S2Layer:()=>u.jJ,ScatterplotLayer:()=>l.pU,ScenegraphLayer:()=>d.S,ScreenGridLayer:()=>c.p3,SimpleMeshLayer:()=>d.L,SolidPolygonLayer:()=>l.PJ,TerrainLayer:()=>u.tr,TextLayer:()=>l.AB,Tile3DLayer:()=>u.cY,TileLayer:()=>u.Im,TripsLayer:()=>u.Fw,_AggregationLayer:()=>c.Di,_BinSorter:()=>c.l0,_CPUAggregator:()=>c.oA,_GPUGridAggregator:()=>c.Wc,_MultiIconLayer:()=>l.vb,_TextBackgroundLayer:()=>l._k,_getURLFromTemplate:()=>u.po});n(8559);var i=n(5893),o=n(3935),s=n(7294),a=n(6935),l=n(7786),c=n(9080),u=n(803),d=n(1956),p=n(5395);const h=[0,0,0,255];function f([e,t,n,r=255]){return`rgba(${e}, ${t}, ${n}, ${r/255})`}function y(e,t){return Array.isArray(e)?t||4!==e.length?((t=null!=t?t:[])[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=3===e.length?e[3]:255,t):e:"string"==typeof e?(function(e,t){if(7===e.length){const n=parseInt(e.substring(1),16);t[0]=Math.floor(n/65536),t[1]=Math.floor(n/256%256),t[2]=n%256,t[3]=255}else if(9===e.length){const n=parseInt(e.substring(1),16);t[0]=Math.floor(n/16777216),t[1]=Math.floor(n/65536%256),t[2]=Math.floor(n/256%256),t[3]=n%256}}(e,t=null!=t?t:[]),t):h}var m=n(4634),g=n(4177),v=n(458),b=n(5801),j=n(602),w=n(8973),x=n(2625);function L(e){return null!==e&&"object"==typeof e&&"accessor"===e.type}function k(e){return L(e)&&"scale"in e}var S=n(9757);const C=Object.freeze({additive:{[S.Z.BLEND]:!0,blendFunc:[S.Z.SRC_ALPHA,S.Z.DST_ALPHA],blendEquation:S.Z.FUNC_ADD},subtractive:{[S.Z.BLEND]:!0,blendFunc:[S.Z.ONE,S.Z.ONE_MINUS_DST_COLOR,S.Z.SRC_ALPHA,S.Z.DST_ALPHA],blendEquation:[S.Z.FUNC_SUBTRACT,S.Z.FUNC_ADD]},normal:{[S.Z.BLEND]:!0,blendFunc:[S.Z.SRC_ALPHA,S.Z.ONE_MINUS_SRC_ALPHA,S.Z.ONE,S.Z.ONE_MINUS_SRC_ALPHA],blendEquation:[S.Z.FUNC_ADD,S.Z.FUNC_ADD]}});function N(e="normal"){var t;return null!==(t=C[e])&&void 0!==t?t:C.normal}function _(e){return null!==e&&"object"==typeof e&&"frame"in e}function T(e,{name:t,type:n}){var r,i,o,s;const a=e.frame,l=Object.fromEntries(Object.entries(a).map((([e])=>[e,[]]))),c=Object.keys(e.frame).filter((e=>e!==t)),u=a[t],d=function(e){switch(e){case"MULTIPOINT":return A;case"MULTILINESTRING":return O;case"MULTIPOLYGON":return Z;default:throw TypeError(`${e} not supported`)}}(n),p=e=>{for(const t of c)l[t].push(a[t][e])},h=[];for(let n=0;n<e.length;n++){const a=u[n];if(d(a)){l[t].push(...a);for(let t=0;t<a.length;t++)p(n),h.push(null!==(i=null===(r=e.indices)||void 0===r?void 0:r[n])&&void 0!==i?i:n)}else l[t].push(a),p(n),h.push(null!==(s=null===(o=e.indices)||void 0===o?void 0:o[n])&&void 0!==s?s:n)}return{length:l[t].length,geometry:{...e.geometry,[t]:n.replace("MULTI","")},indices:h,frame:l}}function A(e){return Array.isArray(null==e?void 0:e[0])}function O(e){var t;return Array.isArray(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t[0])}function Z(e){var t,n;return Array.isArray(null===(n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t[0])||void 0===n?void 0:n[0])}var E=n(3693),M=n(4717),P=n(6867),H=n(3326),I=n(2112),D=n(7693),R=n(8569),G=n(1435);class U extends E.Z{initializeState(){if(!function(e){return z.some((t=>e instanceof t))}(this))return;const e=this,t=e.getAttributeManager();t&&t.addInstanced({pickingColors:{type:S.Z.UNSIGNED_BYTE,size:3,accessor:(t,{index:n,data:r,target:i})=>{var o,s,a;if(_(r)&&Array.isArray(r.indices))return e.encodePickingColor(r.indices.indexOf(r.indices[n]),i);const l=null===(s=null===(o=null==t?void 0:t.__source)||void 0===o?void 0:o.parent)||void 0===s?void 0:s.props.data;return _(l)&&Array.isArray(l.indices)?e.encodePickingColor(l.indices.indexOf(l.indices[t.__source.index]),i):e.encodePickingColor(null!==(a=null==t?void 0:t.__source.index)&&void 0!==a?a:n,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}}const z=[M.Z,P.Z,H.Z,I.Z,D.Z,R.Z,G.Z];function F(e,...t){if(null==e)return null;const n=t.map((t=>[t,e[t]]));return Object.fromEntries(n)}function V(e){return e.clientHeight>0&&e.clientHeight>0?e:e.parentElement?V(e.parentElement):null}function W(e){const t=V(e);if(e===t||null==t)return[e.clientWidth,e.clientHeight];const{width:n,height:r}=getComputedStyle(e),i=document.createElement("div");Object.assign(i.style,{width:n,height:r,display:"hidden"}),t.appendChild(i);const o=[i.clientWidth,i.clientHeight];return t.removeChild(i),o}function q(e,t){const n=new Map;for(const r of e){const e=t(r);n.has(e)?n.get(e).push(r):n.set(e,[r])}return n}function Y(...e){return e.filter((e=>null!=e)).join(" ")}function $(e,t=0){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout((()=>e(...r)),t)}}class B{constructor(){this._val=new Map,this._ref=new WeakMap}getStore(e){return"object"==typeof(t=e)&&null!==t||"function"==typeof t?this._ref:this._val;var t}has(e){return this.getStore(e).has(e)}get(e){return this.getStore(e).get(e)}set(e,t){return this.getStore(e).set(e,t),this}}function J(e){const t=new B;return(...n)=>{const r=n[0],i=n.slice(0,-1).reduceRight(((e,t)=>{if(e.has(t))return e.get(t);const n=new B;return e.set(t,n),n}),t);if(i.has(r))return i.get(r);const o=e(...n);return i.set(r,o),o}}const K=J((function(e){const t=function(e){return Object.entries(e.geometry).filter((([,e])=>/MULTI/.test(e))).map((([e,t])=>({name:e,type:t})))}(e);return 0===t.length?e:t.reduce(T,e)})),X=J(y),Q=J((function(e,t){const n=function({col:e,dataType:t},n){if("highlightColor"===n)switch(t){case"table":return function(e){return({index:t,layer:n})=>y(n.props.data.frame[e][t])}(e);case"object":return function(e){return({object:t})=>y(t[e])}(e);case"geojson":return function(e){return({object:t})=>y(t.properties[e])}(e);default:throw TypeError(`${t} not supported`)}if(n.endsWith("Color"))switch(t){case"table":return function(e){return(t,{index:n,data:r,target:i})=>y(r.frame[e][n],i)}(e);case"object":return function(e){return(t,{target:n})=>y(t[e],n)}(e);case"geojson":return function(e){return(t,{target:n})=>y(t.properties[e],n)}(e);default:throw TypeError(`${t} not supported`)}switch(t){case"table":return function(e){return(t,{index:n,data:r})=>r.frame[e][n]}(e);case"object":return function(e){return t=>t[e]}(e);case"geojson":return function(e){return t=>t.properties[e]}(e);default:throw TypeError(`${t} not supported`)}}(e,t);return{...e,getData:n}})),ee=J((function(e,t){"palette"in e&&(e.range=e.palette.map((e=>y(e))),e.unknown=y(e.unknown));const n=function(e){switch(e.scale){case"linear":return(0,m.Z)().domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"power":return(0,g.ZP)().exponent(e.exponent).domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"log":return(0,v.Z)().base(e.base).domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"symlog":return(0,b.Z)().domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"threshold":case"quantile":return(0,j.Z)().domain(e.domain).range(e.range).unknown(e.unknown);case"category":return(0,w.Z)().domain(e.domain).range(e.range).unknown(e.unknown);case"quantize":return(0,x.Z)().domain(e.domain).range(e.range).unknown(e.unknown);default:throw TypeError(`scale ${e.scale} not supported`)}}(e),r="highlightColor"===t?function({col:e,dataType:t},n){switch(t){case"table":return function(e,t){return({index:n,layer:r})=>t(r.props.data.frame[e][n])}(e,n);case"object":return function(e,t){return({object:n})=>t(n[e])}(e,n);case"geojson":return function(e,t){return({object:n})=>t(n.properties[e])}(e,n);default:throw TypeError(`${t} not supported`)}}(e,n):function({col:e,dataType:t},n){switch(t){case"table":return function(e,t){return(n,{index:r,data:i})=>t(i.frame[e][r])}(e,n);case"object":return function(e,t){return n=>t(n[e])}(e,n);case"geojson":return function(e,t){return n=>t(n.properties[e])}(e,n);default:throw TypeError(`${t} not supported`)}}(e,n);return{...e,name:t,getData:r,scaleData:n}}));class te{constructor({type:e,...t}){var n,r;const i=Object.entries(t),o=function(e){const t=e.filter(ne).map((([e,t])=>[e,X(t)])),n=e.find((([e])=>"colorRange"===e));n&&t.push([n[0],n[1].map((e=>X(e)))]);return t}(i),s=function(e){return e.filter((([,e])=>L(e))).map((([e,t])=>[e,k(t)?ee(t,e):Q(t,e)]))}(i);this.type=e;const a=Object.fromEntries([...i,...o,...s.map((([e,t])=>[e,t.getData])),...ie(i),["visible",null===(n=t.visible)||void 0===n||n],["updateTriggers",re(s)],["parameters",(l=t.parameters,c=t.blendingMode,{...l,...N(c)})]]);var l,c;_(a.data)&&(a.data=K(a.data),a.extensions=[new U,...null!==(r=a.extensions)&&void 0!==r?r:[]]),"TileLayer"===e&&(a.renderSubLayers=e=>{const{bbox:{west:t,south:n,east:r,north:i},x:o,y:s,z:a}=e.tile;return new p.Z({...e,data:[{z:a,x:o,y:s}],image:e.data,bounds:[t,n,r,i]})}),this.props=a,this.scales=s.filter((([,e])=>k(e))).map((([,e])=>e)),"TextLayer"===e&&"fonts"in document&&document.fonts.load(`16px ${t.fontFamily}`)}static create(e){return new te(e)}renderLayer(e){if("TripsLayer"===this.type&&void 0!==e){const t=this.props,{loopLength:n,animationSpeed:r}=t,i=n/r,o=e/1e3%i/i;t.currentTime=o*n}return new r[this.type]({...this.props})}renderLegend(){const e=this.scales.filter((e=>e.legend));return{id:this.props.id,name:this.props.name,scales:e}}renderSelector(){var e;return{id:this.props.id,groupName:this.props.groupName,name:this.props.name,visible:null===(e=this.props.visible)||void 0===e||e}}}function ne([e,t]){return e.endsWith("Color")&&(Array.isArray(t)||"string"==typeof t)}function re(e){const t=e=>{const{getData:t,scaleData:n,palette:r,...i}=e;return i},n=e.map((([e,n])=>[e,t(n)]));return Object.fromEntries(n)}function ie(e){return e.filter((([e])=>"getColorWeight"===e||"getElevationWeight"===e)).filter((([,e])=>null!==e&&"function"!=typeof e&&!L(e))).map((([e,t])=>[e,()=>t]))}n(6158);var oe=n(8202),se=n(2802),ae=n(17),le=n(3295);const ce=".feature_id";function ue(e,t=null){if(!e.picked)return null;null==t&&(t=function({object:e,layer:t}){return!_(t.props.data)||t instanceof le.Z?function(e){return"Feature"===(null==e?void 0:e.type)&&"geometry"in e&&"type"in e.geometry}(e)?"geojson":"object":"table"}(e));const n=function(e){switch(e){case"table":return(e,{index:t,data:n})=>{const r=Object.keys(n.geometry),i={};for(const[e,o]of Object.entries(n.frame))r.includes(e)||(i[e]=o[t]);return i};case"object":return e=>({...e});case"geojson":return e=>({[ce]:null==e?void 0:e.id,...null==e?void 0:e.properties});default:throw TypeError(`${e} not supported`)}}(t),{object:r,index:i}=e;return n(r,{index:i,data:e.layer.props.data})}const de="cyWLt4_G7nk5vT9hPr0o",pe="Z9hHHet2RXmL0iMel3Zt",he="jp658yEHLlesSRvwBwDl",fe="t9I8kJyjeEJEOArvMD7j",ye="vovHpTur01BROrMLmEFz";function me({info:e}){if(!e.picked||null==e.layer.props.tooltip)return null;const{x:t,y:n}=e,{name:r,tooltip:o}=e.layer.props,s=ue(e,o.dataType);delete s[ce];const a=!0===o.cols?Object.keys(s):o.cols;return(0,i.jsxs)("div",{className:de,style:{transform:`translate(${t}px, ${n}px)`},children:[(0,i.jsx)("div",{className:pe,children:r}),(0,i.jsx)("table",{className:he,children:(0,i.jsx)("tbody",{children:a.map((e=>{var t;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:fe,children:e}),(0,i.jsx)("td",{className:ye,children:String(null!==(t=s[e])&&void 0!==t?t:null)})]},e)}))})})]})}function ge({props:e,layers:t}){const n=(0,s.useRef)(null),[r,o]=ve(),{mapboxAccessToken:a,mapStyle:l,controller:c,parameters:u,blendingMode:d,...p}=e,h={...u,...N(d)},[f,y]=(0,s.useState)(0),m=t.some((e=>"TripsLayer"===e.type));be(m,(e=>y(e)));const g=t.map((e=>null!=e.type?e.renderLayer(f):null));return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(se.Z,{ref:n,...p,parameters:h,layers:g,onHover:o,children:(0,i.jsx)(oe.Z,{id:"map",controller:c,repeat:!0,children:l&&(0,i.jsx)(ae.D5,{reuseMaps:!0,mapboxAccessToken:a,mapStyle:l})})}),r&&(0,i.jsx)(me,{info:r})]})}const ve=()=>{const[e,t]=(0,s.useState)(null);return[e,(0,s.useCallback)((e=>{if(!e.picked||!e.layer.props.tooltip||e.layer instanceof le.Z)return t(null);t(e)}),[])]},be=(e,t)=>{const n=(0,s.useRef)(0),r=(0,s.useRef)(Date.now()),i=()=>{t(Date.now()-r.current),n.current=window.requestAnimationFrame(i)};(0,s.useEffect)((()=>{if(e)return n.current=window.requestAnimationFrame(i),()=>window.cancelAnimationFrame(n.current)}),[e])},je="dePkhbnJCOHYUAj_NSXj",we="UswwkaMDoib4ytc60Zn9",xe="ci5EIFzH7r10AG6BsqiG",Le="tc2iXBk_fR6q5GWWpo9m",ke="RYWzL7KGDYHIY2NHbF5X",Se="rn68pqskorQGGcY_sqUg",Ce="nYpzg_48IyHFet4DMSbT",Ne="hrbqGf9YJYCqN3_tMI1L",_e="Nq2XC5CmWGG2PSgH92Tr",Te="njcitPfCPlr7ohpeig92",Ae=16;function Oe({layers:e}){return 0===e.length?null:(0,i.jsx)("div",{className:je,children:e.map((e=>(0,i.jsx)(Ze,{...e},e.id)))})}function Ze({name:e,scales:t}){return 0===t.length?null:(0,i.jsxs)("div",{className:we,children:[(0,i.jsx)("div",{className:xe,title:e,children:e}),t.map((e=>(0,i.jsx)(Ee,{...e},e.name)))]})}function Ee(e){const t=e.name.replace(/^get/,"").replace(/([A-Z])/g," $1").toLowerCase();const n="palette"in e;const r=function(e){return"linear"===e.scale||"power"===e.scale||"log"===e.scale||"symlog"===e.scale}(e),o=function(e){return"threshold"===e.scale||"quantile"===e.scale||"quantize"===e.scale}(e);return(0,i.jsxs)("div",{className:Le,children:[(0,i.jsx)("div",{className:ke,children:t}),(0,i.jsx)("span",{className:Se,children:"by "}),(0,i.jsx)("span",{className:Ce,title:e.col,children:e.col}),n&&r&&(0,i.jsx)(Me,{...e}),n&&o&&(0,i.jsx)(Pe,{...e}),n&&"category"===e.scale&&(0,i.jsx)(He,{...e})]})}const Me=({ticks:e,scaleData:t})=>{const n=e.map(((e,t)=>t)).slice(1,-1),r=Ae*(e.length-1),o=r+11+1;return(0,i.jsxs)("svg",{className:Ne,height:o,shapeRendering:"crispEdges",children:[(0,i.jsxs)("svg",{y:5,children:[(0,i.jsx)("image",{width:20,height:r,href:De(t),preserveAspectRatio:"none"}),n.map((e=>(0,i.jsx)("line",{className:Te,x2:20,y1:Ae*e,y2:Ae*e},e)))]}),(0,i.jsx)(Ie,{ticks:e,y:-2})]})},Pe=({ticks:e,range:t})=>{const n=t.map(f),r=Ae*(e.length-1)+11+1;return(0,i.jsxs)("svg",{className:Ne,height:r,shapeRendering:"crispEdges",children:[(0,i.jsx)("svg",{y:5,children:n.map(((e,t)=>(0,i.jsx)("rect",{width:20,height:Ae,y:t*Ae,fill:e},t)))}),(0,i.jsx)(Ie,{ticks:e,y:-2})]})};function He({ticks:e,range:t,unknownTick:n,unknown:r}){const o=n?[...t,r]:t,s=n?[...e,n]:e,a=o.map(f),l=Ae*s.length;return(0,i.jsxs)("svg",{className:Ne,height:l,children:[(0,i.jsx)("svg",{children:a.map(((e,t)=>(0,i.jsx)("rect",{width:20,height:14,y:1+t*Ae,fill:e},t)))}),(0,i.jsx)(Ie,{ticks:s})]})}function Ie({ticks:e,x:t=28,y:n=0}){return(0,i.jsx)("svg",{x:t,y:n,children:e.map(((e,t)=>(0,i.jsx)("text",{className:_e,y:Ae*t,dy:11,children:String(e)},t)))})}function De(e,t=200){const n=e.range().length,r=[...Array(n).keys()].map((e=>e/(n-1))),i=e.copy().range(r).invert,o=document.createElement("canvas"),s=o.getContext("2d");o.width=1,o.height=t;for(let n=0;n<t;n++)s.fillStyle=f(e(i(n/t))),s.fillRect(0,n,1,1);return o.toDataURL()}const Re="rdeck",Ge="S9CJIVXVAK0I3CutdI6g",Ue="YdjmCX6zK6bSK2hf1f10",ze="UVOq5gxQhkpq8sCqRgI2";var Fe=n(6082),Ve=n(912),We=n(2372),qe=n(8426);const Ye="vuAOyD_5tWmY2RPHTuYY",$e="n6jppVxEBKOj1hSBYZ6_",Be="KQfHmYbZf5cmK9e6t3iK",Je="LZXYw_iUEePVNUQgV40h",Ke="DbzmP4_hJ6wY628cSZhG",Xe="xKDjjRbJSZxg0xyD0nAI",Qe="vLGippSuMIytgXuofCKd",et="fG18f7ZGepQ_2FcTrPlj",tt="mHkJXAoHRaJi5uTJ1HgN",nt="yEmldpPm5pY_q_QOaYBM",rt="s4NzyM8HmUyOUjhwFGTG",it=Date.now();function ot({className:e,tooltip:t,onClick:n,children:r}){return(0,i.jsx)("button",{className:e,type:"button",onClick:n,title:t,children:r})}function st({layers:e,onVisibilityChange:t}){const n=q(e,(e=>{var t;return null!==(t=e.groupName)&&void 0!==t?t:`${e.name}-${it}`})),r=(n,r,i)=>{if(i){const i=!e.filter((e=>!n.includes(e))).some((e=>e.visible));return t(e.map((e=>({...e,visible:n.includes(e)?r:i}))))}t(n.map((e=>({...e,visible:r}))))},[o,a]=(0,s.useState)(!1),l=()=>a((e=>!e));return o?(0,i.jsxs)("div",{className:$e,children:[(0,i.jsx)("div",{className:Be,children:(0,i.jsxs)(ot,{className:Je,onClick:l,tooltip:"Close",children:[(0,i.jsx)(Fe.Z,{className:rt,fontSize:"small"}),(0,i.jsx)("span",{className:Ke,children:"Layers"})]})}),(0,i.jsx)("div",{className:Xe,children:Array.from(n.entries(),(([e,t,[{groupName:n}]=t])=>(0,i.jsx)(at,{group:n,layers:t,onChange:r},e)))})]}):(0,i.jsx)(ot,{className:Ye,tooltip:"Layer selector",onClick:l,children:(0,i.jsx)(Fe.Z,{className:rt,fontSize:"small"})})}function at({group:e,layers:t,onChange:n}){const r=Array.from(q(t,(e=>e.name)),(([e,t])=>(0,i.jsx)(lt,{name:e,layers:t,onChange:n},e)));return e?(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(lt,{name:e,layers:t,onChange:n}),(0,i.jsx)("div",{className:Qe,children:r})]}):(0,i.jsx)(s.Fragment,{children:r})}function lt({name:e,layers:t,onChange:n}){const r=function(e){let t=e[0].visible;for(const n of e)if(n.visible!==t)return null;return t}(t),o=null===r,a=(0,s.useRef)(null);(0,s.useEffect)((()=>{a.current&&(a.current.indeterminate=o)}),[o]);const l=(0,s.useRef)((()=>!1)),c=r?Ve.Z:o?We.Z:qe.Z,u=Y(et,r||o?tt:null);return(0,i.jsxs)("label",{className:u,children:[(0,i.jsx)("input",{ref:a,className:nt,type:"checkbox",onChange:()=>{l.current()?n(t,!0,!0):l.current=ct((()=>n(t,!r,!1)),200)},checked:null==r||r}),(0,i.jsx)(c,{fontSize:"small",className:rt}),(0,i.jsx)("span",{className:Ke,children:e})]})}const ct=(e,t=200)=>{const n={current:0};let r=0;const i=o=>{if(r||(r=o),o-r>t)return n.current=0,void e();n.current=globalThis.requestAnimationFrame(i)};return n.current=globalThis.requestAnimationFrame(i),()=>0!==n.current&&(globalThis.cancelAnimationFrame(n.current),n.current=0,!0)};function ut({props:e,layers:t,theme:n,lazyLoad:r,layerSelector:o,onLayerVisibilityChange:l,width:c,height:u}){const{initialBounds:d,initialViewState:p,...h}=e,f=function(e,t,n,r){return(0,s.useMemo)((()=>{if(!Array.isArray(n))return r;const[i,o,s,l]=n,c=[[Math.max(-180,i),Math.max(o,-85.051129)],[Math.min(180,s),Math.min(l,85.051129)]],u=new a.Z({width:e,height:t}),{longitude:d,latitude:p,zoom:h}=u.fitBounds(c);return{...r,longitude:d,latitude:p,zoom:h}}),[n,r,e,t])}(c,u,d,p),y=t.map(te.create),m=(0,s.useRef)(null),g=function(e,t){const[n,r]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{if(t&&e.current){const t=new IntersectionObserver((e=>{r(e[0].isIntersecting)}),{threshold:0});return t.observe(e.current),()=>t.disconnect()}}),[t,e]),n}(m,r),v=!r||g;return(0,i.jsxs)("div",{ref:m,className:Y(Re,n),children:[(0,i.jsx)("div",{className:Y(Ge,Ue),children:o&&(0,i.jsx)(st,{layers:y.filter((e=>e.props.visibilityToggle)).map((e=>e.renderSelector())).reverse(),onVisibilityChange:l})}),v&&(0,i.jsx)(ge,{props:{...h,initialViewState:f},layers:y}),(0,i.jsx)("div",{className:Y(Ge,ze),children:(0,i.jsx)(Oe,{layers:y.filter((e=>e.props.visible)).map((e=>e.renderLegend())).reverse()})})]})}function dt(e){const t=e instanceof a.Z?e:new a.Z(e),n=F(t,"longitude","latitude","zoom","bearing","pitch","altitude");return{bounds:t.getBounds(),viewState:{...n,center:t.unprojectFlat(t.center)}}}var pt,ht,ft,yt=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},mt=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const gt={name:"rdeck",type:"output",factory:(e,t,n)=>(0!==t&&0!==n||([t,n]=W(e)),new vt(e,t,n))};class vt{constructor(e,t,n){if(pt.set(this,void 0),ht.set(this,void 0),ft.set(this,void 0),this.props={blendingMode:"normal"},this.layers=[],this.theme="kepler",this.layerSelector=!0,this.lazyLoad=!1,yt(this,pt,e,"f"),yt(this,ht,t,"f"),yt(this,ft,n,"f"),this.onClick=this.onClick.bind(this),this.onViewStateChange=this.onViewStateChange.bind(this),HTMLWidgets.shinyMode){const t=$(((e={})=>this.renderValue(e)),50);Shiny.addCustomMessageHandler(`${e.id}:layer`,(e=>{var n,r,i;const o=this.layers.find((t=>t.id===e.id)),s={...o,...e,visible:null!==(n=e.visible)&&void 0!==n?n:null==o?void 0:o.visible,data:null!==(i=null!==(r=e.data)&&void 0!==r?r:null==o?void 0:o.data)&&void 0!==i?i:null};this.layers=null==o?[...this.layers,s]:this.layers.map((e=>e===o?s:e)),t({layers:this.layers})})),Shiny.addCustomMessageHandler(`${e.id}:deck`,(({props:e,theme:t,lazyLoad:n})=>{this.renderValue({props:{...this.props,...e},theme:t,lazyLoad:n})}))}this.setLayerVisibility=this.setLayerVisibility.bind(this)}renderValue({props:e,layers:t,theme:n,layerSelector:r,lazyLoad:s}={}){const a={props:{...this.props,...e,onClick:this.onClick,onViewStateChange:$(this.onViewStateChange,50)},layers:null!=t?t:this.layers,theme:null!=n?n:this.theme,layerSelector:null!=r?r:this.layerSelector,lazyLoad:null!=s?s:this.lazyLoad};Object.assign(this,a),o.render((0,i.jsx)(ut,{...a,onLayerVisibilityChange:this.setLayerVisibility,width:mt(this,ht,"f"),height:mt(this,ft,"f")}),mt(this,pt,"f"))}resize(e,t){}get id(){return mt(this,pt,"f").id}setLayerVisibility(e){if(0===e.length)return;const t=this.layers.map((t=>{const n=e.find((e=>((e,t)=>{const n=e.name===t.name,r=e.groupName===t.groupName;return n&&r||null==e.name&&null!=e.groupName&&r})(e,t)&&e.visible!==t.visible));return n?{...t,visible:n.visible}:t}));this.renderValue({layers:t})}onClick(e){var t;if(HTMLWidgets.shinyMode){const n={coordinate:e.coordinate,...dt(e.viewport),layer:F(null===(t=e.layer)||void 0===t?void 0:t.props,"id","name","groupName"),object:ue(e)};Shiny.setInputValue(`${this.id}_click`,n,{priority:"event"})}}onViewStateChange({viewState:e}){if(HTMLWidgets.shinyMode){const t=dt(e);Shiny.setInputValue(`${this.id}_viewstate`,t,{priority:"event"})}}}function bt(e){var t;const n=document.getElementById(e);return null!==(t=null==n?void 0:n.htmlwidget_data_init_result)&&void 0!==t?t:null}function jt(){return[...document.querySelectorAll(".rdeck.html-widget")].map((e=>e.htmlwidget_data_init_result)).filter((e=>e instanceof vt))}pt=new WeakMap,ht=new WeakMap,ft=new WeakMap,HTMLWidgets.widget(gt);const wt="0.4.0-dev"},9521:()=>{},9125:()=>{},9214:()=>{}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,i)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var s={};t=t||[null,n({}),n([]),n(n)];for(var a=2&r&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,o.d(i,s),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={472:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[s,a,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(l)var u=l(o)}for(t&&t(n);c<s.length;c++)i=s[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self.webpackChunkrdeck=self.webpackChunkrdeck||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=o.O(void 0,[486,474,619,568,175,627,811,42,899,667,324,134,133,468,745,535,528,784,378,394,816,485,650,869,67,14,645,806,282,953,538,49,639,825,596],(()=>o(8981)));return s=o.O(s)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxHQUFnQyxJQUF4QjZPLEVBQWdCN08sS0FBYSxDQUN0RCxJQUFJME0sS0FBWXVDLEVBQ1p4QyxFQUFvQjBCLEVBQUVjLEVBQWF2QyxLQUNyQ0QsRUFBb0JLLEVBQUVKLEdBQVl1QyxFQUFZdkMsSUFHaEQsR0FBR3dDLEVBQVMsSUFBSWxDLEVBQVNrQyxFQUFRekMsR0FHbEMsSUFER3VDLEdBQTRCQSxFQUEyQjVaLEdBQ3JEc1EsRUFBSXVILEVBQVNuWixPQUFRNFIsSUFDekJvSixFQUFVN0IsRUFBU3ZILEdBQ2hCK0csRUFBb0IwQixFQUFFVSxFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBT3JDLEVBQW9CTSxFQUFFQyxJQUcxQm1DLEVBQXFCcGMsS0FBd0Isa0JBQUlBLEtBQXdCLG1CQUFLLEdBQ2xGb2MsRUFBbUJsQixRQUFRYyxFQUFxQmxFLEtBQUssS0FBTSxJQUMzRHNFLEVBQW1CMVksS0FBT3NZLEVBQXFCbEUsS0FBSyxLQUFNc0UsRUFBbUIxWSxLQUFLb1UsS0FBS3NFLEssR0M3Q3ZGLElBQUlDLEVBQXNCM0MsRUFBb0JNLE9BQUV2TixFQUFXLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxNQUFNLElBQU9pTixFQUFvQixRLE9BQ2pPMkMsRUFBc0IzQyxFQUFvQk0sRUFBRXFDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY3JlYXRlIGZha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvY29sb3IudHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2FjY2Vzc29yLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9zY2FsZS50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvYmxlbmRpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2RhdGEtZnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L211bHRpLWhpZ2hsaWdodC1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L3V0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2xheWVyLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9waWNraW5nLnRzIiwid2VicGFjazovLy8uL3dpZGdldC90b29sdGlwLmNzcz8xYzA2Iiwid2VicGFjazovLy8uL3dpZGdldC90b29sdGlwLnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvbWFwLnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvbGVnZW5kLmNzcz9mZGU2Iiwid2VicGFjazovLy8uL3dpZGdldC9sZWdlbmQudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC9hcHAuY3NzPzI3ODYiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2xheWVyLXNlbGVjdG9yLmNzcz9iYjNhIiwid2VicGFjazovLy8uL3dpZGdldC9sYXllci1zZWxlY3Rvci50c3giLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2FwcC50c3giLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L3ZpZXdwb3J0LnRzIiwid2VicGFjazovLy8uL3dpZGdldC93aWRnZXQudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC9pbmRleC50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wicmRlY2tcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wicmRlY2tcIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPyAob2JqKSA9PiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpIDogKG9iaikgPT4gKG9iai5fX3Byb3RvX18pO1xudmFyIGxlYWZQcm90b3R5cGVzO1xuLy8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLy8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vLyBtb2RlICYgMTY6IHJldHVybiB2YWx1ZSB3aGVuIGl0J3MgUHJvbWlzZS1saWtlXG4vLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuXHRpZihtb2RlICYgMSkgdmFsdWUgPSB0aGlzKHZhbHVlKTtcblx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcblx0aWYodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSkge1xuXHRcdGlmKChtb2RlICYgNCkgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuXHRcdGlmKChtb2RlICYgMTYpICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdmFsdWU7XG5cdH1cblx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcblx0dmFyIGRlZiA9IHt9O1xuXHRsZWFmUHJvdG90eXBlcyA9IGxlYWZQcm90b3R5cGVzIHx8IFtudWxsLCBnZXRQcm90byh7fSksIGdldFByb3RvKFtdKSwgZ2V0UHJvdG8oZ2V0UHJvdG8pXTtcblx0Zm9yKHZhciBjdXJyZW50ID0gbW9kZSAmIDIgJiYgdmFsdWU7IHR5cGVvZiBjdXJyZW50ID09ICdvYmplY3QnICYmICF+bGVhZlByb3RvdHlwZXMuaW5kZXhPZihjdXJyZW50KTsgY3VycmVudCA9IGdldFByb3RvKGN1cnJlbnQpKSB7XG5cdFx0T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3VycmVudCkuZm9yRWFjaCgoa2V5KSA9PiAoZGVmW2tleV0gPSAoKSA9PiAodmFsdWVba2V5XSkpKTtcblx0fVxuXHRkZWZbJ2RlZmF1bHQnXSA9ICgpID0+ICh2YWx1ZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChucywgZGVmKTtcblx0cmV0dXJuIG5zO1xufTsiLCJjb25zdCBERUZBVUxUX0NPTE9SOiBDb2xvciA9IFswLCAwLCAwLCAyNTVdO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNDb2xvclByb3AobmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBuYW1lLmVuZHNXaXRoKFwiQ29sb3JcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JhKFtyLCBnLCBiLCBhID0gMjU1XTogQ29sb3IpIHtcbiAgcmV0dXJuIGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YSAvIDI1NX0pYDtcbn1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3ViZXIvZGVjay5nbC9ibG9iL21hc3Rlci9tb2R1bGVzL2NvcmUvc3JjL3V0aWxzL2NvbG9yLmpzXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvcjogc3RyaW5nIHwgQ29sb3IsIHRhcmdldD86IENvbG9yKTogQ29sb3Ige1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2xvcikpIHtcbiAgICBpZiAoIXRhcmdldCAmJiBjb2xvci5sZW5ndGggPT09IDQpIHtcbiAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGFyZ2V0ID0gdGFyZ2V0ID8/IChbXSBhcyBDb2xvcik7XG4gICAgdGFyZ2V0WzBdID0gY29sb3JbMF07XG4gICAgdGFyZ2V0WzFdID0gY29sb3JbMV07XG4gICAgdGFyZ2V0WzJdID0gY29sb3JbMl07XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRhcmdldFszXSA9IGNvbG9yLmxlbmd0aCA9PT0gMyA/IGNvbG9yWzNdIDogMjU1O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRhcmdldCA9IHRhcmdldCA/PyAoW10gYXMgQ29sb3IpO1xuICAgIHBhcnNlSGV4Q29sb3IoY29sb3IsIHRhcmdldCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBERUZBVUxUX0NPTE9SO1xufVxuXG4vLyBQYXJzZSBhIGhleCBjb2xvclxuZnVuY3Rpb24gcGFyc2VIZXhDb2xvcihjb2xvcjogc3RyaW5nLCB0YXJnZXQ6IENvbG9yKSB7XG4gIGlmIChjb2xvci5sZW5ndGggPT09IDcpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygxKSwgMTYpO1xuICAgIHRhcmdldFswXSA9IE1hdGguZmxvb3IodmFsdWUgLyA2NTUzNik7XG4gICAgdGFyZ2V0WzFdID0gTWF0aC5mbG9vcigodmFsdWUgLyAyNTYpICUgMjU2KTtcbiAgICB0YXJnZXRbMl0gPSB2YWx1ZSAlIDI1NjtcbiAgICB0YXJnZXRbM10gPSAyNTU7XG4gIH0gZWxzZSBpZiAoY29sb3IubGVuZ3RoID09PSA5KSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMSksIDE2KTtcbiAgICB0YXJnZXRbMF0gPSBNYXRoLmZsb29yKHZhbHVlIC8gMTY3NzcyMTYpO1xuICAgIHRhcmdldFsxXSA9IE1hdGguZmxvb3IoKHZhbHVlIC8gNjU1MzYpICUgMjU2KTtcbiAgICB0YXJnZXRbMl0gPSBNYXRoLmZsb29yKCh2YWx1ZSAvIDI1NikgJSAyNTYpO1xuICAgIHRhcmdldFszXSA9IHZhbHVlICUgMjU2O1xuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IFBpY2tJbmZvLCBBY2Nlc3NvckZuIH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB0eXBlIHsgRmVhdHVyZSB9IGZyb20gXCJnZW9qc29uXCI7XG5pbXBvcnQgeyBwYXJzZUNvbG9yIH0gZnJvbSBcIi4vY29sb3JcIjtcblxudHlwZSBBY2Nlc3NvckJhc2UgPSB7XG4gIHR5cGU6IFwiYWNjZXNzb3JcIjtcbiAgY29sOiBzdHJpbmc7XG59O1xuXG50eXBlIEFjY2Vzc29yVGFibGUgPSBBY2Nlc3NvckJhc2UgJiB7XG4gIGRhdGFUeXBlOiBcInRhYmxlXCI7XG4gIGdldERhdGE6IEFjY2Vzc29yRm48RGF0YUZyYW1lLCBhbnk+O1xufTtcblxudHlwZSBBY2Nlc3Nvck9iamVjdCA9IEFjY2Vzc29yQmFzZSAmIHtcbiAgZGF0YVR5cGU6IFwib2JqZWN0XCI7XG4gIGdldERhdGE6IEFjY2Vzc29yRm48UmVjb3JkPHN0cmluZywgYW55PiwgYW55Pjtcbn07XG5cbnR5cGUgQWNjZXNzb3JHZW9Kc29uID0gQWNjZXNzb3JCYXNlICYge1xuICBkYXRhVHlwZTogXCJnZW9qc29uXCI7XG4gIGdldERhdGE6IEFjY2Vzc29yRm48RmVhdHVyZSwgYW55Pjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yID0gQWNjZXNzb3JUYWJsZSB8IEFjY2Vzc29yT2JqZWN0IHwgQWNjZXNzb3JHZW9Kc29uO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBY2Nlc3NvcihvYmo6IGFueSk6IG9iaiBpcyBBY2Nlc3NvciB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmoudHlwZSA9PT0gXCJhY2Nlc3NvclwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzb3Iob2JqOiBBY2Nlc3NvciwgbmFtZTogc3RyaW5nKTogQWNjZXNzb3Ige1xuICBjb25zdCBnZXREYXRhID0gYWNjZXNzb3JGbihvYmosIG5hbWUpIGFzIEFjY2Vzc29yRm48YW55LCBhbnk+O1xuICByZXR1cm4ge1xuICAgIC4uLm9iaixcbiAgICBnZXREYXRhLFxuICB9O1xufVxuXG5mdW5jdGlvbiBhY2Nlc3NvckZuKHsgY29sLCBkYXRhVHlwZSB9OiBBY2Nlc3NvciwgbmFtZTogc3RyaW5nKTogQWNjZXNzb3JGbjxhbnksIGFueT4ge1xuICBpZiAobmFtZSA9PT0gXCJoaWdobGlnaHRDb2xvclwiKSB7XG4gICAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgIHJldHVybiB0YWJsZUhpZ2hsaWdodChjb2wpO1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICByZXR1cm4gb2JqZWN0SGlnaGxpZ2h0KGNvbCk7XG4gICAgICBjYXNlIFwiZ2VvanNvblwiOlxuICAgICAgICByZXR1cm4gZ2VvanNvbkhpZ2hsaWdodChjb2wpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKGAke2RhdGFUeXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG5hbWUuZW5kc1dpdGgoXCJDb2xvclwiKSkge1xuICAgIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICByZXR1cm4gdGFibGVDb2xvcihjb2wpO1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICByZXR1cm4gb2JqZWN0Q29sb3IoY29sKTtcbiAgICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICAgIHJldHVybiBnZW9qc29uQ29sb3IoY29sKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihgJHtkYXRhVHlwZX0gbm90IHN1cHBvcnRlZGApO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgIHJldHVybiB0YWJsZURhdGEoY29sKTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICByZXR1cm4gb2JqZWN0RGF0YShjb2wpO1xuICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICByZXR1cm4gZ2VvanNvbkRhdGEoY29sKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgVHlwZUVycm9yKGAke2RhdGFUeXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGFibGVEYXRhKGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxEYXRhRnJhbWUsIGFueT4ge1xuICByZXR1cm4gKF8sIHsgaW5kZXgsIGRhdGEgfSkgPT4gZGF0YS5mcmFtZVtjb2xdW2luZGV4XTtcbn1cblxuZnVuY3Rpb24gdGFibGVDb2xvcihjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48RGF0YUZyYW1lLCBDb2xvcj4ge1xuICByZXR1cm4gKF8sIHsgaW5kZXgsIGRhdGEsIHRhcmdldCB9KSA9PiBwYXJzZUNvbG9yKGRhdGEuZnJhbWVbY29sXVtpbmRleF0sIHRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIHRhYmxlSGlnaGxpZ2h0KGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxQaWNrSW5mbzxudWxsPiwgQ29sb3I+IHtcbiAgcmV0dXJuICh7IGluZGV4LCBsYXllciB9KSA9PlxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwYXJzZUNvbG9yKGxheWVyLnByb3BzLmRhdGEhLmZyYW1lW2NvbF1baW5kZXhdKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0RGF0YShjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48UmVjb3JkPHN0cmluZywgYW55PiwgYW55PiB7XG4gIHJldHVybiAob2JqZWN0KSA9PiBvYmplY3RbY29sXTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0Q29sb3IoY29sOiBzdHJpbmcpOiBBY2Nlc3NvckZuPFJlY29yZDxzdHJpbmcsIGFueT4sIENvbG9yPiB7XG4gIHJldHVybiAob2JqZWN0LCB7IHRhcmdldCB9KSA9PiBwYXJzZUNvbG9yKG9iamVjdFtjb2xdLCB0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiBvYmplY3RIaWdobGlnaHQoY29sOiBzdHJpbmcpOiBBY2Nlc3NvckZuPFBpY2tJbmZvPFJlY29yZDxzdHJpbmcsIGFueT4+LCBDb2xvcj4ge1xuICByZXR1cm4gKHsgb2JqZWN0IH0pID0+IHBhcnNlQ29sb3Iob2JqZWN0W2NvbF0pO1xufVxuXG5mdW5jdGlvbiBnZW9qc29uRGF0YShjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48RmVhdHVyZSwgYW55PiB7XG4gIHJldHVybiAob2JqZWN0KSA9PiBvYmplY3QucHJvcGVydGllcyFbY29sXTtcbn1cblxuZnVuY3Rpb24gZ2VvanNvbkNvbG9yKGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxGZWF0dXJlLCBDb2xvcj4ge1xuICByZXR1cm4gKG9iamVjdCwgeyB0YXJnZXQgfSkgPT4gcGFyc2VDb2xvcihvYmplY3QucHJvcGVydGllcyFbY29sXSwgdGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gZ2VvanNvbkhpZ2hsaWdodChjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48UGlja0luZm88RmVhdHVyZT4sIENvbG9yPiB7XG4gIHJldHVybiAoeyBvYmplY3QgfSkgPT4gcGFyc2VDb2xvcihvYmplY3QucHJvcGVydGllcyFbY29sXSk7XG59XG4iLCJpbXBvcnQge1xuICBzY2FsZUxpbmVhcixcbiAgU2NhbGVMaW5lYXIsXG4gIHNjYWxlTG9nLFxuICBTY2FsZUxvZ2FyaXRobWljLFxuICBzY2FsZU9yZGluYWwsXG4gIFNjYWxlT3JkaW5hbCxcbiAgc2NhbGVQb3csXG4gIFNjYWxlUG93ZXIsXG4gIHNjYWxlUXVhbnRpemUsXG4gIFNjYWxlUXVhbnRpemUsXG4gIFNjYWxlVGhyZXNob2xkLFxuICBzY2FsZVRocmVzaG9sZCxcbiAgU2NhbGVTeW1Mb2csXG4gIHNjYWxlU3ltbG9nLFxufSBmcm9tIFwiZDMtc2NhbGVcIjtcbmltcG9ydCB0eXBlIHsgUGlja0luZm8sIEFjY2Vzc29yRm4gfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBGZWF0dXJlIH0gZnJvbSBcImdlb2pzb25cIjtcbmltcG9ydCB7IEFjY2Vzc29yLCBpc0FjY2Vzc29yIH0gZnJvbSBcIi4vYWNjZXNzb3JcIjtcbmltcG9ydCB7IHBhcnNlQ29sb3IgfSBmcm9tIFwiLi9jb2xvclwiO1xuXG50eXBlIFNjYWxlRm4gPSAoZGF0YTogYW55KSA9PiBudW1iZXIgfCBDb2xvcjtcblxudHlwZSBBY2Nlc3NvclNjYWxlQmFzZTxSYW5nZT4gPSBBY2Nlc3NvciAmIHtcbiAgbmFtZTogc3RyaW5nO1xuICBkb21haW46IG51bWJlcltdO1xuICByYW5nZTogUmFuZ2VbXTtcbiAgcGFsZXR0ZT86IENvbG9yW107XG4gIHVua25vd246IFJhbmdlO1xuICBsZWdlbmQ6IGJvb2xlYW47XG4gIHRpY2tzOiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVMaW5lYXI8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJsaW5lYXJcIjtcbiAgc2NhbGVEYXRhOiBTY2FsZUxpbmVhcjxSYW5nZSwgUmFuZ2U+O1xufTtcblxuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZVBvd2VyPFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwicG93ZXJcIjtcbiAgZXhwb25lbnQ6IG51bWJlcjtcbiAgc2NhbGVEYXRhOiBTY2FsZVBvd2VyPFJhbmdlLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlTG9nPFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwibG9nXCI7XG4gIGJhc2U6IG51bWJlcjtcbiAgc2NhbGVEYXRhOiBTY2FsZUxvZ2FyaXRobWljPFJhbmdlLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlU3ltbG9nPFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwic3ltbG9nXCI7XG4gIHNjYWxlRGF0YTogU2NhbGVTeW1Mb2c8UmFuZ2UsIFJhbmdlPjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVUaHJlc2hvbGQ8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJ0aHJlc2hvbGRcIjtcbiAgc2NhbGVEYXRhOiBTY2FsZVRocmVzaG9sZDxudW1iZXIsIFJhbmdlPjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVRdWFudGlsZTxSYW5nZT4gPSBBY2Nlc3NvclNjYWxlQmFzZTxSYW5nZT4gJiB7XG4gIHNjYWxlOiBcInF1YW50aWxlXCI7XG4gIHNjYWxlRGF0YTogU2NhbGVUaHJlc2hvbGQ8bnVtYmVyLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnk8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJjYXRlZ29yeVwiO1xuICBkb21haW46IHN0cmluZ1tdO1xuICB1bmtub3duVGljazogc3RyaW5nIHwgbnVsbDtcbiAgc2NhbGVEYXRhOiBTY2FsZU9yZGluYWw8c3RyaW5nLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlUXVhbnRpemU8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJxdWFudGl6ZVwiO1xuICBkb21haW46IFtudW1iZXIsIG51bWJlcl07XG4gIHNjYWxlRGF0YTogU2NhbGVRdWFudGl6ZTxSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlQ29udGludW91czxSYW5nZT4gPVxuICB8IEFjY2Vzc29yU2NhbGVMaW5lYXI8UmFuZ2U+XG4gIHwgQWNjZXNzb3JTY2FsZVBvd2VyPFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVMb2c8UmFuZ2U+XG4gIHwgQWNjZXNzb3JTY2FsZVN5bWxvZzxSYW5nZT47XG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlRGlzY3JldGU8UmFuZ2U+ID1cbiAgfCBBY2Nlc3NvclNjYWxlVGhyZXNob2xkPFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVRdWFudGlsZTxSYW5nZT5cbiAgfCBBY2Nlc3NvclNjYWxlUXVhbnRpemU8UmFuZ2U+O1xuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZTxSYW5nZT4gPVxuICB8IEFjY2Vzc29yU2NhbGVDb250aW51b3VzPFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVEaXNjcmV0ZTxSYW5nZT5cbiAgfCBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnk8UmFuZ2U+O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBY2Nlc3NvclNjYWxlKG9iajogYW55KTogb2JqIGlzIEFjY2Vzc29yU2NhbGU8bnVtYmVyIHwgQ29sb3I+IHtcbiAgcmV0dXJuIGlzQWNjZXNzb3Iob2JqKSAmJiBcInNjYWxlXCIgaW4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb2xvclNjYWxlKG9iajogQWNjZXNzb3JTY2FsZTxudW1iZXIgfCBDb2xvcj4pOiBvYmogaXMgQWNjZXNzb3JTY2FsZTxDb2xvcj4ge1xuICByZXR1cm4gXCJwYWxldHRlXCIgaW4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb250aW51b3VzU2NhbGU8VD4ob2JqOiBBY2Nlc3NvclNjYWxlPFQ+KTogb2JqIGlzIEFjY2Vzc29yU2NhbGVDb250aW51b3VzPFQ+IHtcbiAgcmV0dXJuIChcbiAgICBvYmouc2NhbGUgPT09IFwibGluZWFyXCIgfHwgb2JqLnNjYWxlID09PSBcInBvd2VyXCIgfHwgb2JqLnNjYWxlID09PSBcImxvZ1wiIHx8IG9iai5zY2FsZSA9PT0gXCJzeW1sb2dcIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEaXNjcmV0ZVNjYWxlPFQ+KG9iajogQWNjZXNzb3JTY2FsZTxUPik6IG9iaiBpcyBBY2Nlc3NvclNjYWxlRGlzY3JldGU8VD4ge1xuICByZXR1cm4gb2JqLnNjYWxlID09PSBcInRocmVzaG9sZFwiIHx8IG9iai5zY2FsZSA9PT0gXCJxdWFudGlsZVwiIHx8IG9iai5zY2FsZSA9PT0gXCJxdWFudGl6ZVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzb3JTY2FsZShcbiAgb2JqOiBBY2Nlc3NvclNjYWxlPG51bWJlciB8IENvbG9yPixcbiAgbmFtZTogc3RyaW5nXG4pOiBBY2Nlc3NvclNjYWxlPG51bWJlciB8IENvbG9yPiB7XG4gIGlmIChcInBhbGV0dGVcIiBpbiBvYmopIHtcbiAgICBvYmoucmFuZ2UgPSBvYmoucGFsZXR0ZSEubWFwKChjb2xvcikgPT4gcGFyc2VDb2xvcihjb2xvcikpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBvYmoudW5rbm93biA9IHBhcnNlQ29sb3Iob2JqLnVua25vd24pO1xuICB9XG5cbiAgY29uc3Qgc2NhbGVEYXRhID0gc2NhbGVGbihvYmopIGFzIGFueTtcbiAgY29uc3QgZ2V0RGF0YTogQWNjZXNzb3JGbjxhbnksIGFueT4gPVxuICAgIG5hbWUgPT09IFwiaGlnaGxpZ2h0Q29sb3JcIiA/IGhpZ2hsaWdodEZuKG9iaiwgc2NhbGVEYXRhKSA6IGFjY2Vzc29yRm4ob2JqLCBzY2FsZURhdGEpO1xuXG4gIHJldHVybiB7XG4gICAgLi4ub2JqLFxuICAgIG5hbWUsXG4gICAgZ2V0RGF0YSxcbiAgICBzY2FsZURhdGEsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNjYWxlRm4oYWNjZXNzb3I6IEFjY2Vzc29yU2NhbGU8YW55Pikge1xuICB0eXBlIFQgPSBudW1iZXIgfCBDb2xvcjtcblxuICBzd2l0Y2ggKGFjY2Vzc29yLnNjYWxlKSB7XG4gICAgY2FzZSBcImxpbmVhclwiOlxuICAgICAgcmV0dXJuIHNjYWxlTGluZWFyPFQ+KClcbiAgICAgICAgLmRvbWFpbihhY2Nlc3Nvci5kb21haW4pXG4gICAgICAgIC5yYW5nZShhY2Nlc3Nvci5yYW5nZSlcbiAgICAgICAgLnVua25vd24oYWNjZXNzb3IudW5rbm93bilcbiAgICAgICAgLmNsYW1wKHRydWUpO1xuICAgIGNhc2UgXCJwb3dlclwiOlxuICAgICAgcmV0dXJuIHNjYWxlUG93PFQ+KClcbiAgICAgICAgLmV4cG9uZW50KGFjY2Vzc29yLmV4cG9uZW50KVxuICAgICAgICAuZG9tYWluKGFjY2Vzc29yLmRvbWFpbilcbiAgICAgICAgLnJhbmdlKGFjY2Vzc29yLnJhbmdlKVxuICAgICAgICAudW5rbm93bihhY2Nlc3Nvci51bmtub3duKVxuICAgICAgICAuY2xhbXAodHJ1ZSk7XG4gICAgY2FzZSBcImxvZ1wiOlxuICAgICAgcmV0dXJuIHNjYWxlTG9nPFQ+KClcbiAgICAgICAgLmJhc2UoYWNjZXNzb3IuYmFzZSlcbiAgICAgICAgLmRvbWFpbihhY2Nlc3Nvci5kb21haW4pXG4gICAgICAgIC5yYW5nZShhY2Nlc3Nvci5yYW5nZSlcbiAgICAgICAgLnVua25vd24oYWNjZXNzb3IudW5rbm93bilcbiAgICAgICAgLmNsYW1wKHRydWUpO1xuICAgIGNhc2UgXCJzeW1sb2dcIjpcbiAgICAgIHJldHVybiBzY2FsZVN5bWxvZzxUPigpXG4gICAgICAgIC5kb21haW4oYWNjZXNzb3IuZG9tYWluKVxuICAgICAgICAucmFuZ2UoYWNjZXNzb3IucmFuZ2UpXG4gICAgICAgIC51bmtub3duKGFjY2Vzc29yLnVua25vd24pXG4gICAgICAgIC5jbGFtcCh0cnVlKTtcbiAgICBjYXNlIFwidGhyZXNob2xkXCI6XG4gICAgY2FzZSBcInF1YW50aWxlXCI6XG4gICAgICByZXR1cm4gc2NhbGVUaHJlc2hvbGQ8bnVtYmVyLCBUPigpXG4gICAgICAgIC5kb21haW4oYWNjZXNzb3IuZG9tYWluKVxuICAgICAgICAucmFuZ2UoYWNjZXNzb3IucmFuZ2UpXG4gICAgICAgIC51bmtub3duKGFjY2Vzc29yLnVua25vd24pO1xuICAgIGNhc2UgXCJjYXRlZ29yeVwiOlxuICAgICAgcmV0dXJuIHNjYWxlT3JkaW5hbDxUPigpXG4gICAgICAgIC5kb21haW4oYWNjZXNzb3IuZG9tYWluKVxuICAgICAgICAucmFuZ2UoYWNjZXNzb3IucmFuZ2UpXG4gICAgICAgIC51bmtub3duKGFjY2Vzc29yLnVua25vd24pO1xuICAgIGNhc2UgXCJxdWFudGl6ZVwiOlxuICAgICAgcmV0dXJuIHNjYWxlUXVhbnRpemU8VD4oKVxuICAgICAgICAuZG9tYWluKGFjY2Vzc29yLmRvbWFpbilcbiAgICAgICAgLnJhbmdlKGFjY2Vzc29yLnJhbmdlKVxuICAgICAgICAudW5rbm93bihhY2Nlc3Nvci51bmtub3duKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgVHlwZUVycm9yKGBzY2FsZSAkeyhhY2Nlc3NvciBhcyBhbnkpLnNjYWxlfSBub3Qgc3VwcG9ydGVkYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWNjZXNzb3JGbih7IGNvbCwgZGF0YVR5cGUgfTogQWNjZXNzb3IsIHNjYWxlRGF0YTogU2NhbGVGbik6IEFjY2Vzc29yRm48YW55LCBhbnk+IHtcbiAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgcmV0dXJuIHRhYmxlRGF0YShjb2wsIHNjYWxlRGF0YSk7XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgcmV0dXJuIG9iamVjdERhdGEoY29sLCBzY2FsZURhdGEpO1xuICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICByZXR1cm4gZ2VvanNvbkRhdGEoY29sLCBzY2FsZURhdGEpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoYCR7ZGF0YVR5cGV9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoaWdobGlnaHRGbih7IGNvbCwgZGF0YVR5cGUgfTogQWNjZXNzb3IsIHNjYWxlRGF0YTogU2NhbGVGbik6IEFjY2Vzc29yRm48YW55LCBhbnk+IHtcbiAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgcmV0dXJuIHRhYmxlSGlnaGxpZ2h0KGNvbCwgc2NhbGVEYXRhKTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICByZXR1cm4gb2JqZWN0SGlnaGxpZ2h0KGNvbCwgc2NhbGVEYXRhKTtcbiAgICBjYXNlIFwiZ2VvanNvblwiOlxuICAgICAgcmV0dXJuIGdlb2pzb25IaWdobGlnaHQoY29sLCBzY2FsZURhdGEpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoYCR7ZGF0YVR5cGV9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0YWJsZURhdGEoY29sOiBzdHJpbmcsIHNjYWxlRGF0YTogU2NhbGVGbik6IEFjY2Vzc29yRm48RGF0YUZyYW1lLCBhbnk+IHtcbiAgcmV0dXJuIChfLCB7IGluZGV4LCBkYXRhIH0pID0+IHNjYWxlRGF0YShkYXRhLmZyYW1lW2NvbF1baW5kZXhdKTtcbn1cblxuZnVuY3Rpb24gdGFibGVIaWdobGlnaHQoY29sOiBzdHJpbmcsIHNjYWxlRGF0YTogU2NhbGVGbik6IEFjY2Vzc29yRm48UGlja0luZm88bnVsbD4sIGFueT4ge1xuICByZXR1cm4gKHsgaW5kZXgsIGxheWVyIH0pID0+XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHNjYWxlRGF0YShsYXllci5wcm9wcy5kYXRhIS5mcmFtZVtjb2xdW2luZGV4XSk7XG59XG5cbmZ1bmN0aW9uIG9iamVjdERhdGEoY29sOiBzdHJpbmcsIHNjYWxlRGF0YTogU2NhbGVGbik6IEFjY2Vzc29yRm48UmVjb3JkPHN0cmluZywgYW55PiwgYW55PiB7XG4gIHJldHVybiAob2JqZWN0KSA9PiBzY2FsZURhdGEob2JqZWN0W2NvbF0pO1xufVxuXG5mdW5jdGlvbiBvYmplY3RIaWdobGlnaHQoXG4gIGNvbDogc3RyaW5nLFxuICBzY2FsZURhdGE6IFNjYWxlRm5cbik6IEFjY2Vzc29yRm48UGlja0luZm88UmVjb3JkPHN0cmluZywgYW55Pj4sIGFueT4ge1xuICByZXR1cm4gKHsgb2JqZWN0IH0pID0+IHNjYWxlRGF0YShvYmplY3RbY29sXSk7XG59XG5cbmZ1bmN0aW9uIGdlb2pzb25EYXRhKGNvbDogc3RyaW5nLCBzY2FsZURhdGE6IFNjYWxlRm4pOiBBY2Nlc3NvckZuPEZlYXR1cmUsIGFueT4ge1xuICByZXR1cm4gKG9iamVjdCkgPT4gc2NhbGVEYXRhKG9iamVjdC5wcm9wZXJ0aWVzIVtjb2xdKTtcbn1cblxuZnVuY3Rpb24gZ2VvanNvbkhpZ2hsaWdodChjb2w6IHN0cmluZywgc2NhbGVEYXRhOiBTY2FsZUZuKTogQWNjZXNzb3JGbjxQaWNrSW5mbzxGZWF0dXJlPiwgYW55PiB7XG4gIHJldHVybiAoeyBvYmplY3QgfSkgPT4gc2NhbGVEYXRhKG9iamVjdC5wcm9wZXJ0aWVzIVtjb2xdKTtcbn1cbiIsImltcG9ydCB7IGRlZmF1bHQgYXMgR0wgfSBmcm9tIFwiQGx1bWEuZ2wvY29uc3RhbnRzXCI7XG5cbmNvbnN0IEJMRU5ESU5HX01PREVTID0gT2JqZWN0LmZyZWV6ZSh7XG4gIGFkZGl0aXZlOiB7XG4gICAgW0dMLkJMRU5EXTogdHJ1ZSxcbiAgICBibGVuZEZ1bmM6IFtHTC5TUkNfQUxQSEEsIEdMLkRTVF9BTFBIQV0sXG4gICAgYmxlbmRFcXVhdGlvbjogR0wuRlVOQ19BREQsXG4gIH0sXG4gIHN1YnRyYWN0aXZlOiB7XG4gICAgW0dMLkJMRU5EXTogdHJ1ZSxcbiAgICBibGVuZEZ1bmM6IFtHTC5PTkUsIEdMLk9ORV9NSU5VU19EU1RfQ09MT1IsIEdMLlNSQ19BTFBIQSwgR0wuRFNUX0FMUEhBXSxcbiAgICBibGVuZEVxdWF0aW9uOiBbR0wuRlVOQ19TVUJUUkFDVCwgR0wuRlVOQ19BRERdLFxuICB9LFxuICBub3JtYWw6IHtcbiAgICBbR0wuQkxFTkRdOiB0cnVlLFxuICAgIGJsZW5kRnVuYzogW0dMLlNSQ19BTFBIQSwgR0wuT05FX01JTlVTX1NSQ19BTFBIQSwgR0wuT05FLCBHTC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxcbiAgICBibGVuZEVxdWF0aW9uOiBbR0wuRlVOQ19BREQsIEdMLkZVTkNfQUREXSxcbiAgfSxcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gYmxlbmRpbmdQYXJhbWV0ZXJzKG1vZGU6IEJsZW5kaW5nTW9kZSA9IFwibm9ybWFsXCIpIHtcbiAgcmV0dXJuIEJMRU5ESU5HX01PREVTW21vZGVdID8/IEJMRU5ESU5HX01PREVTLm5vcm1hbDtcbn1cbiIsImltcG9ydCB0eXBlIHsgUG9zaXRpb24gfSBmcm9tIFwiZ2VvanNvblwiO1xuXG50eXBlIEdlb21ldHJ5SW5mbyA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiBHZW9tZXRyeVR5cGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRhRnJhbWUoZGF0YTogTGF5ZXJEYXRhKTogZGF0YSBpcyBEYXRhRnJhbWUge1xuICByZXR1cm4gZGF0YSAhPT0gbnVsbCAmJiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImZyYW1lXCIgaW4gZGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5HZW9tZXRyaWVzKGRhdGE6IERhdGFGcmFtZSk6IERhdGFGcmFtZSB7XG4gIGNvbnN0IG11bHRpR2VvbWV0cmllcyA9IGdldE11bHRpR2VvbWV0cnkoZGF0YSk7XG4gIGlmIChtdWx0aUdlb21ldHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICByZXR1cm4gbXVsdGlHZW9tZXRyaWVzLnJlZHVjZShmbGF0dGVuLCBkYXRhKTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbihkYXRhOiBEYXRhRnJhbWUsIHsgbmFtZSwgdHlwZSB9OiBHZW9tZXRyeUluZm8pOiBEYXRhRnJhbWUge1xuICBjb25zdCBvbGRGcmFtZSA9IGRhdGEuZnJhbWU7XG4gIGNvbnN0IG5ld0ZyYW1lID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9sZEZyYW1lKS5tYXAoKFtrZXldKSA9PiBba2V5LCBbXSBhcyBhbnlbXV0pKTtcblxuICAvLyBrZXlzIG9mIG5vbi1nZW9tZXRyeSBjb2xzXG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhLmZyYW1lKS5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSBuYW1lKTtcbiAgLy8gZ2VvbWV0cnkgY29sdW1uXG4gIGNvbnN0IGdlb21ldHJpZXMgPSBvbGRGcmFtZVtuYW1lXTtcbiAgY29uc3QgaXNNdWx0aUdlb21ldHJ5ID0gaXNNdWx0aUdlb21ldHJ5Rm4odHlwZSk7XG4gIGNvbnN0IGNvcHlWYWx1ZXMgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIG5ld0ZyYW1lW2tleV0ucHVzaChvbGRGcmFtZVtrZXldW2luZGV4XSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIG9yaWdpbmFsIGRhdGEgaW5kaWNlc1xuICBjb25zdCBpbmRpY2VzID0gW107XG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGRhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2luZGV4XTtcbiAgICBpZiAoaXNNdWx0aUdlb21ldHJ5KGdlb21ldHJ5KSkge1xuICAgICAgLy8gc3BsaXQgdGhlIG11bHRpLWdlb21ldHJ5XG4gICAgICBuZXdGcmFtZVtuYW1lXS5wdXNoKC4uLmdlb21ldHJ5KTtcbiAgICAgIC8vIHJlcGVhdCBvdGhlciBjb2x1bW5zIGZvciBlYWNoIGdlb21ldHJ5IGluIG11bHRpLWdlb21ldHJ5XG4gICAgICBmb3IgKGxldCByZXAgPSAwOyByZXAgPCBnZW9tZXRyeS5sZW5ndGg7IHJlcCsrKSB7XG4gICAgICAgIGNvcHlWYWx1ZXMoaW5kZXgpO1xuICAgICAgICBpbmRpY2VzLnB1c2goZGF0YS5pbmRpY2VzPy5baW5kZXhdID8/IGluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RnJhbWVbbmFtZV0ucHVzaChnZW9tZXRyeSk7XG4gICAgICBjb3B5VmFsdWVzKGluZGV4KTtcbiAgICAgIGluZGljZXMucHVzaChkYXRhLmluZGljZXM/LltpbmRleF0gPz8gaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGVuZ3RoOiBuZXdGcmFtZVtuYW1lXS5sZW5ndGgsXG4gICAgZ2VvbWV0cnk6IHtcbiAgICAgIC4uLmRhdGEuZ2VvbWV0cnksXG4gICAgICBbbmFtZV06IHR5cGUucmVwbGFjZShcIk1VTFRJXCIsIFwiXCIpIGFzIEdlb21ldHJ5VHlwZSxcbiAgICB9LFxuICAgIGluZGljZXMsXG4gICAgZnJhbWU6IG5ld0ZyYW1lLFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc011bHRpR2VvbWV0cnlGbih0eXBlOiBHZW9tZXRyeVR5cGUpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcIk1VTFRJUE9JTlRcIjpcbiAgICAgIHJldHVybiBpc011bHRpUG9pbnQ7XG4gICAgY2FzZSBcIk1VTFRJTElORVNUUklOR1wiOlxuICAgICAgcmV0dXJuIGlzTXVsdGlMaW5lU3RyaW5nO1xuICAgIGNhc2UgXCJNVUxUSVBPTFlHT05cIjpcbiAgICAgIHJldHVybiBpc011bHRpUG9seWdvbjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgVHlwZUVycm9yKGAke3R5cGV9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc011bHRpUG9pbnQoZ2VvbWV0cnk6IFBvc2l0aW9uIHwgUG9zaXRpb25bXSk6IGdlb21ldHJ5IGlzIFBvc2l0aW9uW10ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShnZW9tZXRyeT8uWzBdKTtcbn1cblxuZnVuY3Rpb24gaXNNdWx0aUxpbmVTdHJpbmcoZ2VvbWV0cnk6IFBvc2l0aW9uW10gfCBQb3NpdGlvbltdW10pOiBnZW9tZXRyeSBpcyBQb3NpdGlvbltdW10ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShnZW9tZXRyeT8uWzBdPy5bMF0pO1xufVxuXG5mdW5jdGlvbiBpc011bHRpUG9seWdvbihnZW9tZXRyeTogUG9zaXRpb25bXVtdIHwgUG9zaXRpb25bXVtdW10pOiBnZW9tZXRyeSBpcyBQb3NpdGlvbltdW11bXSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGdlb21ldHJ5Py5bMF0/LlswXT8uWzBdKTtcbn1cblxuZnVuY3Rpb24gZ2V0TXVsdGlHZW9tZXRyeShkYXRhOiBEYXRhRnJhbWUpOiBHZW9tZXRyeUluZm9bXSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhkYXRhLmdlb21ldHJ5KVxuICAgIC5maWx0ZXIoKFssIHR5cGVdKSA9PiAvTVVMVEkvLnRlc3QodHlwZSkpXG4gICAgLm1hcCgoW25hbWUsIHR5cGVdKSA9PiAoeyBuYW1lLCB0eXBlIH0pKTtcbn1cbiIsImltcG9ydCB7IExheWVyLCBMYXllckV4dGVuc2lvbiB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIEdMIH0gZnJvbSBcIkBsdW1hLmdsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgQXJjTGF5ZXIsXG4gIEljb25MYXllcixcbiAgTGluZUxheWVyLFxuICBQYXRoTGF5ZXIsXG4gIFBvaW50Q2xvdWRMYXllcixcbiAgU2NhdHRlcnBsb3RMYXllcixcbiAgU29saWRQb2x5Z29uTGF5ZXIsXG59IGZyb20gXCJAZGVjay5nbC9sYXllcnNcIjtcblxuaW1wb3J0IHsgaXNEYXRhRnJhbWUgfSBmcm9tIFwiLi9kYXRhLWZyYW1lXCI7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aUhpZ2hsaWdodEV4dGVuc2lvbiBleHRlbmRzIExheWVyRXh0ZW5zaW9uIHtcbiAgaW5pdGlhbGl6ZVN0YXRlKCkge1xuICAgIGlmICghaXNQcmltaXRpdmVMYXllcih0aGlzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxheWVyID0gdGhpcztcbiAgICBjb25zdCBhdHRyaWJ1dGVNYW5hZ2VyID0gbGF5ZXIuZ2V0QXR0cmlidXRlTWFuYWdlcigpO1xuXG4gICAgaWYgKGF0dHJpYnV0ZU1hbmFnZXIpIHtcbiAgICAgIGF0dHJpYnV0ZU1hbmFnZXIuYWRkSW5zdGFuY2VkKHtcbiAgICAgICAgcGlja2luZ0NvbG9yczoge1xuICAgICAgICAgIHR5cGU6IEdMLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgc2l6ZTogMyxcbiAgICAgICAgICBhY2Nlc3NvcjogKG9iamVjdCwgeyBpbmRleCwgZGF0YSwgdGFyZ2V0IH0pID0+IHtcbiAgICAgICAgICAgIC8vIGRhdGEgaXMgYSBkYXRhZnJhbWUsIHdpdGggZmxhdHRlbmVkIGdlb21ldHJpZXM/XG4gICAgICAgICAgICBpZiAoaXNEYXRhRnJhbWUoZGF0YSkgJiYgQXJyYXkuaXNBcnJheShkYXRhLmluZGljZXMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsYXllci5lbmNvZGVQaWNraW5nQ29sb3IoZGF0YS5pbmRpY2VzLmluZGV4T2YoZGF0YS5pbmRpY2VzW2luZGV4XSksIHRhcmdldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHN1Yi1sYXllciwgd2hlcmUgcGFyZW50IGRhdGEgaXMgYSBkYXRhZnJhbWUgd2l0aCBmbGF0dGVuZWQgZ2VvbWV0cmllcz9cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudERhdGEgPSBvYmplY3Q/Ll9fc291cmNlPy5wYXJlbnQ/LnByb3BzLmRhdGE7XG4gICAgICAgICAgICBpZiAoaXNEYXRhRnJhbWUocGFyZW50RGF0YSkgJiYgQXJyYXkuaXNBcnJheShwYXJlbnREYXRhLmluZGljZXMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsYXllci5lbmNvZGVQaWNraW5nQ29sb3IoXG4gICAgICAgICAgICAgICAgcGFyZW50RGF0YS5pbmRpY2VzLmluZGV4T2YocGFyZW50RGF0YS5pbmRpY2VzW29iamVjdC5fX3NvdXJjZS5pbmRleF0pLFxuICAgICAgICAgICAgICAgIHRhcmdldFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkZWZhdWx0XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXIuZW5jb2RlUGlja2luZ0NvbG9yKG9iamVjdD8uX19zb3VyY2UuaW5kZXggPz8gaW5kZXgsIHRhcmdldCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaGFkZXJBdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICBwaWNraW5nQ29sb3JzOiB7XG4gICAgICAgICAgICAgIGRpdmlzb3I6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5zdGFuY2VQaWNraW5nQ29sb3JzOiB7XG4gICAgICAgICAgICAgIGRpdmlzb3I6IDEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgTGF5ZXJzID0gW1xuICBBcmNMYXllcixcbiAgSWNvbkxheWVyLFxuICBMaW5lTGF5ZXIsXG4gIFBhdGhMYXllcixcbiAgUG9pbnRDbG91ZExheWVyLFxuICBTY2F0dGVycGxvdExheWVyLFxuICBTb2xpZFBvbHlnb25MYXllcixcbl07XG5cbnR5cGUgQmFzZUxheWVyID0gTGF5ZXI8RGF0YUZyYW1lLCBhbnk+O1xuZnVuY3Rpb24gaXNQcmltaXRpdmVMYXllcihsYXllcjogQmFzZUxheWVyIHwgTGF5ZXJFeHRlbnNpb24pOiBsYXllciBpcyBCYXNlTGF5ZXIge1xuICByZXR1cm4gTGF5ZXJzLnNvbWUoKExheWVyKSA9PiBsYXllciBpbnN0YW5jZW9mIExheWVyKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwcm9wZXJDYXNlKGNhbWVsQ2FzZTogc3RyaW5nKSB7XG4gIHJldHVybiBjYW1lbENhc2UucmVwbGFjZSgvKFtBLVpdKS9nLCBcIiAkMVwiKS5yZXBsYWNlKC9eLi8sIChzKSA9PiBzLnRvVXBwZXJDYXNlKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd29yZHMoY2FtZWxDYXNlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGNhbWVsQ2FzZS5yZXBsYWNlKC8oW0EtWl0pL2csIFwiICQxXCIpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwaWNrPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPihvYmplY3Q6IFQsIC4uLmtleXM6IEtbXSkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGVudHJpZXMgPSBrZXlzLm1hcCgoa2V5KSA9PiBba2V5LCBvYmplY3Rba2V5XV0pO1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpO1xufVxuXG5mdW5jdGlvbiBnZXRGaXJzdFZpc2libGUoZWw6IEhUTUxFbGVtZW50KTogRWxlbWVudCB8IG51bGwge1xuICBpZiAoZWwuY2xpZW50SGVpZ2h0ID4gMCAmJiBlbC5jbGllbnRIZWlnaHQgPiAwKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgcmV0dXJuIGVsLnBhcmVudEVsZW1lbnQgPyBnZXRGaXJzdFZpc2libGUoZWwucGFyZW50RWxlbWVudCkgOiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpbWVuc2lvbnMoZWw6IEhUTUxFbGVtZW50KTogW251bWJlciwgbnVtYmVyXSB7XG4gIGNvbnN0IHZpc2libGUgPSBnZXRGaXJzdFZpc2libGUoZWwpO1xuXG4gIGlmIChlbCA9PT0gdmlzaWJsZSB8fCB2aXNpYmxlID09IG51bGwpIHtcbiAgICByZXR1cm4gW2VsLmNsaWVudFdpZHRoLCBlbC5jbGllbnRIZWlnaHRdO1xuICB9XG5cbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIE9iamVjdC5hc3NpZ24obm9kZS5zdHlsZSwge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBkaXNwbGF5OiBcImhpZGRlblwiLFxuICB9KTtcblxuICB2aXNpYmxlLmFwcGVuZENoaWxkKG5vZGUpO1xuICBjb25zdCBkaW1zOiBbbnVtYmVyLCBudW1iZXJdID0gW25vZGUuY2xpZW50V2lkdGgsIG5vZGUuY2xpZW50SGVpZ2h0XTtcbiAgdmlzaWJsZS5yZW1vdmVDaGlsZChub2RlKTtcblxuICByZXR1cm4gZGltcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8SywgVj4obGlzdDogVltdLCBrZXk6ICh4OiBWKSA9PiBLKTogTWFwPEssIFZbXT4ge1xuICBjb25zdCBtYXAgPSBuZXcgTWFwPEssIFZbXT4oKTtcblxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgIGNvbnN0IGl0ZW1LZXkgPSBrZXkoaXRlbSk7XG4gICAgaWYgKCFtYXAuaGFzKGl0ZW1LZXkpKSB7XG4gICAgICBtYXAuc2V0KGl0ZW1LZXksIFtpdGVtXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcC5nZXQoaXRlbUtleSkhLnB1c2goaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1hcDtcbn1cblxudHlwZSBOdWxsYWJsZTxUPiA9IFQgfCBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xhc3NOYW1lcyguLi5jbGFzc05hbWVzOiBOdWxsYWJsZTxzdHJpbmc+W10pOiBzdHJpbmcge1xuICByZXR1cm4gY2xhc3NOYW1lcy5maWx0ZXIoKHgpID0+IHggIT0gbnVsbCkuam9pbihcIiBcIik7XG59XG5cbnR5cGUgVmFyaWFkaWM8VD4gPSAoLi4uYXJnczogYW55W10pID0+IFQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZTxUPihmbjogVmFyaWFkaWM8VD4sIHdhaXQ6IG51bWJlciA9IDApIHtcbiAgbGV0IHRpbWVvdXQ6IG51bWJlcjtcblxuICByZXR1cm4gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIHdhaXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh4OiBhbnkpIHtcbiAgcmV0dXJuICh0eXBlb2YgeCAhPT0gXCJvYmplY3RcIiB8fCB4ID09PSBudWxsKSAmJiB0eXBlb2YgeCAhPT0gXCJmdW5jdGlvblwiO1xufVxuXG5jbGFzcyBNYXBDYWNoZSB7XG4gIHByaXZhdGUgX3ZhbCA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBfcmVmID0gbmV3IFdlYWtNYXAoKTtcblxuICBnZXRTdG9yZShrZXk6IGFueSkge1xuICAgIHJldHVybiBpc1ByaW1pdGl2ZShrZXkpID8gdGhpcy5fdmFsIDogdGhpcy5fcmVmO1xuICB9XG5cbiAgaGFzKGtleTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RvcmUoa2V5KS5oYXMoa2V5KTtcbiAgfVxuXG4gIGdldChrZXk6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmdldFN0b3JlKGtleSkuZ2V0KGtleSk7XG4gIH1cblxuICBzZXQoa2V5OiBhbnksIHZhbHVlOiB1bmtub3duKSB7XG4gICAgdGhpcy5nZXRTdG9yZShrZXkpLnNldChrZXksIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZTxUPihmbjogVmFyaWFkaWM8VD4pOiBWYXJpYWRpYzxUPiB7XG4gIC8vIGEgbmVzdGVkIGNhY2hlIGNoYWluLCBzdWNoIHRoYXQgZWFjaCBwYXJhbSBtYXBzIHRvIGEgY2FjaGUsXG4gIC8vIG9yIHRoZSByZXN1bHQgb2YgZm4gaWYgaXQgaXMgdGhlIGVuZCBvZiB0aGUgY2hhaW5cbiAgLy8gZS5nLiBmb3IgMyBhcmdzLCAoYSkgPT4gKGIpID0+IChjKSA9PiBmbihhLCBiLCBjKVxuICBjb25zdCByb290ID0gbmV3IE1hcENhY2hlKCk7XG5cbiAgcmV0dXJuICguLi5hcmdzOiBhbnlbXSk6IFQgPT4ge1xuICAgIGNvbnN0IGFyZzAgPSBhcmdzWzBdO1xuICAgIGNvbnN0IG5hcmdzID0gYXJncy5zbGljZSgwLCAtMSk7XG4gICAgLy8gd2FsayB0aGUgY2FjaGUgY2hhaW5cbiAgICBjb25zdCBjYWNoZSA9IG5hcmdzLnJlZHVjZVJpZ2h0KChwYXJlbnQ6IE1hcENhY2hlLCBhcmc6IGFueSkgPT4ge1xuICAgICAgaWYgKHBhcmVudC5oYXMoYXJnKSkgcmV0dXJuIHBhcmVudC5nZXQoYXJnKTtcblxuICAgICAgY29uc3QgY2hpbGQgPSBuZXcgTWFwQ2FjaGUoKTtcbiAgICAgIHBhcmVudC5zZXQoYXJnLCBjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSwgcm9vdCk7XG5cbiAgICAvLyBjYWNoZSBoaXRcbiAgICBpZiAoY2FjaGUuaGFzKGFyZzApKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGFyZzApO1xuICAgIH1cblxuICAgIC8vIGNhY2hlIG1pc3NcbiAgICBjb25zdCB2YWx1ZSA9IGZuKC4uLmFyZ3MpO1xuICAgIGNhY2hlLnNldChhcmcwLCB2YWx1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG4iLCJpbXBvcnQgKiBhcyBkZWNrIGZyb20gXCIuL2RlY2stYnVuZGxlXCI7XG5pbXBvcnQgdHlwZSB7IExheWVyIGFzIERlY2tMYXllciwgTGF5ZXJQcm9wcyBhcyBEZWNrTGF5ZXJQcm9wcyB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IEJpdG1hcExheWVyUHJvcHMgfSBmcm9tIFwiQGRlY2suZ2wvbGF5ZXJzXCI7XG5pbXBvcnQgdHlwZSB7IFRpbGVMYXllclByb3BzIH0gZnJvbSBcIkBkZWNrLmdsL2dlby1sYXllcnNcIjtcbmltcG9ydCB0eXBlIHsgRmVhdHVyZUNvbGxlY3Rpb24gfSBmcm9tIFwiZ2VvanNvblwiO1xuXG5pbXBvcnQgeyBwYXJzZUNvbG9yIGFzIF9wYXJzZUNvbG9yIH0gZnJvbSBcIi4vY29sb3JcIjtcbmltcG9ydCB7IEFjY2Vzc29yU2NhbGUsIGFjY2Vzc29yU2NhbGUgYXMgX2FjY2Vzc29yU2NhbGUsIGlzQWNjZXNzb3JTY2FsZSB9IGZyb20gXCIuL3NjYWxlXCI7XG5pbXBvcnQgeyBhY2Nlc3NvciBhcyBfYWNjZXNzb3IsIEFjY2Vzc29yLCBpc0FjY2Vzc29yIH0gZnJvbSBcIi4vYWNjZXNzb3JcIjtcbmltcG9ydCB7IGJsZW5kaW5nUGFyYW1ldGVycyB9IGZyb20gXCIuL2JsZW5kaW5nXCI7XG5pbXBvcnQgeyBmbGF0dGVuR2VvbWV0cmllcyBhcyBfZmxhdHRlbkdlb21ldHJpZXMsIGlzRGF0YUZyYW1lIH0gZnJvbSBcIi4vZGF0YS1mcmFtZVwiO1xuaW1wb3J0IHsgTXVsdGlIaWdobGlnaHRFeHRlbnNpb24gfSBmcm9tIFwiLi9tdWx0aS1oaWdobGlnaHQtZXh0ZW5zaW9uXCI7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG50eXBlIExheWVyRGF0YSA9IHN0cmluZyB8IERhdGFGcmFtZSB8IEZlYXR1cmVDb2xsZWN0aW9uO1xudHlwZSBFbnRyeTxUPiA9IFtzdHJpbmcsIFRdO1xuXG5leHBvcnQgdHlwZSBMZWdlbmRJbmZvID0gUGljazxMYXllclByb3BzLCBcImlkXCIgfCBcIm5hbWVcIj4gJiB7XG4gIHNjYWxlczogQWNjZXNzb3JTY2FsZTxudW1iZXIgfCBDb2xvcj5bXTtcbn07XG5cbmV4cG9ydCB0eXBlIFZpc2liaWxpdHlJbmZvID0gUGljazxMYXllclByb3BzLCBcImlkXCIgfCBcIm5hbWVcIiB8IFwiZ3JvdXBOYW1lXCI+ICYge1xuICB2aXNpYmxlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBMYXllclByb3BzIGV4dGVuZHMgT21pdDxEZWNrTGF5ZXJQcm9wczxhbnk+LCBcImRhdGFcIj4ge1xuICB0eXBlOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZ3JvdXBOYW1lOiBzdHJpbmcgfCBudWxsO1xuICBkYXRhOiBMYXllckRhdGEgfCBudWxsO1xuICBibGVuZGluZ01vZGU6IEJsZW5kaW5nTW9kZTtcbiAgdmlzaWJpbGl0eVRvZ2dsZTogYm9vbGVhbjtcbiAgdG9vbHRpcDogVG9vbHRpcEluZm8gfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgVHJpcHNMYXllclByb3BzIGV4dGVuZHMgTGF5ZXJQcm9wcyB7XG4gIGN1cnJlbnRUaW1lOiBudW1iZXI7XG4gIGxvb3BMZW5ndGg6IG51bWJlcjtcbiAgYW5pbWF0aW9uU3BlZWQ6IG51bWJlcjtcbn1cblxuLy8gcGVyZm9ybWFuY2Ugb3B0aW1pc2F0aW9uOiBhdm9pZCBzaGFsbG93IHByb3AgY2hhbmdlc1xuY29uc3QgZmxhdHRlbkdlb21ldHJpZXMgPSBtZW1vaXplKF9mbGF0dGVuR2VvbWV0cmllcyk7XG5jb25zdCBwYXJzZUNvbG9yID0gbWVtb2l6ZShfcGFyc2VDb2xvcik7XG5jb25zdCBhY2Nlc3NvciA9IG1lbW9pemUoX2FjY2Vzc29yKTtcbmNvbnN0IGFjY2Vzc29yU2NhbGUgPSBtZW1vaXplKF9hY2Nlc3NvclNjYWxlKTtcblxuZXhwb3J0IGNsYXNzIExheWVyIHtcbiAgdHlwZTogc3RyaW5nO1xuICBwcm9wczogTGF5ZXJQcm9wcztcbiAgc2NhbGVzOiBBY2Nlc3NvclNjYWxlPGFueT5bXTtcblxuICBjb25zdHJ1Y3Rvcih7IHR5cGUsIC4uLnByb3BzIH06IExheWVyUHJvcHMpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocHJvcHMpO1xuICAgIGNvbnN0IGNvbG9ycyA9IGdldENvbG9ycyhlbnRyaWVzKTtcbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBnZXRBY2Nlc3NvcnMoZW50cmllcyk7XG5cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIGNvbnN0IF9wcm9wcyA9IE9iamVjdC5mcm9tRW50cmllcyhbXG4gICAgICAuLi5lbnRyaWVzLFxuICAgICAgLi4uY29sb3JzLFxuICAgICAgLi4uYWNjZXNzb3JzLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4gW25hbWUsIHZhbHVlLmdldERhdGFdKSxcbiAgICAgIC4uLmdldFdlaWdodFByb3BzKGVudHJpZXMpLFxuICAgICAgW1widmlzaWJsZVwiLCBwcm9wcy52aXNpYmxlID8/IHRydWVdLFxuICAgICAgW1widXBkYXRlVHJpZ2dlcnNcIiwgZ2V0VXBkYXRlVHJpZ2dlcnMoYWNjZXNzb3JzKV0sXG4gICAgICBbXCJwYXJhbWV0ZXJzXCIsIGdldFBhcmFtZXRlcnMocHJvcHMucGFyYW1ldGVycywgcHJvcHMuYmxlbmRpbmdNb2RlKV0sXG4gICAgXSk7XG5cbiAgICAvLyBtdWx0aS1nZW9tZXRyeSBoaWdobGlnaHRcbiAgICBpZiAoaXNEYXRhRnJhbWUoX3Byb3BzLmRhdGEpKSB7XG4gICAgICBfcHJvcHMuZGF0YSA9IGZsYXR0ZW5HZW9tZXRyaWVzKF9wcm9wcy5kYXRhKTtcbiAgICAgIF9wcm9wcy5leHRlbnNpb25zID0gW25ldyBNdWx0aUhpZ2hsaWdodEV4dGVuc2lvbigpLCAuLi4oX3Byb3BzLmV4dGVuc2lvbnMgPz8gW10pXTtcbiAgICB9XG5cbiAgICAvLyB0aWxlLWxheWVyXG4gICAgdHlwZSBUaWxlUHJvcHMgPSBUaWxlTGF5ZXJQcm9wczxhbnk+ICYgQml0bWFwTGF5ZXJQcm9wczxhbnk+ICYgeyB0aWxlOiBhbnkgfTtcbiAgICBpZiAodHlwZSA9PT0gXCJUaWxlTGF5ZXJcIikge1xuICAgICAgX3Byb3BzLnJlbmRlclN1YkxheWVycyA9IChwcm9wczogVGlsZVByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBiYm94OiB7IHdlc3QsIHNvdXRoLCBlYXN0LCBub3J0aCB9LFxuICAgICAgICAgIHgsXG4gICAgICAgICAgeSxcbiAgICAgICAgICB6LFxuICAgICAgICB9ID0gcHJvcHMudGlsZTtcblxuICAgICAgICByZXR1cm4gbmV3IGRlY2suQml0bWFwTGF5ZXIoe1xuICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgIGRhdGE6IFt7IHosIHgsIHkgfV0sXG4gICAgICAgICAgaW1hZ2U6IHByb3BzLmRhdGEsXG4gICAgICAgICAgYm91bmRzOiBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSxcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMgPSBfcHJvcHM7XG5cbiAgICB0aGlzLnNjYWxlcyA9IGFjY2Vzc29yc1xuICAgICAgLmZpbHRlcigoWywgdmFsdWVdKSA9PiBpc0FjY2Vzc29yU2NhbGUodmFsdWUpKVxuICAgICAgLm1hcCgoWywgdmFsdWVdKSA9PiB2YWx1ZSBhcyBBY2Nlc3NvclNjYWxlPG51bWJlciB8IENvbG9yPik7XG5cbiAgICAvLyBsb2FkIGZvbnRcbiAgICBpZiAodHlwZSA9PT0gXCJUZXh0TGF5ZXJcIiAmJiBcImZvbnRzXCIgaW4gZG9jdW1lbnQpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGRvY3VtZW50LmZvbnRzLmxvYWQoYDE2cHggJHtwcm9wcy5mb250RmFtaWx5fWApO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGUocHJvcHM6IExheWVyUHJvcHMpIHtcbiAgICByZXR1cm4gbmV3IExheWVyKHByb3BzKTtcbiAgfVxuXG4gIHJlbmRlckxheWVyKHRpbWU/OiBudW1iZXIpOiBEZWNrTGF5ZXI8YW55LCBhbnk+IHtcbiAgICAvLyBhbmltYXRlIHRyaXBzIGxheWVyXG4gICAgaWYgKHRoaXMudHlwZSA9PT0gXCJUcmlwc0xheWVyXCIgJiYgdGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHMgYXMgVHJpcHNMYXllclByb3BzO1xuICAgICAgY29uc3QgeyBsb29wTGVuZ3RoLCBhbmltYXRpb25TcGVlZCB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBhbmltYXRpb25UaW1lID0gbG9vcExlbmd0aCAvIGFuaW1hdGlvblNwZWVkO1xuICAgICAgY29uc3QgcmF0aW9Db21wbGV0ZSA9ICgodGltZSAvIDEwMDApICUgYW5pbWF0aW9uVGltZSkgLyBhbmltYXRpb25UaW1lO1xuICAgICAgcHJvcHMuY3VycmVudFRpbWUgPSByYXRpb0NvbXBsZXRlICogbG9vcExlbmd0aDtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBuZXcgZGVja1t0aGlzLnR5cGVdKHsgLi4udGhpcy5wcm9wcyB9KTtcbiAgfVxuXG4gIHJlbmRlckxlZ2VuZCgpOiBMZWdlbmRJbmZvIHtcbiAgICBjb25zdCBzY2FsZXMgPSB0aGlzLnNjYWxlcy5maWx0ZXIoKHNjYWxlKSA9PiBzY2FsZS5sZWdlbmQpO1xuICAgIHJldHVybiB7IGlkOiB0aGlzLnByb3BzLmlkISwgbmFtZTogdGhpcy5wcm9wcy5uYW1lLCBzY2FsZXMgfTtcbiAgfVxuXG4gIHJlbmRlclNlbGVjdG9yKCk6IFZpc2liaWxpdHlJbmZvIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMucHJvcHMuaWQhLFxuICAgICAgZ3JvdXBOYW1lOiB0aGlzLnByb3BzLmdyb3VwTmFtZSxcbiAgICAgIG5hbWU6IHRoaXMucHJvcHMubmFtZSxcbiAgICAgIHZpc2libGU6IHRoaXMucHJvcHMudmlzaWJsZSA/PyB0cnVlLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29sb3IoW25hbWUsIHZhbHVlXTogW3N0cmluZywgYW55XSkge1xuICByZXR1cm4gbmFtZS5lbmRzV2l0aChcIkNvbG9yXCIpICYmIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRDb2xvcnMoZW50cmllczogRW50cnk8YW55PltdKTogRW50cnk8Q29sb3IgfCBDb2xvcltdPltdIHtcbiAgY29uc3QgY29sb3JzID0gZW50cmllc1xuICAgIC5maWx0ZXIoaXNDb2xvcilcbiAgICAubWFwKChbbmFtZSwgY29sb3JdKTogRW50cnk8Q29sb3I+ID0+IFtuYW1lLCBwYXJzZUNvbG9yKGNvbG9yKV0pO1xuXG4gIGNvbnN0IGNvbG9yUmFuZ2UgPSBlbnRyaWVzLmZpbmQoKFtuYW1lXSkgPT4gbmFtZSA9PT0gXCJjb2xvclJhbmdlXCIpO1xuICBpZiAoY29sb3JSYW5nZSkge1xuICAgIGNvbG9ycy5wdXNoKFtjb2xvclJhbmdlWzBdLCBjb2xvclJhbmdlWzFdLm1hcCgoY29sb3I6IHN0cmluZyB8IENvbG9yKSA9PiBwYXJzZUNvbG9yKGNvbG9yKSldKTtcbiAgfVxuXG4gIHJldHVybiBjb2xvcnM7XG59XG5cbmZ1bmN0aW9uIGdldEFjY2Vzc29ycyhlbnRyaWVzOiBFbnRyeTxhbnk+W10pOiBFbnRyeTxBY2Nlc3NvciB8IEFjY2Vzc29yU2NhbGU8YW55Pj5bXSB7XG4gIHJldHVybiBlbnRyaWVzXG4gICAgLmZpbHRlcigoWywgdmFsdWVdKSA9PiBpc0FjY2Vzc29yKHZhbHVlKSlcbiAgICAubWFwKChbbmFtZSwgdmFsdWVdKSA9PiBbXG4gICAgICBuYW1lLFxuICAgICAgaXNBY2Nlc3NvclNjYWxlKHZhbHVlKSA/IGFjY2Vzc29yU2NhbGUodmFsdWUsIG5hbWUpIDogYWNjZXNzb3IodmFsdWUsIG5hbWUpLFxuICAgIF0pO1xufVxuXG5mdW5jdGlvbiBnZXRVcGRhdGVUcmlnZ2VycyhlbnRyaWVzOiBFbnRyeTxBY2Nlc3NvciB8IEFjY2Vzc29yU2NhbGU8YW55Pj5bXSkge1xuICBjb25zdCBzY2FsZVByb3BzID0gKGFjY2Vzc29yOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IGdldERhdGEsIHNjYWxlRGF0YSwgcGFsZXR0ZSwgLi4ucHJvcHMgfSA9IGFjY2Vzc29yO1xuICAgIHJldHVybiBwcm9wcztcbiAgfTtcblxuICBjb25zdCBwcm9wVHJpZ2dlcnMgPSBlbnRyaWVzLm1hcCgoW25hbWUsIGFjY2Vzc29yXSkgPT4gW25hbWUsIHNjYWxlUHJvcHMoYWNjZXNzb3IpXSk7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMocHJvcFRyaWdnZXJzKTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVycyhwYXJhbWV0ZXJzOiBhbnksIGJsZW5kaW5nTW9kZTogQmxlbmRpbmdNb2RlKSB7XG4gIHJldHVybiB7XG4gICAgLi4ucGFyYW1ldGVycyxcbiAgICAuLi5ibGVuZGluZ1BhcmFtZXRlcnMoYmxlbmRpbmdNb2RlKSxcbiAgfTtcbn1cblxuLy8gZ2V0Q29sb3JXZWlnaHQgJiBnZXRFbGV2YXRpb25XZWlnaHQgbXVzdCBiZSBmdW5jdGlvbnNcbmZ1bmN0aW9uIGdldFdlaWdodFByb3BzKGVudHJpZXM6IEVudHJ5PGFueT5bXSkge1xuICByZXR1cm4gZW50cmllc1xuICAgIC5maWx0ZXIoKFtuYW1lXSkgPT4gbmFtZSA9PT0gXCJnZXRDb2xvcldlaWdodFwiIHx8IG5hbWUgPT09IFwiZ2V0RWxldmF0aW9uV2VpZ2h0XCIpXG4gICAgLmZpbHRlcigoWywgdmFsdWVdKSA9PiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIiAmJiAhaXNBY2Nlc3Nvcih2YWx1ZSkpXG4gICAgLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4gW25hbWUsICgpID0+IHZhbHVlXSk7XG59XG4iLCJpbXBvcnQgeyBfQWdncmVnYXRpb25MYXllciB9IGZyb20gXCJAZGVjay5nbC9hZ2dyZWdhdGlvbi1sYXllcnNcIjtcbmltcG9ydCB7IE9iamVjdEluZm8gfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHsgUGlja0luZm8gfSBmcm9tIFwiZGVjay5nbFwiO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gXCJnZW9qc29uXCI7XG5pbXBvcnQgeyBpc0RhdGFGcmFtZSB9IGZyb20gXCIuL2RhdGEtZnJhbWVcIjtcblxuZXhwb3J0IGNvbnN0IEZFQVRVUkVfSUQgPSBcIi5mZWF0dXJlX2lkXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaWNrZWRPYmplY3QoaW5mbzogUGlja0luZm88YW55PiwgZGF0YVR5cGU6IERhdGFUeXBlIHwgbnVsbCA9IG51bGwpIHtcbiAgaWYgKCFpbmZvLnBpY2tlZCkgcmV0dXJuIG51bGw7XG5cbiAgaWYgKGRhdGFUeXBlID09IG51bGwpIHtcbiAgICBkYXRhVHlwZSA9IGdldERhdGFUeXBlKGluZm8pO1xuICB9XG4gIGNvbnN0IGdldERhdGEgPSBhY2Nlc3NvckZuKGRhdGFUeXBlKTtcblxuICBjb25zdCB7IG9iamVjdCwgaW5kZXggfSA9IGluZm87XG4gIGNvbnN0IGRhdGEgPSBpbmZvLmxheWVyLnByb3BzLmRhdGE7XG4gIHJldHVybiBnZXREYXRhKG9iamVjdCwgeyBpbmRleCwgZGF0YSB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RGF0YVR5cGUoeyBvYmplY3QsIGxheWVyIH06IFBpY2tJbmZvPGFueT4pOiBEYXRhVHlwZSB7XG4gIC8vIEZJWE1FOiBhZGQgZGF0YXR5cGUgdG8gdGhlIGxheWVyXG4gIGNvbnN0IGRhdGEgPSBsYXllci5wcm9wcy5kYXRhO1xuICBpZiAoaXNEYXRhRnJhbWUoZGF0YSkgJiYgIShsYXllciBpbnN0YW5jZW9mIF9BZ2dyZWdhdGlvbkxheWVyKSkgcmV0dXJuIFwidGFibGVcIjtcbiAgcmV0dXJuIGlzR2VvanNvbihvYmplY3QpID8gXCJnZW9qc29uXCIgOiBcIm9iamVjdFwiO1xufVxuXG5mdW5jdGlvbiBpc0dlb2pzb24ob2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbCk6IG9iamVjdCBpcyBGZWF0dXJlIHtcbiAgcmV0dXJuIG9iamVjdD8udHlwZSA9PT0gXCJGZWF0dXJlXCIgJiYgXCJnZW9tZXRyeVwiIGluIG9iamVjdCAmJiBcInR5cGVcIiBpbiBvYmplY3QuZ2VvbWV0cnk7XG59XG5cbnR5cGUgSW5mbyA9IE9taXQ8T2JqZWN0SW5mbzxEYXRhRnJhbWUsIGFueT4sIFwidGFyZ2V0XCI+O1xudHlwZSBEYXRhRm4gPSAob2JqZWN0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBpbmZvOiBJbmZvKSA9PiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzb3JGbihkYXRhVHlwZTogRGF0YVR5cGUpOiBEYXRhRm4ge1xuICBzd2l0Y2ggKGRhdGFUeXBlKSB7XG4gICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICByZXR1cm4gKF8sIHsgaW5kZXgsIGRhdGEgfSkgPT4ge1xuICAgICAgICBjb25zdCBnZW9tcyA9IE9iamVjdC5rZXlzKGRhdGEuZ2VvbWV0cnkpO1xuICAgICAgICBjb25zdCBvYmplY3Q6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBjb2xdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEuZnJhbWUpKSB7XG4gICAgICAgICAgaWYgKCFnZW9tcy5pbmNsdWRlcyhrZXkpKSBvYmplY3Rba2V5XSA9IGNvbFtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgcmV0dXJuIChvYmplY3QpID0+ICh7IC4uLm9iamVjdCB9KTtcbiAgICBjYXNlIFwiZ2VvanNvblwiOlxuICAgICAgcmV0dXJuIChvYmplY3QpID0+ICh7XG4gICAgICAgIFtGRUFUVVJFX0lEXTogb2JqZWN0Py5pZCxcbiAgICAgICAgLi4ub2JqZWN0Py5wcm9wZXJ0aWVzLFxuICAgICAgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFR5cGVFcnJvcihgJHtkYXRhVHlwZX0gbm90IHN1cHBvcnRlZGApO1xuICB9XG59XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcInRvb2x0aXBcIjpcImN5V0x0NF9HN25rNXZUOWhQcjBvXCIsXCJrZXBsZXJcIjpcImtlcGxlclwiLFwibGlnaHRcIjpcImxpZ2h0XCIsXCJsYXllci1uYW1lXCI6XCJaOWhISGV0MlJYbUwwaU1lbDNadFwiLFwibGF5ZXJOYW1lXCI6XCJaOWhISGV0MlJYbUwwaU1lbDNadFwiLFwidGFibGVcIjpcImpwNjU4eUVITGxlc1NSdndCd0RsXCIsXCJmaWVsZC1uYW1lXCI6XCJ0OUk4a0p5amVFSkVPQXJ2TUQ3alwiLFwiZmllbGROYW1lXCI6XCJ0OUk4a0p5amVFSkVPQXJ2TUQ3alwiLFwiZmllbGQtdmFsdWVcIjpcInZvdkhwVHVyMDFCUk9yTUxtRUZ6XCIsXCJmaWVsZFZhbHVlXCI6XCJ2b3ZIcFR1cjAxQlJPck1MbUVGelwifTsiLCJpbXBvcnQgdHlwZSB7IFBpY2tJbmZvIH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB7IEZFQVRVUkVfSUQsIGdldFBpY2tlZE9iamVjdCB9IGZyb20gXCIuL3BpY2tpbmdcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vdG9vbHRpcC5jc3NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUb29sdGlwUHJvcHMge1xuICBpbmZvOiBQaWNrSW5mbzxhbnk+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVG9vbHRpcCh7IGluZm8gfTogVG9vbHRpcFByb3BzKSB7XG4gIGlmICghaW5mby5waWNrZWQgfHwgaW5mby5sYXllci5wcm9wcy50b29sdGlwID09IG51bGwpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHsgeCwgeSB9ID0gaW5mbztcbiAgY29uc3QgeyBuYW1lLCB0b29sdGlwIH0gPSBpbmZvLmxheWVyLnByb3BzO1xuXG4gIGNvbnN0IG9iamVjdCA9IGdldFBpY2tlZE9iamVjdChpbmZvLCB0b29sdGlwLmRhdGFUeXBlKSE7XG4gIGRlbGV0ZSBvYmplY3RbRkVBVFVSRV9JRF07XG4gIGNvbnN0IG5hbWVzID0gdG9vbHRpcC5jb2xzID09PSB0cnVlID8gT2JqZWN0LmtleXMob2JqZWN0KSA6IHRvb2x0aXAuY29scztcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudG9vbHRpcH0gc3R5bGU9e3sgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7eH1weCwgJHt5fXB4KWAgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxheWVyTmFtZX0+e25hbWV9PC9kaXY+XG4gICAgICA8dGFibGUgY2xhc3NOYW1lPXtzdHlsZXMudGFibGV9PlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAge25hbWVzLm1hcCgobmFtZSkgPT4gKFxuICAgICAgICAgICAgPHRyIGtleT17bmFtZX0+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9e3N0eWxlcy5maWVsZE5hbWV9PntuYW1lfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9e3N0eWxlcy5maWVsZFZhbHVlfT57U3RyaW5nKG9iamVjdFtuYW1lXSA/PyBudWxsKX08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCJpbXBvcnQgXCJtYXBib3gtZ2xcIjtcbmltcG9ydCB7IEZyYWdtZW50LCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBQaWNrSW5mbywgTWFwVmlldyB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgeyBEZWNrR0wgfSBmcm9tIFwiQGRlY2suZ2wvcmVhY3RcIjtcbmltcG9ydCB7IE1hcCBhcyBNYXBHTCB9IGZyb20gXCJyZWFjdC1tYXAtZ2xcIjtcbmltcG9ydCB7IExheWVyIH0gZnJvbSBcIi4vbGF5ZXJcIjtcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tIFwiLi90b29sdGlwXCI7XG5pbXBvcnQgeyBibGVuZGluZ1BhcmFtZXRlcnMgfSBmcm9tIFwiLi9ibGVuZGluZ1wiO1xuaW1wb3J0IHsgX0FnZ3JlZ2F0aW9uTGF5ZXIgfSBmcm9tIFwiQGRlY2suZ2wvYWdncmVnYXRpb24tbGF5ZXJzXCI7XG5pbXBvcnQgeyBEZWNrUHJvcHMgfSBmcm9tIFwiLi9hcHBcIjtcblxuZXhwb3J0IHR5cGUgTWFwUHJvcHMgPSB7XG4gIHByb3BzOiBEZWNrUHJvcHM7XG4gIGxheWVyczogTGF5ZXJbXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBNYXAoeyBwcm9wcywgbGF5ZXJzIH06IE1hcFByb3BzKSB7XG4gIGNvbnN0IGRlY2tnbCA9IHVzZVJlZjxEZWNrR0w+KG51bGwpO1xuICBjb25zdCBbaW5mbywgaGFuZGxlSG92ZXJdID0gdXNlSG92ZXIoKTtcblxuICBjb25zdCB7IG1hcGJveEFjY2Vzc1Rva2VuLCBtYXBTdHlsZSwgY29udHJvbGxlciwgcGFyYW1ldGVycywgYmxlbmRpbmdNb2RlLCAuLi5kZWNrUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBfcGFyYW1ldGVycyA9IHtcbiAgICAuLi5wYXJhbWV0ZXJzLFxuICAgIC4uLmJsZW5kaW5nUGFyYW1ldGVycyhibGVuZGluZ01vZGUpLFxuICB9O1xuICAvLyBsYXllciBhbmltYXRpb24gbG9vcFxuICBjb25zdCBbdGltZSwgc2V0VGltZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgYW5pbWF0aW5nID0gbGF5ZXJzLnNvbWUoKGxheWVyKSA9PiBsYXllci50eXBlID09PSBcIlRyaXBzTGF5ZXJcIik7XG4gIHVzZUFuaW1hdGlvbihhbmltYXRpbmcsICh0aW1lKSA9PiBzZXRUaW1lKHRpbWUpKTtcblxuICBjb25zdCBfbGF5ZXJzOiBhbnkgPSBsYXllcnMubWFwKChsYXllcikgPT4gKGxheWVyLnR5cGUgIT0gbnVsbCA/IGxheWVyLnJlbmRlckxheWVyKHRpbWUpIDogbnVsbCkpO1xuXG4gIHJldHVybiAoXG4gICAgPEZyYWdtZW50PlxuICAgICAgPERlY2tHTFxuICAgICAgICByZWY9e2RlY2tnbH1cbiAgICAgICAgey4uLmRlY2tQcm9wc31cbiAgICAgICAgcGFyYW1ldGVycz17X3BhcmFtZXRlcnN9XG4gICAgICAgIGxheWVycz17X2xheWVyc31cbiAgICAgICAgb25Ib3Zlcj17aGFuZGxlSG92ZXJ9XG4gICAgICA+XG4gICAgICAgIDxNYXBWaWV3IGlkPVwibWFwXCIgY29udHJvbGxlcj17Y29udHJvbGxlcn0gcmVwZWF0PXt0cnVlfT5cbiAgICAgICAgICB7bWFwU3R5bGUgJiYgPE1hcEdMIHJldXNlTWFwcyB7Li4ueyBtYXBib3hBY2Nlc3NUb2tlbiwgbWFwU3R5bGUgfX0gLz59XG4gICAgICAgIDwvTWFwVmlldz5cbiAgICAgIDwvRGVja0dMPlxuICAgICAge2luZm8gJiYgPFRvb2x0aXAgaW5mbz17aW5mb30gLz59XG4gICAgPC9GcmFnbWVudD5cbiAgKTtcbn1cblxuY29uc3QgdXNlSG92ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGU8UGlja0luZm88YW55PiB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGhhbmRsZUhvdmVyID0gdXNlQ2FsbGJhY2soKGluZm86IFBpY2tJbmZvPGFueT4pID0+IHtcbiAgICAvLyBub3QgcGlja2VkIG9yIG5vIHRvb2x0aXAgcHJvcFxuICAgIGlmICghaW5mby5waWNrZWQgfHwgIWluZm8ubGF5ZXIucHJvcHMudG9vbHRpcCB8fCBpbmZvLmxheWVyIGluc3RhbmNlb2YgX0FnZ3JlZ2F0aW9uTGF5ZXIpIHtcbiAgICAgIHJldHVybiBzZXRTdGF0ZShudWxsKTtcbiAgICB9XG5cbiAgICBzZXRTdGF0ZShpbmZvKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBbc3RhdGUsIGhhbmRsZUhvdmVyXSBhcyBbUGlja0luZm88YW55PiB8IG51bGwsIChpbmZvOiBQaWNrSW5mbzxhbnk+KSA9PiB2b2lkXTtcbn07XG5cbmNvbnN0IHVzZUFuaW1hdGlvbiA9IChlbmFibGVkOiBib29sZWFuLCBvbkZyYW1lOiAodGltZTogbnVtYmVyKSA9PiB2b2lkKSA9PiB7XG4gIGNvbnN0IGFuaW1hdGlvbiA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBjb25zdCBzdGFydFRpbWUgPSB1c2VSZWY8bnVtYmVyPihEYXRlLm5vdygpKTtcblxuICBjb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICAgIG9uRnJhbWUoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZS5jdXJyZW50KTtcbiAgICBhbmltYXRpb24uY3VycmVudCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgICAgcmV0dXJuICgpID0+IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb24uY3VycmVudCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2VuYWJsZWRdKTtcbn07XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcImtlcGxlclwiOlwia2VwbGVyXCIsXCJsaWdodFwiOlwibGlnaHRcIixcImxlZ2VuZFwiOlwiZGVQa2hibkpDT0hZVUFqX05TWGpcIixcImxheWVyXCI6XCJVc3d3a2FNRG9pYjR5dGM2MFpuOVwiLFwibGF5ZXItbmFtZVwiOlwiY2k1RUlGekg3cjEwQUc2QnNxaUdcIixcImxheWVyTmFtZVwiOlwiY2k1RUlGekg3cjEwQUc2QnNxaUdcIixcInNjYWxlXCI6XCJ0YzJpWEJrX2ZSNnE1R1dXcG85bVwiLFwic2NhbGUtbmFtZVwiOlwiUllXekw3S0dEWUhJWTJOSGJGNVhcIixcInNjYWxlTmFtZVwiOlwiUllXekw3S0dEWUhJWTJOSGJGNVhcIixcInNjYWxlLWJ5XCI6XCJybjY4cHFza29yUUdHY1lfc3FVZ1wiLFwic2NhbGVCeVwiOlwicm42OHBxc2tvclFHR2NZX3NxVWdcIixcImZpZWxkLW5hbWVcIjpcIm5ZcHpnXzQ4SXlIRmV0NERNU2JUXCIsXCJmaWVsZE5hbWVcIjpcIm5ZcHpnXzQ4SXlIRmV0NERNU2JUXCIsXCJjb2xvci1zY2FsZVwiOlwiaHJicUdmOVlKWUNxTjNfdE1JMUxcIixcImNvbG9yU2NhbGVcIjpcImhyYnFHZjlZSllDcU4zX3RNSTFMXCIsXCJ0aWNrXCI6XCJOcTJYQzVDbVdHRzJQU2dIOTJUclwiLFwibGluZVwiOlwibmpjaXRQZkNQbHI3b2hwZWlnOTJcIn07IiwiaW1wb3J0IHR5cGUgeyBTY2FsZUxpbmVhciwgU2NhbGVMb2dhcml0aG1pYywgU2NhbGVQb3dlciB9IGZyb20gXCJkMy1zY2FsZVwiO1xuaW1wb3J0IHtcbiAgQWNjZXNzb3JTY2FsZSxcbiAgQWNjZXNzb3JTY2FsZUNhdGVnb3J5LFxuICBBY2Nlc3NvclNjYWxlQ29udGludW91cyxcbiAgQWNjZXNzb3JTY2FsZURpc2NyZXRlLFxuICBpc0NvbG9yU2NhbGUsXG4gIGlzQ29udGludW91c1NjYWxlLFxuICBpc0Rpc2NyZXRlU2NhbGUsXG59IGZyb20gXCIuL3NjYWxlXCI7XG5pbXBvcnQgdHlwZSB7IExlZ2VuZEluZm8gfSBmcm9tIFwiLi9sYXllclwiO1xuaW1wb3J0IHsgcmdiYSB9IGZyb20gXCIuL2NvbG9yXCI7XG5pbXBvcnQgeyB3b3JkcyB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vbGVnZW5kLmNzc1wiO1xuXG5jb25zdCBUSUNLX0hFSUdIVCA9IDE2O1xuY29uc3QgVElDS19GT05UX1NJWkUgPSAxMTtcblxuZXhwb3J0IHR5cGUgTGVnZW5kUHJvcHMgPSB7XG4gIGxheWVyczogTGVnZW5kSW5mb1tdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIExlZ2VuZCh7IGxheWVycyB9OiBMZWdlbmRQcm9wcykge1xuICBpZiAobGF5ZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxlZ2VuZH0+XG4gICAgICB7bGF5ZXJzLm1hcCgobGF5ZXIpID0+IChcbiAgICAgICAgPExheWVyIGtleT17bGF5ZXIuaWR9IHsuLi5sYXllcn0gLz5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBMYXllcih7IG5hbWUsIHNjYWxlcyB9OiBMZWdlbmRJbmZvKSB7XG4gIGlmIChzY2FsZXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5sYXllck5hbWV9IHRpdGxlPXtuYW1lfT5cbiAgICAgICAge25hbWV9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtzY2FsZXMubWFwKChzY2FsZSkgPT4gKFxuICAgICAgICA8U2NhbGUga2V5PXtzY2FsZS5uYW1lfSB7Li4uc2NhbGV9IC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gU2NhbGUoc2NhbGU6IEFjY2Vzc29yU2NhbGU8bnVtYmVyIHwgQ29sb3I+KSB7XG4gIGNvbnN0IHNjYWxlTmFtZSA9IHdvcmRzKHNjYWxlLm5hbWUucmVwbGFjZSgvXmdldC8sIFwiXCIpKTtcbiAgY29uc3QgaXNDb2xvciA9IGlzQ29sb3JTY2FsZShzY2FsZSk7XG4gIGNvbnN0IGlzQ29udGludW91cyA9IGlzQ29udGludW91c1NjYWxlKHNjYWxlKTtcbiAgY29uc3QgaXNEaXNjcmV0ZSA9IGlzRGlzY3JldGVTY2FsZShzY2FsZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNjYWxlfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2NhbGVOYW1lfT57c2NhbGVOYW1lfTwvZGl2PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc2NhbGVCeX0+YnkgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuZmllbGROYW1lfSB0aXRsZT17c2NhbGUuY29sfT5cbiAgICAgICAge3NjYWxlLmNvbH1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtpc0NvbG9yICYmIGlzQ29udGludW91cyAmJiA8Q29udGludW91cyB7Li4uKHNjYWxlIGFzIEFjY2Vzc29yU2NhbGVDb250aW51b3VzPENvbG9yPil9IC8+fVxuICAgICAge2lzQ29sb3IgJiYgaXNEaXNjcmV0ZSAmJiA8RGlzY3JldGUgey4uLihzY2FsZSBhcyBBY2Nlc3NvclNjYWxlRGlzY3JldGU8Q29sb3I+KX0gLz59XG4gICAgICB7aXNDb2xvciAmJiBzY2FsZS5zY2FsZSA9PT0gXCJjYXRlZ29yeVwiICYmIChcbiAgICAgICAgPENhdGVnb3J5IHsuLi4oc2NhbGUgYXMgQWNjZXNzb3JTY2FsZUNhdGVnb3J5PENvbG9yPil9IC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5jb25zdCBDb250aW51b3VzID0gKHsgdGlja3MsIHNjYWxlRGF0YSB9OiBBY2Nlc3NvclNjYWxlQ29udGludW91czxDb2xvcj4pID0+IHtcbiAgY29uc3QgbGluZXMgPSB0aWNrcy5tYXAoKF8sIGluZGV4KSA9PiBpbmRleCkuc2xpY2UoMSwgLTEpO1xuICBjb25zdCBncmFkaWVudEhlaWdodCA9IFRJQ0tfSEVJR0hUICogKHRpY2tzLmxlbmd0aCAtIDEpO1xuICBjb25zdCBoZWlnaHQgPSBncmFkaWVudEhlaWdodCArIFRJQ0tfRk9OVF9TSVpFICsgMTtcblxuICByZXR1cm4gKFxuICAgIDxzdmcgY2xhc3NOYW1lPXtzdHlsZXMuY29sb3JTY2FsZX0gaGVpZ2h0PXtoZWlnaHR9IHNoYXBlUmVuZGVyaW5nPVwiY3Jpc3BFZGdlc1wiPlxuICAgICAgPHN2ZyB5PXs1fT5cbiAgICAgICAgPGltYWdlXG4gICAgICAgICAgd2lkdGg9ezIwfVxuICAgICAgICAgIGhlaWdodD17Z3JhZGllbnRIZWlnaHR9XG4gICAgICAgICAgaHJlZj17Z2V0Q29sb3JHcmFkaWVudChzY2FsZURhdGEpfVxuICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW89XCJub25lXCJcbiAgICAgICAgLz5cbiAgICAgICAge2xpbmVzLm1hcCgoaW5kZXgpID0+IChcbiAgICAgICAgICA8bGluZVxuICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmxpbmV9XG4gICAgICAgICAgICB4Mj17MjB9XG4gICAgICAgICAgICB5MT17VElDS19IRUlHSFQgKiBpbmRleH1cbiAgICAgICAgICAgIHkyPXtUSUNLX0hFSUdIVCAqIGluZGV4fVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC9zdmc+XG4gICAgICA8VGlja3MgdGlja3M9e3RpY2tzfSB5PXstMn0gLz5cbiAgICA8L3N2Zz5cbiAgKTtcbn07XG5cbmNvbnN0IERpc2NyZXRlID0gKHsgdGlja3MsIHJhbmdlIH06IEFjY2Vzc29yU2NhbGVEaXNjcmV0ZTxDb2xvcj4pID0+IHtcbiAgY29uc3QgY29sb3JzID0gcmFuZ2UubWFwKHJnYmEpO1xuICBjb25zdCBzY2FsZUhlaWdodCA9IFRJQ0tfSEVJR0hUICogKHRpY2tzLmxlbmd0aCAtIDEpO1xuICBjb25zdCBoZWlnaHQgPSBzY2FsZUhlaWdodCArIFRJQ0tfRk9OVF9TSVpFICsgMTtcblxuICByZXR1cm4gKFxuICAgIDxzdmcgY2xhc3NOYW1lPXtzdHlsZXMuY29sb3JTY2FsZX0gaGVpZ2h0PXtoZWlnaHR9IHNoYXBlUmVuZGVyaW5nPVwiY3Jpc3BFZGdlc1wiPlxuICAgICAgPHN2ZyB5PXs1fT5cbiAgICAgICAge2NvbG9ycy5tYXAoKGNvbG9yLCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxyZWN0IGtleT17aW5kZXh9IHdpZHRoPXsyMH0gaGVpZ2h0PXtUSUNLX0hFSUdIVH0geT17aW5kZXggKiBUSUNLX0hFSUdIVH0gZmlsbD17Y29sb3J9IC8+XG4gICAgICAgICkpfVxuICAgICAgPC9zdmc+XG4gICAgICA8VGlja3MgdGlja3M9e3RpY2tzfSB5PXstMn0gLz5cbiAgICA8L3N2Zz5cbiAgKTtcbn07XG5cbmZ1bmN0aW9uIENhdGVnb3J5KHsgdGlja3MsIHJhbmdlLCB1bmtub3duVGljaywgdW5rbm93biB9OiBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnk8Q29sb3I+KSB7XG4gIGNvbnN0IF9yYW5nZSA9IHVua25vd25UaWNrID8gWy4uLnJhbmdlLCB1bmtub3duXSA6IHJhbmdlO1xuICBjb25zdCBfdGlja3MgPSB1bmtub3duVGljayA/IFsuLi50aWNrcywgdW5rbm93blRpY2tdIDogdGlja3M7XG4gIGNvbnN0IGNvbG9ycyA9IF9yYW5nZS5tYXAocmdiYSk7XG4gIGNvbnN0IGhlaWdodCA9IFRJQ0tfSEVJR0hUICogX3RpY2tzLmxlbmd0aDtcblxuICByZXR1cm4gKFxuICAgIDxzdmcgY2xhc3NOYW1lPXtzdHlsZXMuY29sb3JTY2FsZX0gaGVpZ2h0PXtoZWlnaHR9PlxuICAgICAgPHN2Zz5cbiAgICAgICAge2NvbG9ycy5tYXAoKGNvbG9yLCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxyZWN0IGtleT17aW5kZXh9IHdpZHRoPXsyMH0gaGVpZ2h0PXsxNH0geT17MSArIGluZGV4ICogVElDS19IRUlHSFR9IGZpbGw9e2NvbG9yfSAvPlxuICAgICAgICApKX1cbiAgICAgIDwvc3ZnPlxuICAgICAgPFRpY2tzIHRpY2tzPXtfdGlja3N9IC8+XG4gICAgPC9zdmc+XG4gICk7XG59XG5cbnR5cGUgVGlja3NQcm9wcyA9IHtcbiAgdGlja3M6IGFueVtdO1xuICB4Pzogc3RyaW5nIHwgbnVtYmVyO1xuICB5Pzogc3RyaW5nIHwgbnVtYmVyO1xufTtcblxuZnVuY3Rpb24gVGlja3MoeyB0aWNrcywgeCA9IDI4LCB5ID0gMCB9OiBUaWNrc1Byb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHN2ZyB7Li4ueyB4LCB5IH19PlxuICAgICAge3RpY2tzLm1hcCgodGljaywgaW5kZXgpID0+IChcbiAgICAgICAgPHRleHQga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtzdHlsZXMudGlja30geT17VElDS19IRUlHSFQgKiBpbmRleH0gZHk9e1RJQ0tfRk9OVF9TSVpFfT5cbiAgICAgICAgICB7U3RyaW5nKHRpY2spfVxuICAgICAgICA8L3RleHQ+XG4gICAgICApKX1cbiAgICA8L3N2Zz5cbiAgKTtcbn1cblxudHlwZSBTY2FsZUNvbnRpbnVvdXM8VD4gPSBTY2FsZUxpbmVhcjxULCBUPiB8IFNjYWxlUG93ZXI8VCwgVD4gfCBTY2FsZUxvZ2FyaXRobWljPFQsIFQ+O1xuXG5mdW5jdGlvbiBnZXRDb2xvckdyYWRpZW50KHNjYWxlOiBTY2FsZUNvbnRpbnVvdXM8Q29sb3I+LCBuID0gMjAwKTogc3RyaW5nIHtcbiAgY29uc3QgbGVuZ3RoID0gc2NhbGUucmFuZ2UoKS5sZW5ndGg7XG4gIGNvbnN0IHJhbmdlOiBhbnkgPSBbLi4uQXJyYXkobGVuZ3RoKS5rZXlzKCldLm1hcCgoeCkgPT4geCAvIChsZW5ndGggLSAxKSk7XG4gIGNvbnN0IGludmVydCA9IHNjYWxlLmNvcHkoKS5yYW5nZShyYW5nZSkuaW52ZXJ0O1xuXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjYW52YXMud2lkdGggPSAxO1xuICBjYW52YXMuaGVpZ2h0ID0gbjtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgIGNvbnRleHQhLmZpbGxTdHlsZSA9IHJnYmEoc2NhbGUoaW52ZXJ0KGkgLyBuKSkpO1xuICAgIGNvbnRleHQhLmZpbGxSZWN0KDAsIGksIDEsIDEpO1xuICB9XG5cbiAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoKTtcbn1cbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wicmRlY2tcIjpcInJkZWNrXCIsXCJrZXBsZXJcIjpcImtlcGxlclwiLFwibGlnaHRcIjpcImxpZ2h0XCIsXCJjb250cm9sLWNvbnRhaW5lclwiOlwiUzlDSklWWFZBSzBJM0N1dGRJNmdcIixcImNvbnRyb2xDb250YWluZXJcIjpcIlM5Q0pJVlhWQUswSTNDdXRkSTZnXCIsXCJsZWZ0XCI6XCJZZGptQ1g2eks2YlNLMmhmMWYxMFwiLFwicmlnaHRcIjpcIlVWT3E1Z3hRaGtwcThzQ3FSZ0kyXCJ9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wia2VwbGVyXCI6XCJrZXBsZXJcIixcImxpZ2h0XCI6XCJsaWdodFwiLFwidG9nZ2xlLWJ1dHRvblwiOlwidnVBT3lEXzV0V21ZMlJQSFR1WVlcIixcInRvZ2dsZUJ1dHRvblwiOlwidnVBT3lEXzV0V21ZMlJQSFR1WVlcIixcInBhbmVsXCI6XCJuNmpwcFZ4RUJLT2oxaFNCWVo2X1wiLFwiaGVhZGVyXCI6XCJLUWZIbVliWmY1Y21LOWU2dDNpS1wiLFwiYnV0dG9uXCI6XCJMWlhZd19pVUVlUFZOVVFnVjQwaFwiLFwidGV4dFwiOlwiRGJ6bVA0X2hKNndZNjI4Y1NaaEdcIixcImJvZHlcIjpcInhLRGpqUmJKU1p4ZzB4eUQwbkFJXCIsXCJncm91cC1jb250YWluZXJcIjpcInZMR2lwcFN1TUl5dGdYdW9mQ0tkXCIsXCJncm91cENvbnRhaW5lclwiOlwidkxHaXBwU3VNSXl0Z1h1b2ZDS2RcIixcImxhYmVsXCI6XCJmRzE4ZjdaR2VwUV8yRmNUclBsalwiLFwiY2hlY2tlZFwiOlwibUhrSlhBb0hSYUppNXVUSjFIZ05cIixcImNoZWNrYm94XCI6XCJ5RW1sZHBQbTVwWV9xX1FPYVlCTVwiLFwiaWNvblwiOlwiczROenlNOEhtVXlPVWpod0ZHVEdcIn07IiwiaW1wb3J0IHsgRnJhZ21lbnQsIFByb3BzV2l0aENoaWxkcmVuLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENoZWNrQm94T3V0bGluZUJsYW5rLCBDaGVja0JveCwgSW5kZXRlcm1pbmF0ZUNoZWNrQm94LCBMYXllcnMgfSBmcm9tIFwiQG11aS9pY29ucy1tYXRlcmlhbFwiO1xuXG5pbXBvcnQgeyBWaXNpYmlsaXR5SW5mbyB9IGZyb20gXCIuL2xheWVyXCI7XG5pbXBvcnQgeyBjbGFzc05hbWVzLCBncm91cEJ5IH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi9sYXllci1zZWxlY3Rvci5jc3NcIjtcblxuY29uc3QgTk9fR1JPVVAgPSBEYXRlLm5vdygpO1xuXG5leHBvcnQgdHlwZSBUb2dnbGVCdXR0b25Qcm9wcyA9IFByb3BzV2l0aENoaWxkcmVuPHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICB0b29sdGlwPzogc3RyaW5nO1xuICBvbkNsaWNrOiAoKSA9PiB2b2lkO1xufT47XG5cbmV4cG9ydCBmdW5jdGlvbiBUb2dnbGVCdXR0b24oeyBjbGFzc05hbWUsIHRvb2x0aXAsIG9uQ2xpY2ssIGNoaWxkcmVuIH06IFRvZ2dsZUJ1dHRvblByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e29uQ2xpY2t9IHRpdGxlPXt0b29sdGlwfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuZXhwb3J0IHR5cGUgTGF5ZXJTZWxlY3RvclByb3BzID0ge1xuICBsYXllcnM6IFZpc2liaWxpdHlJbmZvW107XG4gIG9uVmlzaWJpbGl0eUNoYW5nZTogKGxheWVyczogVmlzaWJpbGl0eUluZm9bXSkgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXllclNlbGVjdG9yKHsgbGF5ZXJzLCBvblZpc2liaWxpdHlDaGFuZ2UgfTogTGF5ZXJTZWxlY3RvclByb3BzKSB7XG4gIGNvbnN0IGdyb3VwcyA9IGdyb3VwQnkobGF5ZXJzLCAobGF5ZXIpID0+IGxheWVyLmdyb3VwTmFtZSA/PyBgJHtsYXllci5uYW1lfS0ke05PX0dST1VQfWApO1xuXG4gIGNvbnN0IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoY2hhbmdlZDogVmlzaWJpbGl0eUluZm9bXSwgdmlzaWJsZTogYm9vbGVhbiwgZm9jdXM6IGJvb2xlYW4pID0+IHtcbiAgICBpZiAoZm9jdXMpIHtcbiAgICAgIGNvbnN0IG5vdENoYW5nZWQgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gIWNoYW5nZWQuaW5jbHVkZXMobGF5ZXIpKTtcbiAgICAgIGNvbnN0IG5vbkZvY3VzID0gIW5vdENoYW5nZWQuc29tZSgobGF5ZXIpID0+IGxheWVyLnZpc2libGUpO1xuICAgICAgcmV0dXJuIG9uVmlzaWJpbGl0eUNoYW5nZShcbiAgICAgICAgbGF5ZXJzLm1hcCgobGF5ZXIpID0+ICh7XG4gICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgdmlzaWJsZTogY2hhbmdlZC5pbmNsdWRlcyhsYXllcikgPyB2aXNpYmxlIDogbm9uRm9jdXMsXG4gICAgICAgIH0pKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBvblZpc2liaWxpdHlDaGFuZ2UoY2hhbmdlZC5tYXAoKGxheWVyKSA9PiAoeyAuLi5sYXllciwgdmlzaWJsZSB9KSkpO1xuICB9O1xuXG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZU9wZW5DaGFuZ2UgPSAoKSA9PiBzZXRJc09wZW4oKGlzT3BlbikgPT4gIWlzT3Blbik7XG5cbiAgaWYgKCFpc09wZW4pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRvZ2dsZUJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy50b2dnbGVCdXR0b259XG4gICAgICAgIHRvb2x0aXA9XCJMYXllciBzZWxlY3RvclwiXG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZU9wZW5DaGFuZ2V9XG4gICAgICA+XG4gICAgICAgIDxMYXllcnMgY2xhc3NOYW1lPXtzdHlsZXMuaWNvbn0gZm9udFNpemU9XCJzbWFsbFwiIC8+XG4gICAgICA8L1RvZ2dsZUJ1dHRvbj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnBhbmVsfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuaGVhZGVyfT5cbiAgICAgICAgPFRvZ2dsZUJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlcy5idXR0b259IG9uQ2xpY2s9e2hhbmRsZU9wZW5DaGFuZ2V9IHRvb2x0aXA9XCJDbG9zZVwiPlxuICAgICAgICAgIDxMYXllcnMgY2xhc3NOYW1lPXtzdHlsZXMuaWNvbn0gZm9udFNpemU9XCJzbWFsbFwiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMudGV4dH0+TGF5ZXJzPC9zcGFuPlxuICAgICAgICA8L1RvZ2dsZUJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ib2R5fT5cbiAgICAgICAge0FycmF5LmZyb20oZ3JvdXBzLmVudHJpZXMoKSwgKFtrZXksIGxheWVycywgW3sgZ3JvdXBOYW1lOiBncm91cCB9XSA9IGxheWVyc10pID0+IChcbiAgICAgICAgICA8Q2hlY2tib3hHcm91cCBrZXk9e2tleX0gey4uLnsgZ3JvdXAsIGxheWVycywgb25DaGFuZ2U6IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgfX0gLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxudHlwZSBDaGVja2JveEdyb3VwUHJvcHMgPSB7XG4gIGdyb3VwOiBzdHJpbmcgfCBudWxsO1xuICBsYXllcnM6IFZpc2liaWxpdHlJbmZvW107XG4gIG9uQ2hhbmdlOiAobGF5ZXJzOiBWaXNpYmlsaXR5SW5mb1tdLCB2aXNpYmxlOiBib29sZWFuLCBmb2N1czogYm9vbGVhbikgPT4gdm9pZDtcbn07XG5cbmZ1bmN0aW9uIENoZWNrYm94R3JvdXAoeyBncm91cCwgbGF5ZXJzLCBvbkNoYW5nZSB9OiBDaGVja2JveEdyb3VwUHJvcHMpIHtcbiAgY29uc3QgY2hlY2tib3hlcyA9IEFycmF5LmZyb20oXG4gICAgZ3JvdXBCeShsYXllcnMsIChsYXllcikgPT4gbGF5ZXIubmFtZSksXG4gICAgKFtuYW1lLCBsYXllcnNdKSA9PiA8Q2hlY2tib3gga2V5PXtuYW1lfSB7Li4ueyBuYW1lLCBsYXllcnMsIG9uQ2hhbmdlIH19IC8+XG4gICk7XG5cbiAgcmV0dXJuIGdyb3VwID8gKFxuICAgIDxGcmFnbWVudD5cbiAgICAgIDxDaGVja2JveCB7Li4ueyBuYW1lOiBncm91cCwgbGF5ZXJzLCBvbkNoYW5nZSB9fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ncm91cENvbnRhaW5lcn0+e2NoZWNrYm94ZXN9PC9kaXY+XG4gICAgPC9GcmFnbWVudD5cbiAgKSA6IChcbiAgICA8RnJhZ21lbnQ+e2NoZWNrYm94ZXN9PC9GcmFnbWVudD5cbiAgKTtcbn1cblxudHlwZSBDaGVja2JveFByb3BzID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIGxheWVyczogVmlzaWJpbGl0eUluZm9bXTtcbiAgb25DaGFuZ2U6IChsYXllcnM6IFZpc2liaWxpdHlJbmZvW10sIHZpc2libGU6IGJvb2xlYW4sIGZvY3VzOiBib29sZWFuKSA9PiB2b2lkO1xufTtcblxuZnVuY3Rpb24gQ2hlY2tib3goeyBuYW1lLCBsYXllcnMsIG9uQ2hhbmdlIH06IENoZWNrYm94UHJvcHMpIHtcbiAgY29uc3QgY2hlY2tlZCA9IGlzVmlzaWJsZShsYXllcnMpO1xuICBjb25zdCBpbmRldGVybWluYXRlID0gY2hlY2tlZCA9PT0gbnVsbDtcblxuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5pbmRldGVybWluYXRlID0gaW5kZXRlcm1pbmF0ZTtcbiAgICB9XG4gIH0sIFtpbmRldGVybWluYXRlXSk7XG5cbiAgY29uc3QgY2FuY2VsID0gdXNlUmVmPCgpID0+IGJvb2xlYW4+KCgpID0+IGZhbHNlKTtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKCkgPT4ge1xuICAgIC8vIGlmIGEgZGVsYXkgd2FzIGNhbmNlbGxlZCwgY2hlY2tib3ggd2FzIGNoZWNrZWQgd2l0aGluIGRlbGF5IHBlcmlvZFxuICAgIGNvbnN0IGNhbmNlbGxlZCA9IGNhbmNlbC5jdXJyZW50KCk7XG4gICAgLy8gZG91YmxlLWNsaWNrIC0+IHNob3cgbGF5ZXIgYW5kIGZvY3VzXG4gICAgaWYgKGNhbmNlbGxlZCkgb25DaGFuZ2UobGF5ZXJzLCB0cnVlLCB0cnVlKTtcbiAgICAvLyBzaW5nbGUtY2xpY2sgLT4gY2hhbmdlIGxheWVyIHdpdGggc21hbGwgZGVsYXlcbiAgICBlbHNlIGNhbmNlbC5jdXJyZW50ID0gZGVsYXkoKCkgPT4gb25DaGFuZ2UobGF5ZXJzLCAhY2hlY2tlZCwgZmFsc2UpLCAyMDApO1xuICB9O1xuXG4gIGNvbnN0IENoZWNrQm94SWNvbiA9IGNoZWNrZWRcbiAgICA/IENoZWNrQm94XG4gICAgOiBpbmRldGVybWluYXRlXG4gICAgPyBJbmRldGVybWluYXRlQ2hlY2tCb3hcbiAgICA6IENoZWNrQm94T3V0bGluZUJsYW5rO1xuXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKHN0eWxlcy5sYWJlbCwgY2hlY2tlZCB8fCBpbmRldGVybWluYXRlID8gc3R5bGVzLmNoZWNrZWQgOiBudWxsKTtcbiAgcmV0dXJuIChcbiAgICA8bGFiZWwgY2xhc3NOYW1lPXtjbGFzc2VzfT5cbiAgICAgIDxpbnB1dFxuICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jaGVja2JveH1cbiAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgY2hlY2tlZD17Y2hlY2tlZCA/PyB0cnVlfVxuICAgICAgLz5cbiAgICAgIDxDaGVja0JveEljb24gZm9udFNpemU9XCJzbWFsbFwiIGNsYXNzTmFtZT17c3R5bGVzLmljb259IC8+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy50ZXh0fT57bmFtZX08L3NwYW4+XG4gICAgPC9sYWJlbD5cbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNWaXNpYmxlKGxheWVyczogVmlzaWJpbGl0eUluZm9bXSkge1xuICBsZXQgdmlzaWJsZSA9IGxheWVyc1swXS52aXNpYmxlO1xuICBmb3IgKGNvbnN0IGxheWVyIG9mIGxheWVycykge1xuICAgIGlmIChsYXllci52aXNpYmxlICE9PSB2aXNpYmxlKSByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB2aXNpYmxlO1xufVxuXG5jb25zdCBkZWxheSA9IChvblRpbWVvdXQ6ICgpID0+IHZvaWQsIGRlbGF5ID0gMjAwKSA9PiB7XG4gIGNvbnN0IHJhZiA9IHsgY3VycmVudDogMCB9O1xuICBsZXQgc3RhcnRUaW1lID0gMDtcblxuICBjb25zdCBjYW5jZWwgPSAoKSA9PiB7XG4gICAgaWYgKHJhZi5jdXJyZW50ID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICBnbG9iYWxUaGlzLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZi5jdXJyZW50KTtcbiAgICByYWYuY3VycmVudCA9IDA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgY29uc3QgbG9vcCA9ICh0aW1lc3RhbXA6IG51bWJlcikgPT4ge1xuICAgIGlmICghc3RhcnRUaW1lKSB7XG4gICAgICBzdGFydFRpbWUgPSB0aW1lc3RhbXA7XG4gICAgfVxuXG4gICAgaWYgKHRpbWVzdGFtcCAtIHN0YXJ0VGltZSA+IGRlbGF5KSB7XG4gICAgICByYWYuY3VycmVudCA9IDA7XG4gICAgICBvblRpbWVvdXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByYWYuY3VycmVudCA9IGdsb2JhbFRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICB9O1xuXG4gIHJhZi5jdXJyZW50ID0gZ2xvYmFsVGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gIHJldHVybiBjYW5jZWw7XG59O1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlLCBSZWZPYmplY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEluaXRpYWxWaWV3U3RhdGVQcm9wcywgV2ViTWVyY2F0b3JWaWV3cG9ydCB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IERlY2tHTFByb3BzIH0gZnJvbSBcIkBkZWNrLmdsL3JlYWN0XCI7XG5pbXBvcnQgeyBNYXBQcm9wcyB9IGZyb20gXCJyZWFjdC1tYXAtZ2xcIjtcblxuaW1wb3J0IHsgTGF5ZXIsIExheWVyUHJvcHMsIFZpc2liaWxpdHlJbmZvIH0gZnJvbSBcIi4vbGF5ZXJcIjtcbmltcG9ydCB7IE1hcCB9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgTGVnZW5kIH0gZnJvbSBcIi4vbGVnZW5kXCI7XG5pbXBvcnQgc3R5bGVzIGZyb20gXCIuL2FwcC5jc3NcIjtcbmltcG9ydCB7IGNsYXNzTmFtZXMgfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBMYXllclNlbGVjdG9yIH0gZnJvbSBcIi4vbGF5ZXItc2VsZWN0b3JcIjtcblxuZXhwb3J0IHR5cGUgRGVja1Byb3BzID0gRGVja0dMUHJvcHMgJlxuICBQaWNrPE1hcFByb3BzLCBcIm1hcGJveEFjY2Vzc1Rva2VuXCIgfCBcIm1hcFN0eWxlXCI+ICYge1xuICAgIGluaXRpYWxCb3VuZHM/OiBCb3VuZHM7XG4gICAgYmxlbmRpbmdNb2RlOiBCbGVuZGluZ01vZGU7XG4gIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBwUHJvcHMge1xuICBwcm9wczogRGVja1Byb3BzO1xuICBsYXllcnM6IExheWVyUHJvcHNbXTtcbiAgdGhlbWU6IFwia2VwbGVyXCIgfCBcImxpZ2h0XCI7XG4gIGxhenlMb2FkOiBib29sZWFuO1xuICBsYXllclNlbGVjdG9yOiBib29sZWFuO1xuICBvbkxheWVyVmlzaWJpbGl0eUNoYW5nZTogKGxheWVyczogVmlzaWJpbGl0eUluZm9bXSkgPT4gdm9pZDtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBcHAoe1xuICBwcm9wcyxcbiAgbGF5ZXJzLFxuICB0aGVtZSxcbiAgbGF6eUxvYWQsXG4gIGxheWVyU2VsZWN0b3IsXG4gIG9uTGF5ZXJWaXNpYmlsaXR5Q2hhbmdlLFxuICB3aWR0aCxcbiAgaGVpZ2h0LFxufTogQXBwUHJvcHMpIHtcbiAgY29uc3QgeyBpbml0aWFsQm91bmRzLCBpbml0aWFsVmlld1N0YXRlLCAuLi5kZWNrZ2xQcm9wcyB9ID0gcHJvcHM7XG5cbiAgLy8gZml0IGJvdW5kc1xuICBjb25zdCBfaW5pdGlhbFZpZXdTdGF0ZSA9IHVzZUJvdW5kcyh3aWR0aCwgaGVpZ2h0LCBpbml0aWFsQm91bmRzLCBpbml0aWFsVmlld1N0YXRlKTtcbiAgY29uc3QgX2xheWVycyA9IGxheWVycy5tYXAoTGF5ZXIuY3JlYXRlKTtcblxuICBjb25zdCBjb250YWluZXIgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBpblZpZXdwb3J0ID0gdXNlSW5WaWV3cG9ydChjb250YWluZXIsIGxhenlMb2FkKTtcbiAgY29uc3Qgc2hvdWxkUmVuZGVyID0gIWxhenlMb2FkIHx8IGluVmlld3BvcnQ7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17Y29udGFpbmVyfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoc3R5bGVzLnJkZWNrLCB0aGVtZSl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoc3R5bGVzLmNvbnRyb2xDb250YWluZXIsIHN0eWxlcy5sZWZ0KX0+XG4gICAgICAgIHtsYXllclNlbGVjdG9yICYmIChcbiAgICAgICAgICA8TGF5ZXJTZWxlY3RvclxuICAgICAgICAgICAgbGF5ZXJzPXtfbGF5ZXJzXG4gICAgICAgICAgICAgIC5maWx0ZXIoKGxheWVyKSA9PiBsYXllci5wcm9wcy52aXNpYmlsaXR5VG9nZ2xlKVxuICAgICAgICAgICAgICAubWFwKChsYXllcikgPT4gbGF5ZXIucmVuZGVyU2VsZWN0b3IoKSlcbiAgICAgICAgICAgICAgLnJldmVyc2UoKX1cbiAgICAgICAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZT17b25MYXllclZpc2liaWxpdHlDaGFuZ2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAge3Nob3VsZFJlbmRlciAmJiAoXG4gICAgICAgIDxNYXAgcHJvcHM9e3sgLi4uZGVja2dsUHJvcHMsIGluaXRpYWxWaWV3U3RhdGU6IF9pbml0aWFsVmlld1N0YXRlIH19IGxheWVycz17X2xheWVyc30gLz5cbiAgICAgICl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhzdHlsZXMuY29udHJvbENvbnRhaW5lciwgc3R5bGVzLnJpZ2h0KX0+XG4gICAgICAgIDxMZWdlbmRcbiAgICAgICAgICBsYXllcnM9e19sYXllcnNcbiAgICAgICAgICAgIC5maWx0ZXIoKGxheWVyKSA9PiBsYXllci5wcm9wcy52aXNpYmxlKVxuICAgICAgICAgICAgLm1hcCgobGF5ZXIpID0+IGxheWVyLnJlbmRlckxlZ2VuZCgpKVxuICAgICAgICAgICAgLnJldmVyc2UoKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiB1c2VCb3VuZHMoXG4gIHdpZHRoOiBudW1iZXIsXG4gIGhlaWdodDogbnVtYmVyLFxuICBpbml0aWFsQm91bmRzPzogQm91bmRzLFxuICBpbml0aWFsVmlld1N0YXRlPzogSW5pdGlhbFZpZXdTdGF0ZVByb3BzXG4pIHtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShpbml0aWFsQm91bmRzKSkge1xuICAgICAgcmV0dXJuIGluaXRpYWxWaWV3U3RhdGU7XG4gICAgfVxuXG4gICAgY29uc3QgW3htaW4sIHltaW4sIHhtYXgsIHltYXhdID0gaW5pdGlhbEJvdW5kcztcbiAgICAvLyBjb25zdHJhaW4gdG8gd2ViIG1lcmNhdG9yIGxpbWl0c1xuICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlYl9NZXJjYXRvcl9wcm9qZWN0aW9uXG4gICAgY29uc3QgYm91bmRzOiBbW251bWJlciwgbnVtYmVyXSwgW251bWJlciwgbnVtYmVyXV0gPSBbXG4gICAgICBbTWF0aC5tYXgoLTE4MCwgeG1pbiksIE1hdGgubWF4KHltaW4sIC04NS4wNTExMjkpXSxcbiAgICAgIFtNYXRoLm1pbigxODAsIHhtYXgpLCBNYXRoLm1pbih5bWF4LCA4NS4wNTExMjkpXSxcbiAgICBdO1xuXG4gICAgY29uc3Qgdmlld3BvcnQgPSBuZXcgV2ViTWVyY2F0b3JWaWV3cG9ydCh7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgY29uc3QgeyBsb25naXR1ZGUsIGxhdGl0dWRlLCB6b29tIH0gPSB2aWV3cG9ydC5maXRCb3VuZHMoYm91bmRzKTtcblxuICAgIHJldHVybiB7IC4uLmluaXRpYWxWaWV3U3RhdGUsIGxvbmdpdHVkZSwgbGF0aXR1ZGUsIHpvb20gfTtcbiAgfSwgW2luaXRpYWxCb3VuZHMsIGluaXRpYWxWaWV3U3RhdGUsIHdpZHRoLCBoZWlnaHRdKTtcbn1cblxuZnVuY3Rpb24gdXNlSW5WaWV3cG9ydChyZWY6IFJlZk9iamVjdDxIVE1MRWxlbWVudD4sIGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZW5hYmxlZCAmJiByZWYuY3VycmVudCkge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgc2V0U3RhdGUoZW50cmllc1swXS5pc0ludGVyc2VjdGluZyk7XG4gICAgICAgIH0sXG4gICAgICAgIHsgdGhyZXNob2xkOiAwIH1cbiAgICAgICk7XG5cbiAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmLmN1cnJlbnQpO1xuICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0sIFtlbmFibGVkLCByZWZdKTtcblxuICByZXR1cm4gc3RhdGU7XG59XG4iLCJpbXBvcnQgeyBJbml0aWFsVmlld1N0YXRlUHJvcHMsIFdlYk1lcmNhdG9yVmlld3BvcnQgfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHsgcGljayB9IGZyb20gXCIuL3V0aWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZpZXdTdGF0ZSh2aWV3U3RhdGU6IFdlYk1lcmNhdG9yVmlld3BvcnQgfCBJbml0aWFsVmlld1N0YXRlUHJvcHMpIHtcbiAgY29uc3Qgdmlld3BvcnQgPVxuICAgIHZpZXdTdGF0ZSBpbnN0YW5jZW9mIFdlYk1lcmNhdG9yVmlld3BvcnQgPyB2aWV3U3RhdGUgOiBuZXcgV2ViTWVyY2F0b3JWaWV3cG9ydCh2aWV3U3RhdGUpO1xuXG4gIGNvbnN0IHByb3BzID0gcGljayh2aWV3cG9ydCwgXCJsb25naXR1ZGVcIiwgXCJsYXRpdHVkZVwiLCBcInpvb21cIiwgXCJiZWFyaW5nXCIsIFwicGl0Y2hcIiwgXCJhbHRpdHVkZVwiKTtcbiAgcmV0dXJuIHtcbiAgICBib3VuZHM6IHZpZXdwb3J0LmdldEJvdW5kcygpLFxuICAgIHZpZXdTdGF0ZToge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBjZW50ZXI6IHZpZXdwb3J0LnVucHJvamVjdEZsYXQodmlld3BvcnQuY2VudGVyKSxcbiAgICB9LFxuICB9O1xufVxuIiwiaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB0eXBlIHsgSW5pdGlhbFZpZXdTdGF0ZVByb3BzLCBQaWNrSW5mbyB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgeyBBcHAsIEFwcFByb3BzLCBEZWNrUHJvcHMgfSBmcm9tIFwiLi9hcHBcIjtcbmltcG9ydCB0eXBlIHsgTGF5ZXJQcm9wcyB9IGZyb20gXCIuL2xheWVyXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSwgZ2V0RWxlbWVudERpbWVuc2lvbnMsIHBpY2sgfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBnZXRWaWV3U3RhdGUgfSBmcm9tIFwiLi92aWV3cG9ydFwiO1xuaW1wb3J0IHsgZ2V0UGlja2VkT2JqZWN0IH0gZnJvbSBcIi4vcGlja2luZ1wiO1xuXG5leHBvcnQgY29uc3QgYmluZGluZzogSFRNTFdpZGdldHMuQmluZGluZyA9IHtcbiAgbmFtZTogXCJyZGVja1wiLFxuICB0eXBlOiBcIm91dHB1dFwiLFxuICBmYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgLy8gY29tcHV0ZSBlbCBkaW1lbnNpb25zIGlmIGluaXRpYWxseSBoaWRkZW5cbiAgICBpZiAod2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB7XG4gICAgICBbd2lkdGgsIGhlaWdodF0gPSBnZXRFbGVtZW50RGltZW5zaW9ucyhlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBXaWRnZXQoZWwsIHdpZHRoLCBoZWlnaHQpO1xuICB9LFxufTtcblxudHlwZSBMYXllclZpc2liaWxpdHlQcm9wcyA9IFBpY2s8TGF5ZXJQcm9wcywgXCJncm91cE5hbWVcIiB8IFwidmlzaWJsZVwiPiAmIHtcbiAgbmFtZTogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgV2lkZ2V0UHJvcHMgPSBQaWNrPEFwcFByb3BzLCBcInByb3BzXCIgfCBcImxheWVyc1wiIHwgXCJ0aGVtZVwiIHwgXCJsYXllclNlbGVjdG9yXCIgfCBcImxhenlMb2FkXCI+O1xuXG5leHBvcnQgY2xhc3MgV2lkZ2V0IGltcGxlbWVudHMgSFRNTFdpZGdldHMuV2lkZ2V0LCBXaWRnZXRQcm9wcyB7XG4gICNlbDogSFRNTEVsZW1lbnQ7XG4gICN3aWR0aDogbnVtYmVyO1xuICAjaGVpZ2h0OiBudW1iZXI7XG4gIHByb3BzOiBEZWNrUHJvcHMgPSB7IGJsZW5kaW5nTW9kZTogXCJub3JtYWxcIiB9O1xuICBsYXllcnM6IExheWVyUHJvcHNbXSA9IFtdO1xuICB0aGVtZTogXCJrZXBsZXJcIiB8IFwibGlnaHRcIiA9IFwia2VwbGVyXCI7XG4gIGxheWVyU2VsZWN0b3I6IGJvb2xlYW4gPSB0cnVlO1xuICBsYXp5TG9hZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGVsOiBIVE1MRWxlbWVudCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICB0aGlzLiNlbCA9IGVsO1xuICAgIHRoaXMuI3dpZHRoID0gd2lkdGg7XG4gICAgdGhpcy4jaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25WaWV3U3RhdGVDaGFuZ2UgPSB0aGlzLm9uVmlld1N0YXRlQ2hhbmdlLmJpbmQodGhpcyk7XG5cbiAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7XG4gICAgICBjb25zdCBkZWJvdW5jZWRSZW5kZXIgPSBkZWJvdW5jZSgocHJvcHMgPSB7fSkgPT4gdGhpcy5yZW5kZXJWYWx1ZShwcm9wcyksIDUwKTtcblxuICAgICAgLy8gdXBkYXRlIGxheWVyc1xuICAgICAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoYCR7ZWwuaWR9OmxheWVyYCwgKGxheWVyOiBMYXllclByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IF9sYXllciA9IHRoaXMubGF5ZXJzLmZpbmQoKHgpID0+IHguaWQgPT09IGxheWVyLmlkKTtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0ge1xuICAgICAgICAgIC4uLl9sYXllcixcbiAgICAgICAgICAuLi5sYXllcixcbiAgICAgICAgICAvLyBpZiB2aXNpYmxlIGlzIG51bGwsIHVzZSBleGlzdGluZ1xuICAgICAgICAgIHZpc2libGU6IGxheWVyLnZpc2libGUgPz8gX2xheWVyPy52aXNpYmxlLFxuICAgICAgICAgIC8vIGlmIGRhdGEgaXMgbm90IHN1cHBsaWVkIC8gaXMgZmFsc2V5IGZyb20gc2hpbnksIHVzZSBleGlzdGluZ1xuICAgICAgICAgIGRhdGE6IGxheWVyLmRhdGEgPz8gX2xheWVyPy5kYXRhID8/IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdXBzZXJ0XG4gICAgICAgIHRoaXMubGF5ZXJzID1cbiAgICAgICAgICBfbGF5ZXIgPT0gbnVsbFxuICAgICAgICAgICAgPyBbLi4udGhpcy5sYXllcnMsIG1lcmdlZF1cbiAgICAgICAgICAgIDogdGhpcy5sYXllcnMubWFwKCh4KSA9PiAoeCA9PT0gX2xheWVyID8gbWVyZ2VkIDogeCkpO1xuXG4gICAgICAgIGRlYm91bmNlZFJlbmRlcih7IGxheWVyczogdGhpcy5sYXllcnMgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gdXBkYXRlIG1hcFxuICAgICAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoYCR7ZWwuaWR9OmRlY2tgLCAoeyBwcm9wcywgdGhlbWUsIGxhenlMb2FkIH06IFJEZWNrUHJvcHMpID0+IHtcbiAgICAgICAgdGhpcy5yZW5kZXJWYWx1ZSh7XG4gICAgICAgICAgcHJvcHM6IHsgLi4udGhpcy5wcm9wcywgLi4ucHJvcHMgfSxcbiAgICAgICAgICB0aGVtZTogdGhlbWUsXG4gICAgICAgICAgbGF6eUxvYWQ6IGxhenlMb2FkLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0TGF5ZXJWaXNpYmlsaXR5ID0gdGhpcy5zZXRMYXllclZpc2liaWxpdHkuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHJlbmRlclZhbHVlKHsgcHJvcHMsIGxheWVycywgdGhlbWUsIGxheWVyU2VsZWN0b3IsIGxhenlMb2FkIH06IFBhcnRpYWw8V2lkZ2V0UHJvcHM+ID0ge30pIHtcbiAgICAvLyBtZXJnZSBpbiBuZXcgcHJvcHMgd2l0aCBleGlzdGluZyBzdGF0ZVxuICAgIGNvbnN0IF9wcm9wcyA9IHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2ssXG4gICAgICAgIG9uVmlld1N0YXRlQ2hhbmdlOiBkZWJvdW5jZSh0aGlzLm9uVmlld1N0YXRlQ2hhbmdlLCA1MCksXG4gICAgICB9LFxuICAgICAgbGF5ZXJzOiBsYXllcnMgPz8gdGhpcy5sYXllcnMsXG4gICAgICB0aGVtZTogdGhlbWUgPz8gdGhpcy50aGVtZSxcbiAgICAgIGxheWVyU2VsZWN0b3I6IGxheWVyU2VsZWN0b3IgPz8gdGhpcy5sYXllclNlbGVjdG9yLFxuICAgICAgbGF6eUxvYWQ6IGxhenlMb2FkID8/IHRoaXMubGF6eUxvYWQsXG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIF9wcm9wcyk7XG5cbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8QXBwXG4gICAgICAgIHsuLi5fcHJvcHN9XG4gICAgICAgIG9uTGF5ZXJWaXNpYmlsaXR5Q2hhbmdlPXt0aGlzLnNldExheWVyVmlzaWJpbGl0eX1cbiAgICAgICAgd2lkdGg9e3RoaXMuI3dpZHRofVxuICAgICAgICBoZWlnaHQ9e3RoaXMuI2hlaWdodH1cbiAgICAgIC8+LFxuICAgICAgdGhpcy4jZWxcbiAgICApO1xuICB9XG5cbiAgLy8gZGVjay5nbCBoYW5kbGVzIHJlc2l6ZSBhdXRvbWF0aWNhbGx5XG4gIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge31cblxuICAvKipcbiAgICogR2V0IHdpZGdldCBpZFxuICAgKi9cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuI2VsLmlkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsYXllcnMnIHZpc2liaWxpdHkuIExheWVycyBub3QgaW5jbHVkZWQgaW4gdmlzaWJpbGl0eSBhcmUgdW5hbHRlcmVkLlxuICAgKiBAcGFyYW0gdmlzaWJpbGl0eSB0aGUgbGF5ZXJzIHZpc2liaWxpdHlcbiAgICovXG4gIHNldExheWVyVmlzaWJpbGl0eShsYXllcnM6IExheWVyVmlzaWJpbGl0eVByb3BzW10pOiB2b2lkIHtcbiAgICBpZiAobGF5ZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaXNNYXRjaCA9IChsYXllclZpc2libGl0eTogTGF5ZXJWaXNpYmlsaXR5UHJvcHMsIGxheWVyOiBMYXllclByb3BzKSA9PiB7XG4gICAgICBjb25zdCBuYW1lRXF1YWwgPSBsYXllclZpc2libGl0eS5uYW1lID09PSBsYXllci5uYW1lO1xuICAgICAgY29uc3QgZ3JvdXBFcXVhbCA9IGxheWVyVmlzaWJsaXR5Lmdyb3VwTmFtZSA9PT0gbGF5ZXIuZ3JvdXBOYW1lO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICAobmFtZUVxdWFsICYmIGdyb3VwRXF1YWwpIHx8XG4gICAgICAgIC8vIGFsbCBsYXllcnMgaW4gYSBncm91cFxuICAgICAgICAobGF5ZXJWaXNpYmxpdHkubmFtZSA9PSBudWxsICYmIGxheWVyVmlzaWJsaXR5Lmdyb3VwTmFtZSAhPSBudWxsICYmIGdyb3VwRXF1YWwpXG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCBfbGF5ZXJzID0gdGhpcy5sYXllcnMubWFwKChsYXllcikgPT4ge1xuICAgICAgY29uc3QgX2xheWVyID0gbGF5ZXJzLmZpbmQoKHgpID0+IGlzTWF0Y2goeCwgbGF5ZXIpICYmIHgudmlzaWJsZSAhPT0gbGF5ZXIudmlzaWJsZSk7XG4gICAgICByZXR1cm4gX2xheWVyID8geyAuLi5sYXllciwgdmlzaWJsZTogX2xheWVyLnZpc2libGUgfSA6IGxheWVyO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZW5kZXJWYWx1ZSh7IGxheWVyczogX2xheWVycyB9KTtcbiAgfVxuXG4gIG9uQ2xpY2soaW5mbzogUGlja0luZm88YW55Pikge1xuICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGNvb3JkaW5hdGU6IGluZm8uY29vcmRpbmF0ZSxcbiAgICAgICAgLi4uZ2V0Vmlld1N0YXRlKGluZm8udmlld3BvcnQpLFxuICAgICAgICBsYXllcjogcGljayhpbmZvLmxheWVyPy5wcm9wcywgXCJpZFwiLCBcIm5hbWVcIiwgXCJncm91cE5hbWVcIiksXG4gICAgICAgIG9iamVjdDogZ2V0UGlja2VkT2JqZWN0KGluZm8pLFxuICAgICAgfTtcblxuICAgICAgU2hpbnkuc2V0SW5wdXRWYWx1ZShgJHt0aGlzLmlkfV9jbGlja2AsIGRhdGEsIHsgcHJpb3JpdHk6IFwiZXZlbnRcIiB9KTtcbiAgICB9XG4gIH1cblxuICBvblZpZXdTdGF0ZUNoYW5nZSh7IHZpZXdTdGF0ZSB9OiB7IHZpZXdTdGF0ZTogSW5pdGlhbFZpZXdTdGF0ZVByb3BzIH0pIHtcbiAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7XG4gICAgICBjb25zdCBkYXRhID0gZ2V0Vmlld1N0YXRlKHZpZXdTdGF0ZSk7XG5cbiAgICAgIFNoaW55LnNldElucHV0VmFsdWUoYCR7dGhpcy5pZH1fdmlld3N0YXRlYCwgZGF0YSwgeyBwcmlvcml0eTogXCJldmVudFwiIH0pO1xuICAgIH1cbiAgfVxufVxuXG50eXBlIFdpZGdldENvbnRhaW5lciA9IEhUTUxFbGVtZW50ICYgeyBodG1sd2lkZ2V0X2RhdGFfaW5pdF9yZXN1bHQ6IFdpZGdldCB9O1xuXG4vKipcbiAqIEdldCBhbiByZGVjayB3aWRnZXQgaW5zdGFuY2UgYnkgaWRcbiAqIEBwYXJhbSBpZCB0aGUgd2lkZ2V0IGlkXG4gKiBAcmV0dXJucyB7V2lkZ2V0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0QnlJZChpZDogc3RyaW5nKTogV2lkZ2V0IHwgbnVsbCB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgYXMgV2lkZ2V0Q29udGFpbmVyIHwgbnVsbDtcbiAgcmV0dXJuIGVsZW1lbnQ/Lmh0bWx3aWRnZXRfZGF0YV9pbml0X3Jlc3VsdCA/PyBudWxsO1xufVxuXG4vKipcbiAqIEdldCBhbGwgcmRlY2sgd2lkZ2V0IGluc3RhbmNlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0cygpOiBXaWRnZXRbXSB7XG4gIGNvbnN0IGVsZW1lbnRzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmRlY2suaHRtbC13aWRnZXRcIildIGFzIFdpZGdldENvbnRhaW5lcltdO1xuICByZXR1cm4gZWxlbWVudHMubWFwKCh4KSA9PiB4Lmh0bWx3aWRnZXRfZGF0YV9pbml0X3Jlc3VsdCkuZmlsdGVyKCh4KSA9PiB4IGluc3RhbmNlb2YgV2lkZ2V0KTtcbn1cblxuLyogcmVnaXN0ZXIgd2lkZ2V0ICovXG5IVE1MV2lkZ2V0cy53aWRnZXQoYmluZGluZyk7XG4iLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmZyb20tZW50cmllc1wiO1xuXG5kZWNsYXJlIGNvbnN0IF9fVkVSU0lPTl9fOiBzdHJpbmc7XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gX19WRVJTSU9OX187XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRcIjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0NDcyOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtyZGVja1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtyZGVja1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzQ4Niw0NzQsNjE5LDU2OCwxNzUsNjI3LDgxMSw0Miw4OTksNjY3LDMyNCwxMzQsMTMzLDQ2OCw3NDUsNTM1LDUyOCw3ODQsMzc4LDM5NCw4MTYsNDg1LDY1MCw4NjksNjcsMTQsNjQ1LDgwNiwyODIsOTUzLDUzOCw0OSw2MzksODI1LDU5Nl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDg5ODEpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsImRlZmVycmVkIiwibGVhZlByb3RvdHlwZXMiLCJnZXRQcm90byIsIkRFRkFVTFRfQ09MT1IiLCJyZ2JhIiwiciIsImciLCJiIiwiYSIsInBhcnNlQ29sb3IiLCJjb2xvciIsInRhcmdldCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInZhbHVlIiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJNYXRoIiwiZmxvb3IiLCJwYXJzZUhleENvbG9yIiwiaXNBY2Nlc3NvciIsIm9iaiIsInR5cGUiLCJpc0FjY2Vzc29yU2NhbGUiLCJCTEVORElOR19NT0RFUyIsIk9iamVjdCIsImZyZWV6ZSIsImFkZGl0aXZlIiwiYmxlbmRGdW5jIiwiYmxlbmRFcXVhdGlvbiIsInN1YnRyYWN0aXZlIiwibm9ybWFsIiwiYmxlbmRpbmdQYXJhbWV0ZXJzIiwibW9kZSIsImlzRGF0YUZyYW1lIiwiZGF0YSIsImZsYXR0ZW4iLCJuYW1lIiwib2xkRnJhbWUiLCJmcmFtZSIsIm5ld0ZyYW1lIiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwia2V5Iiwia2V5cyIsImZpbHRlciIsImdlb21ldHJpZXMiLCJpc011bHRpR2VvbWV0cnkiLCJpc011bHRpUG9pbnQiLCJpc011bHRpTGluZVN0cmluZyIsImlzTXVsdGlQb2x5Z29uIiwiVHlwZUVycm9yIiwiaXNNdWx0aUdlb21ldHJ5Rm4iLCJjb3B5VmFsdWVzIiwiaW5kZXgiLCJwdXNoIiwiaW5kaWNlcyIsImdlb21ldHJ5IiwicmVwIiwicmVwbGFjZSIsIk11bHRpSGlnaGxpZ2h0RXh0ZW5zaW9uIiwiaW5pdGlhbGl6ZVN0YXRlIiwibGF5ZXIiLCJMYXllcnMiLCJzb21lIiwiTGF5ZXIiLCJpc1ByaW1pdGl2ZUxheWVyIiwidGhpcyIsImF0dHJpYnV0ZU1hbmFnZXIiLCJnZXRBdHRyaWJ1dGVNYW5hZ2VyIiwiYWRkSW5zdGFuY2VkIiwicGlja2luZ0NvbG9ycyIsInNpemUiLCJhY2Nlc3NvciIsIm9iamVjdCIsImVuY29kZVBpY2tpbmdDb2xvciIsImluZGV4T2YiLCJwYXJlbnREYXRhIiwiX19zb3VyY2UiLCJwYXJlbnQiLCJwcm9wcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJkaXZpc29yIiwiaW5zdGFuY2VQaWNraW5nQ29sb3JzIiwicGljayIsImdldEZpcnN0VmlzaWJsZSIsImVsIiwiY2xpZW50SGVpZ2h0IiwicGFyZW50RWxlbWVudCIsImdldEVsZW1lbnREaW1lbnNpb25zIiwidmlzaWJsZSIsImNsaWVudFdpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRDb21wdXRlZFN0eWxlIiwibm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFzc2lnbiIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwiZGltcyIsInJlbW92ZUNoaWxkIiwiZ3JvdXBCeSIsImxpc3QiLCJNYXAiLCJpdGVtIiwiaXRlbUtleSIsImhhcyIsImdldCIsInNldCIsImNsYXNzTmFtZXMiLCJ4Iiwiam9pbiIsImRlYm91bmNlIiwiZm4iLCJ3YWl0IiwidGltZW91dCIsImFyZ3MiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiTWFwQ2FjaGUiLCJfdmFsIiwiX3JlZiIsIldlYWtNYXAiLCJnZXRTdG9yZSIsIm1lbW9pemUiLCJhcmcwIiwiY2FjaGUiLCJzbGljZSIsInJlZHVjZVJpZ2h0IiwiYXJnIiwiY2hpbGQiLCJtdWx0aUdlb21ldHJpZXMiLCJ0ZXN0IiwiZ2V0TXVsdGlHZW9tZXRyeSIsInJlZHVjZSIsImdldERhdGEiLCJjb2wiLCJkYXRhVHlwZSIsInRhYmxlSGlnaGxpZ2h0Iiwib2JqZWN0SGlnaGxpZ2h0IiwicHJvcGVydGllcyIsImdlb2pzb25IaWdobGlnaHQiLCJlbmRzV2l0aCIsIl8iLCJ0YWJsZUNvbG9yIiwib2JqZWN0Q29sb3IiLCJnZW9qc29uQ29sb3IiLCJ0YWJsZURhdGEiLCJvYmplY3REYXRhIiwiZ2VvanNvbkRhdGEiLCJhY2Nlc3NvckZuIiwicmFuZ2UiLCJwYWxldHRlIiwidW5rbm93biIsInNjYWxlRGF0YSIsInNjYWxlIiwiZG9tYWluIiwiY2xhbXAiLCJleHBvbmVudCIsImJhc2UiLCJzY2FsZUZuIiwiaGlnaGxpZ2h0Rm4iLCJjb25zdHJ1Y3RvciIsImNvbG9ycyIsImlzQ29sb3IiLCJjb2xvclJhbmdlIiwiZmluZCIsImdldENvbG9ycyIsImFjY2Vzc29ycyIsImdldEFjY2Vzc29ycyIsIl9wcm9wcyIsImdldFdlaWdodFByb3BzIiwiZ2V0VXBkYXRlVHJpZ2dlcnMiLCJwYXJhbWV0ZXJzIiwiYmxlbmRpbmdNb2RlIiwiZXh0ZW5zaW9ucyIsInJlbmRlclN1YkxheWVycyIsImJib3giLCJ3ZXN0Iiwic291dGgiLCJlYXN0Iiwibm9ydGgiLCJ5IiwieiIsInRpbGUiLCJpbWFnZSIsImJvdW5kcyIsInNjYWxlcyIsImZvbnRzIiwibG9hZCIsImZvbnRGYW1pbHkiLCJzdGF0aWMiLCJyZW5kZXJMYXllciIsInRpbWUiLCJ1bmRlZmluZWQiLCJsb29wTGVuZ3RoIiwiYW5pbWF0aW9uU3BlZWQiLCJhbmltYXRpb25UaW1lIiwicmF0aW9Db21wbGV0ZSIsImN1cnJlbnRUaW1lIiwicmVuZGVyTGVnZW5kIiwibGVnZW5kIiwiaWQiLCJyZW5kZXJTZWxlY3RvciIsImdyb3VwTmFtZSIsInNjYWxlUHJvcHMiLCJwcm9wVHJpZ2dlcnMiLCJGRUFUVVJFX0lEIiwiZ2V0UGlja2VkT2JqZWN0IiwiaW5mbyIsInBpY2tlZCIsImlzR2VvanNvbiIsImdldERhdGFUeXBlIiwiZ2VvbXMiLCJpbmNsdWRlcyIsIlRvb2x0aXAiLCJ0b29sdGlwIiwibmFtZXMiLCJjb2xzIiwiY2xhc3NOYW1lIiwidHJhbnNmb3JtIiwiU3RyaW5nIiwibGF5ZXJzIiwiZGVja2dsIiwidXNlUmVmIiwiaGFuZGxlSG92ZXIiLCJ1c2VIb3ZlciIsIm1hcGJveEFjY2Vzc1Rva2VuIiwibWFwU3R5bGUiLCJjb250cm9sbGVyIiwiZGVja1Byb3BzIiwiX3BhcmFtZXRlcnMiLCJzZXRUaW1lIiwidXNlU3RhdGUiLCJhbmltYXRpbmciLCJ1c2VBbmltYXRpb24iLCJfbGF5ZXJzIiwiRnJhZ21lbnQiLCJyZWYiLCJvbkhvdmVyIiwicmVwZWF0IiwicmV1c2VNYXBzIiwic3RhdGUiLCJzZXRTdGF0ZSIsInVzZUNhbGxiYWNrIiwiZW5hYmxlZCIsIm9uRnJhbWUiLCJhbmltYXRpb24iLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiYW5pbWF0ZSIsImN1cnJlbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1c2VFZmZlY3QiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIlRJQ0tfSEVJR0hUIiwiTGVnZW5kIiwidGl0bGUiLCJTY2FsZSIsInNjYWxlTmFtZSIsInRvTG93ZXJDYXNlIiwiaXNDb250aW51b3VzIiwiaXNDb250aW51b3VzU2NhbGUiLCJpc0Rpc2NyZXRlIiwiaXNEaXNjcmV0ZVNjYWxlIiwiQ29udGludW91cyIsIkRpc2NyZXRlIiwiQ2F0ZWdvcnkiLCJ0aWNrcyIsImxpbmVzIiwiZ3JhZGllbnRIZWlnaHQiLCJzaGFwZVJlbmRlcmluZyIsImhyZWYiLCJnZXRDb2xvckdyYWRpZW50IiwicHJlc2VydmVBc3BlY3RSYXRpbyIsIngyIiwieTEiLCJ5MiIsIlRpY2tzIiwiZmlsbCIsInVua25vd25UaWNrIiwiX3JhbmdlIiwiX3RpY2tzIiwidGljayIsImR5IiwibiIsImludmVydCIsImNvcHkiLCJjYW52YXMiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImkiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInRvRGF0YVVSTCIsIk5PX0dST1VQIiwiVG9nZ2xlQnV0dG9uIiwib25DbGljayIsImNoaWxkcmVuIiwiTGF5ZXJTZWxlY3RvciIsIm9uVmlzaWJpbGl0eUNoYW5nZSIsImdyb3VwcyIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJjaGFuZ2VkIiwiZm9jdXMiLCJub25Gb2N1cyIsImlzT3BlbiIsInNldElzT3BlbiIsImhhbmRsZU9wZW5DaGFuZ2UiLCJmb250U2l6ZSIsImZyb20iLCJncm91cCIsIkNoZWNrYm94R3JvdXAiLCJvbkNoYW5nZSIsImNoZWNrYm94ZXMiLCJDaGVja2JveCIsImNoZWNrZWQiLCJpc1Zpc2libGUiLCJpbmRldGVybWluYXRlIiwiaW5wdXRSZWYiLCJjYW5jZWwiLCJDaGVja0JveEljb24iLCJDaGVja0JveCIsIkluZGV0ZXJtaW5hdGVDaGVja0JveCIsIkNoZWNrQm94T3V0bGluZUJsYW5rIiwiY2xhc3NlcyIsImRlbGF5Iiwib25UaW1lb3V0IiwicmFmIiwibG9vcCIsInRpbWVzdGFtcCIsImdsb2JhbFRoaXMiLCJBcHAiLCJ0aGVtZSIsImxhenlMb2FkIiwibGF5ZXJTZWxlY3RvciIsIm9uTGF5ZXJWaXNpYmlsaXR5Q2hhbmdlIiwiaW5pdGlhbEJvdW5kcyIsImluaXRpYWxWaWV3U3RhdGUiLCJkZWNrZ2xQcm9wcyIsIl9pbml0aWFsVmlld1N0YXRlIiwidXNlTWVtbyIsInhtaW4iLCJ5bWluIiwieG1heCIsInltYXgiLCJtYXgiLCJtaW4iLCJ2aWV3cG9ydCIsImxvbmdpdHVkZSIsImxhdGl0dWRlIiwiem9vbSIsImZpdEJvdW5kcyIsInVzZUJvdW5kcyIsImNyZWF0ZSIsImNvbnRhaW5lciIsImluVmlld3BvcnQiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiaXNJbnRlcnNlY3RpbmciLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsInVzZUluVmlld3BvcnQiLCJzaG91bGRSZW5kZXIiLCJ2aXNpYmlsaXR5VG9nZ2xlIiwicmV2ZXJzZSIsImdldFZpZXdTdGF0ZSIsInZpZXdTdGF0ZSIsImdldEJvdW5kcyIsImNlbnRlciIsInVucHJvamVjdEZsYXQiLCJiaW5kaW5nIiwiV2lkZ2V0IiwiYmluZCIsIm9uVmlld1N0YXRlQ2hhbmdlIiwiSFRNTFdpZGdldHMiLCJzaGlueU1vZGUiLCJkZWJvdW5jZWRSZW5kZXIiLCJyZW5kZXJWYWx1ZSIsIlNoaW55IiwiYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIiLCJfbGF5ZXIiLCJtZXJnZWQiLCJzZXRMYXllclZpc2liaWxpdHkiLCJyZXNpemUiLCJsYXllclZpc2libGl0eSIsIm5hbWVFcXVhbCIsImdyb3VwRXF1YWwiLCJpc01hdGNoIiwiY29vcmRpbmF0ZSIsInNldElucHV0VmFsdWUiLCJwcmlvcml0eSIsImdldFdpZGdldEJ5SWQiLCJlbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJodG1sd2lkZ2V0X2RhdGFfaW5pdF9yZXN1bHQiLCJnZXRXaWRnZXRzIiwicXVlcnlTZWxlY3RvckFsbCIsIndpZGdldCIsIlZFUlNJT04iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJPIiwicmVzdWx0IiwiY2h1bmtJZHMiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImZ1bGZpbGxlZCIsImoiLCJldmVyeSIsInNwbGljZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiZ2V0UHJvdG90eXBlT2YiLCJ0IiwidGhlbiIsIm5zIiwiZGVmIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIkZ1bmN0aW9uIiwiZSIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==