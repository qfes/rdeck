!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rdeck=t():e.rdeck=t()}(self,(()=>(()=>{var e,t,n,r={4118:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>Qt,Widget:()=>qt,binding:()=>$t,getWidgetById:()=>Yt,getWidgets:()=>Jt});var r={};n.r(r),n.d(r,{AGGREGATION_OPERATION:()=>l.KM,ArcLayer:()=>s.ArcLayer,BitmapLayer:()=>s.BitmapLayer,CPUGridLayer:()=>l.ab,ColumnLayer:()=>s.ColumnLayer,ContourLayer:()=>l.YY,GPUGridLayer:()=>l.ML,GeoJsonLayer:()=>s.GeoJsonLayer,GreatCircleLayer:()=>c.GreatCircleLayer,GridCellLayer:()=>s.GridCellLayer,GridLayer:()=>l.mU,H3ClusterLayer:()=>c.H3ClusterLayer,H3HexagonLayer:()=>c.H3HexagonLayer,HeatmapLayer:()=>l.zP,HexagonLayer:()=>l.dX,IconLayer:()=>s.IconLayer,LineLayer:()=>s.LineLayer,MVTLayer:()=>c.MVTLayer,PathLayer:()=>s.PathLayer,PointCloudLayer:()=>s.PointCloudLayer,PolygonLayer:()=>s.PolygonLayer,QuadkeyLayer:()=>c.QuadkeyLayer,S2Layer:()=>c.S2Layer,ScatterplotLayer:()=>s.ScatterplotLayer,ScenegraphLayer:()=>u.ScenegraphLayer,ScreenGridLayer:()=>l.p3,SimpleMeshLayer:()=>u.SimpleMeshLayer,SolidPolygonLayer:()=>s.SolidPolygonLayer,TerrainLayer:()=>c.TerrainLayer,TextLayer:()=>s.TextLayer,Tile3DLayer:()=>c.Tile3DLayer,TileLayer:()=>c.TileLayer,TripsLayer:()=>c.TripsLayer,_AggregationLayer:()=>l.Di,_BinSorter:()=>l.l0,_CPUAggregator:()=>l.oA,_GPUGridAggregator:()=>l.Wc,_MultiIconLayer:()=>s._MultiIconLayer,_TextBackgroundLayer:()=>s._TextBackgroundLayer,_getURLFromTemplate:()=>c._getURLFromTemplate});n(1940);var i=n(4246),o=n(7634),a=n(7378),s=n(1059),l=n(9742),c=n(4453),u=n(3515),d=n(5252);const h=[0,0,0,255];function p([e,t,n,r=255]){return`rgba(${e}, ${t}, ${n}, ${r/255})`}function y(e,t){return Array.isArray(e)?t||4!==e.length?((t=null!=t?t:[])[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=3===e.length?e[3]:255,t):e:"string"==typeof e?(function(e,t){if(7===e.length){const n=parseInt(e.substring(1),16);t[0]=Math.floor(n/65536),t[1]=Math.floor(n/256%256),t[2]=n%256,t[3]=255}else if(9===e.length){const n=parseInt(e.substring(1),16);t[0]=Math.floor(n/16777216),t[1]=Math.floor(n/65536%256),t[2]=Math.floor(n/256%256),t[3]=n%256}}(e,t=null!=t?t:[]),t):h}var f=n(6165),g=n(6666),m=n(2537),v=n(5178),b=n(9844),w=n(5841),j=n(6890),x=n(8854);function L(e){return null!==e&&"object"==typeof e&&"accessor"===e.type}function C(e){return L(e)&&"scale"in e}var k=n(9992);const S=Object.freeze({additive:{[k.default.BLEND]:!0,blendFunc:[k.default.SRC_ALPHA,k.default.DST_ALPHA],blendEquation:k.default.FUNC_ADD},subtractive:{[k.default.BLEND]:!0,blendFunc:[k.default.ONE,k.default.ONE_MINUS_DST_COLOR,k.default.SRC_ALPHA,k.default.DST_ALPHA],blendEquation:[k.default.FUNC_SUBTRACT,k.default.FUNC_ADD]},normal:{[k.default.BLEND]:!0,blendFunc:[k.default.SRC_ALPHA,k.default.ONE_MINUS_SRC_ALPHA,k.default.ONE,k.default.ONE_MINUS_SRC_ALPHA],blendEquation:[k.default.FUNC_ADD,k.default.FUNC_ADD]}});function T(e="normal"){var t;return null!==(t=S[e])&&void 0!==t?t:S.normal}function N(e){return null!==e&&"object"==typeof e&&"frame"in e}function E(e,{name:t,type:n}){var r,i,o,a;const s=e.frame,l=Object.fromEntries(Object.entries(s).map((([e])=>[e,[]]))),c=Object.keys(e.frame).filter((e=>e!==t)),u=s[t],d=function(e){switch(e){case"MULTIPOINT":return M;case"MULTILINESTRING":return _;case"MULTIPOLYGON":return O;default:throw TypeError(`${e} not supported`)}}(n),h=e=>{for(const t of c)l[t].push(s[t][e])},p=[];for(let n=0;n<e.length;n++){const s=u[n];if(d(s)){l[t].push(...s);for(let t=0;t<s.length;t++)h(n),p.push(null!==(i=null===(r=e.indices)||void 0===r?void 0:r[n])&&void 0!==i?i:n)}else l[t].push(s),h(n),p.push(null!==(a=null===(o=e.indices)||void 0===o?void 0:o[n])&&void 0!==a?a:n)}return{length:l[t].length,geometry:{...e.geometry,[t]:n.replace("MULTI","")},indices:p,frame:l}}function M(e){return Array.isArray(null==e?void 0:e[0])}function _(e){var t;return Array.isArray(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t[0])}function O(e){var t,n;return Array.isArray(null===(n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t[0])||void 0===n?void 0:n[0])}var P=n(4825),A=n(9405),Z=n(8220),D=n(714),F=n(4881),H=n(2377),I=n(6912),R=n(7181);class z extends P.Z{initializeState(){if(!function(e){return V.some((t=>e instanceof t))}(this))return;const e=this,t=e.getAttributeManager();t&&t.addInstanced({pickingColors:{type:k.default.UNSIGNED_BYTE,size:3,accessor:(t,{index:n,data:r,target:i})=>{var o,a,s;if(N(r)&&Array.isArray(r.indices))return e.encodePickingColor(r.indices.indexOf(r.indices[n]),i);const l=null===(a=null===(o=null==t?void 0:t.__source)||void 0===o?void 0:o.parent)||void 0===a?void 0:a.props.data;return N(l)&&Array.isArray(l.indices)?e.encodePickingColor(l.indices.indexOf(l.indices[t.__source.index]),i):e.encodePickingColor(null!==(s=null==t?void 0:t.__source.index)&&void 0!==s?s:n,i)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}}const V=[A.Z,Z.Z,D.Z,F.Z,H.Z,I.Z,R.Z];function U(e,...t){if(null==e)return null;const n=t.map((t=>[t,e[t]]));return Object.fromEntries(n)}function W(e){return e.clientHeight>0&&e.clientHeight>0?e:e.parentElement?W(e.parentElement):null}function G(e){const t=W(e);if(e===t||null==t)return{width:e.clientWidth,height:e.clientHeight};const{width:n,height:r}=getComputedStyle(e),i=document.createElement("div");Object.assign(i.style,{width:n,height:r,display:"hidden"}),t.appendChild(i);const o={width:i.clientWidth,height:i.clientHeight};return t.removeChild(i),o}function B(e,t){const n=new Map;for(const r of e){const e=t(r);n.has(e)?n.get(e).push(r):n.set(e,[r])}return n}function $(...e){return e.filter((e=>null!=e)).join(" ")}function q(e,t=0){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout((()=>e(...r)),t)}}class Y{constructor(){this._val=new Map,this._ref=new WeakMap}getStore(e){return"object"==typeof(t=e)&&null!==t||"function"==typeof t?this._ref:this._val;var t}has(e){return this.getStore(e).has(e)}get(e){return this.getStore(e).get(e)}set(e,t){return this.getStore(e).set(e,t),this}}function J(e){const t=new Y;return(...n)=>{const r=n[0],i=n.slice(0,-1).reduceRight(((e,t)=>{if(e.has(t))return e.get(t);const n=new Y;return e.set(t,n),n}),t);if(i.has(r))return i.get(r);const o=e(...n);return i.set(r,o),o}}const Q=J((function(e){const t=function(e){return Object.entries(e.geometry).filter((([,e])=>/MULTI/.test(e))).map((([e,t])=>({name:e,type:t})))}(e);return 0===t.length?e:t.reduce(E,e)})),K=J(y),X=J((function(e,t){const n=function({col:e,dataType:t},n){if("highlightColor"===n)switch(t){case"table":return function(e){return({index:t,layer:n})=>y(n.props.data.frame[e][t])}(e);case"object":return function(e){return({object:t})=>y(t[e])}(e);case"geojson":return function(e){return({object:t})=>y(t.properties[e])}(e);default:throw TypeError(`${t} not supported`)}if(n.endsWith("Color"))switch(t){case"table":return function(e){return(t,{index:n,data:r,target:i})=>y(r.frame[e][n],i)}(e);case"object":return function(e){return(t,{target:n})=>y(t[e],n)}(e);case"geojson":return function(e){return(t,{target:n})=>y(t.properties[e],n)}(e);default:throw TypeError(`${t} not supported`)}switch(t){case"table":return function(e){return(t,{index:n,data:r})=>r.frame[e][n]}(e);case"object":return function(e){return t=>t[e]}(e);case"geojson":return function(e){return t=>t.properties[e]}(e);default:throw TypeError(`${t} not supported`)}}(e,t);return{...e,getData:n}})),ee=J((function(e,t){"palette"in e&&(e.range=e.palette.map((e=>y(e))),e.unknown=y(e.unknown));const n=function(e){switch(e.scale){case"linear":return(0,f.Z)().domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"power":return(0,g.ZP)().exponent(e.exponent).domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"log":return(0,m.Z)().base(e.base).domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"symlog":return(0,v.Z)().domain(e.domain).range(e.range).unknown(e.unknown).clamp(!0);case"identity":return(0,b.Z)().unknown(e.unknown);case"threshold":case"quantile":return(0,w.Z)().domain(e.domain).range(e.range).unknown(e.unknown);case"category":return(0,j.Z)().domain(e.domain).range(e.range).unknown(e.unknown);case"quantize":return(0,x.Z)().domain(e.domain).range(e.range).unknown(e.unknown);default:throw TypeError(`scale ${e.scale} not supported`)}}(e),r="highlightColor"===t?function({col:e,dataType:t},n){switch(t){case"table":return function(e,t){return({index:n,layer:r})=>t(r.props.data.frame[e][n])}(e,n);case"object":return function(e,t){return({object:n})=>t(n[e])}(e,n);case"geojson":return function(e,t){return({object:n})=>t(n.properties[e])}(e,n);default:throw TypeError(`${t} not supported`)}}(e,n):function({col:e,dataType:t},n){switch(t){case"table":return function(e,t){return(n,{index:r,data:i})=>t(i.frame[e][r])}(e,n);case"object":return function(e,t){return n=>t(n[e])}(e,n);case"geojson":return function(e,t){return n=>t(n.properties[e])}(e,n);default:throw TypeError(`${t} not supported`)}}(e,n);return{...e,name:t,getData:r,scaleData:n}}));class te{constructor({type:e,...t}){var n,r;const i=Object.entries(t),o=function(e){const t=e.filter(ne).map((([e,t])=>[e,K(t)])),n=e.find((([e])=>"colorRange"===e));n&&t.push([n[0],n[1].map((e=>K(e)))]);return t}(i),a=function(e){return e.filter((([,e])=>L(e))).map((([e,t])=>[e,C(t)?ee(t,e):X(t,e)]))}(i);this.type=e;const s=Object.fromEntries([...i,...o,...a.map((([e,t])=>[e,t.getData])),...ie(i),["visible",null===(n=t.visible)||void 0===n||n],["updateTriggers",re(a)],["parameters",(l=t.parameters,c=t.blendingMode,{...l,...T(c)})]]);var l,c;N(s.data)&&(s.data=Q(s.data),s.extensions=[new z,...null!==(r=s.extensions)&&void 0!==r?r:[]]),"TileLayer"===e&&(s.renderSubLayers=e=>{const{bbox:{west:t,south:n,east:r,north:i},x:o,y:a,z:s}=e.tile;return new d.Z({...e,data:[{z:s,x:o,y:a}],image:e.data,bounds:[t,n,r,i]})}),this.props=s,this.scales=a.filter((([,e])=>C(e))).map((([,e])=>e)),"TextLayer"===e&&"fonts"in document&&document.fonts.load(`16px ${t.fontFamily}`)}static create(e){return new te(e)}renderLayer(e){if("TripsLayer"===this.type&&void 0!==e){const t=this.props,{loopLength:n,animationSpeed:r}=t,i=n/r,o=e/1e3%i/i;t.currentTime=o*n}return new r[this.type]({...this.props})}renderLegend(){const e=this.scales.filter((e=>e.legend));return{id:this.props.id,name:this.props.name,scales:e}}renderSelector(){var e;return{id:this.props.id,groupName:this.props.groupName,name:this.props.name,visible:null===(e=this.props.visible)||void 0===e||e}}}function ne([e,t]){return e.endsWith("Color")&&(Array.isArray(t)||"string"==typeof t)}function re(e){const t=e=>{const{getData:t,scaleData:n,palette:r,...i}=e;return i},n=e.map((([e,n])=>[e,t(n)]));return Object.fromEntries(n)}function ie(e){return e.filter((([e])=>"getColorWeight"===e||"getElevationWeight"===e)).filter((([,e])=>null!==e&&"function"!=typeof e&&!L(e))).map((([e,t])=>[e,()=>t]))}n(8539),n(8586);var oe=n(2157),ae=n(6082),se=n(9404),le=n(7284),ce=n(6757);class ue extends le.Z{setProps(e){const t=e.initialBounds;if(null!=t&&(n=t,r=this.props.initialBounds,!(n===r||null==n&&null==r||null!=n&&null!=r&&(null==n?void 0:n.every(((e,t)=>e===(null==r?void 0:r[t]))))))){const[n,r,i,o]=t,a=[[Math.max(n,-180),Math.max(r,-85.051129)],[Math.min(i,180),Math.min(o,85.051129)]];this._setCanvasSize(e);const{width:s,height:l}=this._getMapSize();e={...e,initialViewState:{...(0,ce.Xg)({height:l,width:s,bounds:a}),bearing:0,pitch:0}}}var n,r;super.setProps(e)}_getMapSize(){const e=this.canvas;if(null==e)return{width:this.width,height:this.height};if(0===e.clientWidth&&0===e.clientHeight){const t=e.closest(".rdeck.html-widget");if(null!=t)return G(t)}return{width:e.clientWidth,height:e.clientHeight}}}ue.defaultProps={...le.Z.defaultProps,initialBounds:null};var de=n(8291),he=n(4630),pe=n(997);const ye=[3,169,244],fe=[...ye,255],ge=[...ye,25.5];class me extends de.nk{constructor(e,...t){const n=we("onEdit",e,...t),r=we("onChange",e,...t);super(e,...t,{onEdit:be(n,r)})}}me.defaultProps={...de.nk.defaultProps,selectedFeatureIndexes:[0],pickingDepth:0,onChange:()=>{},modeConfig:{screenSpace:!0,viewport:{}},getRadius:5,getLineWidth:2,getTentativeLineWidth:2,getLineColor:fe,getTentativeLineColor:fe,getEditHandlePointOutlineColor:fe,getFillColor:ge,getTentativeFillColor:ge,getEditHandlePointColor:[0,0,0,0],getDashArray:[4,2],extensions:[new he.Z({dash:!0})]};const ve=Object.freeze(["addFeature","addPosition","removePosition","finishMovePosition","translated"]);function be(e,t){return function({updatedData:n,editType:r,editContext:i}){"updateTentativeFeature"===r&&n&&0!==n.features.length&&(n.features.length=0),this.data=n,null==e||e({updatedData:n,editType:r,editContext:i}),null!=r&&ve.includes(r)&&(null==t||t({updatedData:n,editType:r,editContext:i}))}}function we(e,...t){return t.map((t=>t[e])).reverse().find((e=>void 0!==e))}const je=Object.seal({view:new pe.ViewMode,modify:new pe.CompositeMode([new pe.TranslateMode,new pe.ModifyMode]),polygon:new pe.DrawPolygonMode,lasso:new pe.DrawPolygonByDraggingMode});function xe(e){var t;return null!==(t=je[null!=e?e:"view"])&&void 0!==t?t:je.view}var Le=n(5425);const Ce=".feature_id";function ke(e,t=null){if(!e.picked)return null;null==t&&(t=function({object:e,layer:t}){return!N(t.props.data)||t instanceof Le.Z?function(e){return"Feature"===(null==e?void 0:e.type)&&"geometry"in e&&"type"in e.geometry}(e)?"geojson":"object":"table"}(e));const n=function(e){switch(e){case"table":return(e,{index:t,data:n})=>{const r=Object.keys(n.geometry),i={};for(const[e,o]of Object.entries(n.frame))r.includes(e)||(i[e]=o[t]);return i};case"object":return e=>({...e});case"geojson":return e=>({[Ce]:null==e?void 0:e.id,...null==e?void 0:e.properties});default:throw TypeError(`${e} not supported`)}}(t),{object:r,index:i}=e;return n(r,{index:i,data:e.layer.props.data})}const Se="cyWLt4_G7nk5vT9hPr0o",Te="Z9hHHet2RXmL0iMel3Zt",Ne="jp658yEHLlesSRvwBwDl",Ee="t9I8kJyjeEJEOArvMD7j",Me="vovHpTur01BROrMLmEFz";function _e({info:e}){if(!e.picked||null==e.layer.props.tooltip)return null;const{x:t,y:n}=e,{name:r,tooltip:o}=e.layer.props,a=ke(e,o.dataType);delete a[Ce];const s=!0===o.cols?Object.keys(a):o.cols;return(0,i.jsxs)("div",{className:Se,style:{transform:`translate(${t}px, ${n}px)`},children:[(0,i.jsx)("div",{className:Te,children:r}),(0,i.jsx)("table",{className:Ne,children:(0,i.jsx)("tbody",{children:s.map((e=>{var t;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:Ee,children:e}),(0,i.jsx)("td",{className:Me,children:String(null!==(t=a[e])&&void 0!==t?t:null)})]},e)}))})})]})}function Oe({props:e,layers:t,polygonEditor:n}){const r=(0,a.useRef)(null),[o,s]=Pe(),{mapboxAccessToken:l,mapStyle:c,controller:u,parameters:d,blendingMode:h,...p}=e,y={...d,...T(h)},[f,g]=(0,a.useState)(0),m=t.some((e=>"TripsLayer"===e.type));Ae(m,(e=>g(e)));const v=t.map((e=>null!=e.type?e.renderLayer(f):null)),b=function(e){return null==e?null:new me({mode:xe(e.mode),data:e.polygon,onChange:e.onPolygonChange,filled:"view"!==e.mode,getDashArray:"view"!==e.mode?[4,2]:[0,0]})}(n);return(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(ae.Z,{Deck:ue,ref:r,...p,parameters:y,layers:[...v,b],onHover:s,children:(0,i.jsx)(oe.Z,{id:"map",controller:u,repeat:!0,children:c&&(0,i.jsx)(se.D5,{reuseMaps:!0,mapboxAccessToken:l,mapStyle:c})})}),o&&(0,i.jsx)(_e,{info:o})]})}const Pe=()=>{const[e,t]=(0,a.useState)(null);return[e,(0,a.useCallback)((e=>{if(!e.picked||!e.layer.props.tooltip||e.layer instanceof Le.Z)return t(null);t(e)}),[])]},Ae=(e,t)=>{const n=(0,a.useRef)(0),r=(0,a.useRef)(Date.now()),i=()=>{t(Date.now()-r.current),n.current=window.requestAnimationFrame(i)};(0,a.useEffect)((()=>{if(e)return n.current=window.requestAnimationFrame(i),()=>window.cancelAnimationFrame(n.current)}),[e])};var Ze=n(6509),De=n(4083),Fe=n(5092),He=n(1081);const Ie="U44LhpKlV8r1Vu1ZoZA3",Re="XF770nELUcE_0zxo_aOg",ze="HYRhC2aw1PSMYGCz2bDb",Ve="YNou4FYlc3N3GhFp2BkO",Ue="f44NGqZZGn4de9S3oTHN",We="xqKP289MUJ06Hgb3CjoW",Ge="XctZC_fZAMvRMiHPlt9G",Be="ly9kEH8MpXynhBX6Fhcj",$e="iM2OiMQz6z_NtAQZZyPS",qe="_8r8348KPS_nzNLR_CV_",Ye="tzkFrkEU5cB_jY6zcuua",Je=Date.now();function Qe({className:e,tooltip:t,onClick:n,children:r}){return(0,i.jsx)("button",{className:e,type:"button",onClick:n,title:t,children:r})}function Ke({layers:e,onVisibilityChange:t}){const n=B(e,(e=>{var t;return null!==(t=e.groupName)&&void 0!==t?t:`${e.name}-${Je}`})),r=(n,r,i)=>{if(i){const i=!e.filter((e=>!n.includes(e))).some((e=>e.visible));return t(e.map((e=>({...e,visible:n.includes(e)?r:i}))))}t(n.map((e=>({...e,visible:r}))))},[o,s]=(0,a.useState)(!1),l=()=>s((e=>!e));return o?(0,i.jsxs)("div",{className:Re,children:[(0,i.jsx)("div",{className:ze,children:(0,i.jsxs)(Qe,{className:Ve,onClick:l,tooltip:"Close",children:[(0,i.jsx)(Ze.Z,{className:Ye,fontSize:"small"}),(0,i.jsx)("span",{className:Ue,children:"Layers"})]})}),(0,i.jsx)("div",{className:We,children:Array.from(n.entries(),(([e,t,[{groupName:n}]=t])=>(0,i.jsx)(Xe,{group:n,layers:t,onChange:r},e)))})]}):(0,i.jsx)(Qe,{className:Ie,tooltip:"Layer selector",onClick:l,children:(0,i.jsx)(Ze.Z,{className:Ye,fontSize:"small"})})}function Xe({group:e,layers:t,onChange:n}){const r=Array.from(B(t,(e=>e.name)),(([e,t])=>(0,i.jsx)(et,{name:e,layers:t,onChange:n},e)));return e?(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(et,{name:e,layers:t,onChange:n}),(0,i.jsx)("div",{className:Ge,children:r})]}):(0,i.jsx)(a.Fragment,{children:r})}function et({name:e,layers:t,onChange:n}){const r=function(e){let t=e[0].visible;for(const n of e)if(n.visible!==t)return null;return t}(t),o=null===r,s=(0,a.useRef)(null);(0,a.useEffect)((()=>{s.current&&(s.current.indeterminate=o)}),[o]);const l=(0,a.useRef)((()=>!1)),c=r?De.Z:o?Fe.Z:He.Z,u=$(Be,r||o?$e:null);return(0,i.jsxs)("label",{className:u,children:[(0,i.jsx)("input",{ref:s,className:qe,type:"checkbox",onChange:()=>{l.current()?n(t,!0,!0):l.current=tt((()=>n(t,!r,!1)),200)},checked:null==r||r}),(0,i.jsx)(c,{fontSize:"small",className:Ye}),(0,i.jsx)("span",{className:Ue,children:e})]})}const tt=(e,t=200)=>{const n={current:0};let r=0;const i=o=>{if(r||(r=o),o-r>t)return n.current=0,void e();n.current=globalThis.requestAnimationFrame(i)};return n.current=globalThis.requestAnimationFrame(i),()=>0!==n.current&&(globalThis.cancelAnimationFrame(n.current),n.current=0,!0)},nt="lWOwchFb6W2NpcWR4ZQS",rt="mIJjIoOSsjLZMp591rN0",it="OULly07OGkLPRiEDgp00",ot="oxctK5Tcknb3syUfT7xg",at="KEbGPBIjLXnjAiUTu8eP",st="MBBFrOSR5F_grZcyOCp0",lt="l_4PaMO7BWOn4DcLN5Oh",ct="aWzYqDozdq6Vl4QuIJ1y",ut="xaprV4ANDgRiE5ai1hUl",dt="f6SnauerJY75ZqNAuK56",ht=16;function pt({layers:e}){return 0===e.length?null:(0,i.jsx)("div",{className:nt,children:e.map((e=>(0,i.jsx)(yt,{...e},e.id)))})}function yt({name:e,scales:t}){return 0===t.length?null:(0,i.jsxs)("div",{className:rt,children:[(0,i.jsx)("div",{className:it,title:e,children:e}),t.map((e=>(0,i.jsx)(ft,{...e},e.name)))]})}function ft(e){var t;const n=e.name.replace(/^get/,"").replace(/([A-Z])/g," $1").toLowerCase();const r="palette"in e;const o=function(e){return"linear"===e.scale||"power"===e.scale||"log"===e.scale||"symlog"===e.scale}(e),a=function(e){return"threshold"===e.scale||"quantile"===e.scale||"quantize"===e.scale}(e);return(0,i.jsxs)("div",{className:ot,children:[(0,i.jsx)("div",{className:at,children:n}),(0,i.jsx)("span",{className:st,children:"by "}),(0,i.jsx)("span",{className:lt,title:e.col,children:null!==(t=e.scaleBy)&&void 0!==t?t:e.col}),r&&o&&(0,i.jsx)(gt,{...e}),r&&a&&(0,i.jsx)(mt,{...e}),r&&"category"===e.scale&&(0,i.jsx)(vt,{...e})]})}const gt=({ticks:e,scaleData:t})=>{const n=e.map(((e,t)=>t)).slice(1,-1),r=ht*(e.length-1),o=r+11+1;return(0,i.jsxs)("svg",{className:ct,height:o,shapeRendering:"crispEdges",children:[(0,i.jsxs)("svg",{y:5,children:[(0,i.jsx)("image",{width:20,height:r,href:wt(t),preserveAspectRatio:"none"}),n.map((e=>(0,i.jsx)("line",{className:dt,x2:20,y1:ht*e,y2:ht*e},e)))]}),(0,i.jsx)(bt,{ticks:e,y:-2})]})},mt=({ticks:e,range:t})=>{const n=t.map(p),r=ht*(e.length-1)+11+1;return(0,i.jsxs)("svg",{className:ct,height:r,shapeRendering:"crispEdges",children:[(0,i.jsx)("svg",{y:5,children:n.map(((e,t)=>(0,i.jsx)("rect",{width:20,height:ht,y:t*ht,fill:e},t)))}),(0,i.jsx)(bt,{ticks:e,y:-2})]})};function vt({ticks:e,range:t,unknownTick:n,unknown:r}){const o=n?[...t,r]:t,a=n?[...e,n]:e,s=o.map(p),l=ht*a.length;return(0,i.jsxs)("svg",{className:ct,height:l,children:[(0,i.jsx)("svg",{children:s.map(((e,t)=>(0,i.jsx)("rect",{width:20,height:14,y:1+t*ht,fill:e},t)))}),(0,i.jsx)(bt,{ticks:a})]})}function bt({ticks:e,x:t=28,y:n=0}){return(0,i.jsx)("svg",{x:t,y:n,children:e.map(((e,t)=>(0,i.jsx)("text",{className:ut,y:ht*t,dy:11,children:String(e)},t)))})}function wt(e,t=200){const n=e.range().length,r=[...Array(n).keys()].map((e=>e/(n-1))),i=e.copy().range(r).invert,o=document.createElement("canvas"),a=o.getContext("2d");o.width=1,o.height=t;for(let n=0;n<t;n++)a.fillStyle=p(e(i(n/t))),a.fillRect(0,n,1,1);return o.toDataURL()}var jt=n(5413),xt=n(9693),Lt=n(9036),Ct=n(2824),kt=n(7582),St=n(7909);const Tt="l24td1D5nAouqZnk0I1n",Nt="vxiovPMAYUyP51yabCdo",Et="Q5uUStLObbtQtzcGIWvN",Mt="zeM4gaoi12L14IkjiF1T",_t=()=>{};function Ot({mode:e="view",polygon:t={type:"FeatureCollection",features:[]},onModeChange:n=_t,onPolygonChange:r=_t}){return(0,i.jsxs)("div",{className:Tt,children:[(0,i.jsx)(Pt,{name:"Pan",icon:kt.Z,active:"view"===e,onClick:()=>n("view")}),(0,i.jsx)(Pt,{name:"Modify",icon:Lt.Z,active:"modify"===e,disabled:!At(t),onClick:()=>n("modify")}),(0,i.jsx)(Pt,{name:"Polygon",icon:xt.Z,active:"polygon"===e,onClick:()=>n("polygon")}),(0,i.jsx)(Pt,{name:"Lasso",icon:jt.Z,active:"lasso"===e,onClick:()=>n("lasso")}),(0,i.jsx)(Pt,{name:"Delete",icon:St.Z,disabled:!At(t),onClick:()=>{r({updatedData:{type:"FeatureCollection",features:[]},editType:"deleteFeature",editContext:{featureIndexes:t.features.map(((e,t)=>t))}})}})]})}function Pt({name:e,onClick:t=_t,disabled:n=!1,active:r=!1,icon:o,iconStyle:a}){const s=$(Nt,r?Et:null);return(0,i.jsx)("button",{className:s,onClick:t,title:e,disabled:n,children:o&&(0,i.jsx)(Ct.Z,{component:o,className:Mt,fontSize:"small",style:a})})}function At(e){var t;return 0!==(null===(t=null==e?void 0:e.features)||void 0===t?void 0:t.length)}const Zt="rdeck",Dt="XTuYKSlBcC933W4sKWtC",Ft="kQnelQ4hkAJEJHLO0NJI",Ht="hQbOOdEZw0LO0llGKVqS",It="cSol54mlVTgAnRzj_GUM";function Rt({props:e,layers:t,theme:n,lazyLoad:r,layerSelector:o,onLayerVisibilityChange:s,polygonEditor:l}){const c=t.map(te.create),u=(0,a.useRef)(null),d=function(e,t){const[n,r]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(t&&e.current){const t=new IntersectionObserver((e=>{r(e[0].isIntersecting)}),{threshold:0});return t.observe(e.current),()=>t.disconnect()}}),[t,e]),n}(u,r),h=!r||d;return(0,i.jsxs)("div",{ref:u,className:$(Zt,n),children:[(0,i.jsx)("div",{className:$(Dt,Ft),children:o&&(0,i.jsx)(Ke,{layers:c.filter((e=>e.props.visibilityToggle)).map((e=>e.renderSelector())).reverse(),onVisibilityChange:s})}),(0,i.jsx)("div",{className:$(Dt,Ht),children:(0,i.jsx)(pt,{layers:c.filter((e=>e.props.visible)).map((e=>e.renderLegend())).reverse()})}),(0,i.jsx)("div",{className:$(Dt,It),children:l&&(0,i.jsx)(Ot,{...l})}),h&&(0,i.jsx)(Oe,{props:e,layers:c,polygonEditor:l})]})}var zt=n(641);function Vt(e){const t=e instanceof zt.Z?e:new zt.Z(e),n=U(t,"longitude","latitude","zoom","bearing","pitch","altitude");return{bounds:t.getBounds(),viewState:{...n,center:t.unprojectFlat(t.center)}}}var Ut,Wt,Gt=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Bt=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const $t={name:"rdeck",type:"output",factory:(e,t,n)=>new qt(e,t,n)};class qt{constructor(e,t,n){if(Ut.set(this,void 0),Wt.set(this,void 0),this.props={blendingMode:"normal"},this.layers=[],this.theme="kepler",this.layerSelector=!0,this.lazyLoad=!1,this.polygonEditor=null,Gt(this,Ut,e,"f"),Gt(this,Wt,(0,o.s)(e),"f"),this.handleClick=this.handleClick.bind(this),this.handleViewStateChange=q(this.handleViewStateChange.bind(this),50),this.handlePolygonChange=q(this.handlePolygonChange.bind(this),50),this.handleEditorModeChange=this.handleEditorModeChange.bind(this),this.setLayerVisibility=this.setLayerVisibility.bind(this),HTMLWidgets.shinyMode){const t=q((e=>this.renderValue(e)),50);Shiny.addCustomMessageHandler(`${e.id}:layer`,(e=>{var n,r,i;const o=this.layers.find((t=>t.id===e.id)),a={...o,...e,visible:null!==(n=e.visible)&&void 0!==n?n:null==o?void 0:o.visible,data:null!==(i=null!==(r=e.data)&&void 0!==r?r:null==o?void 0:o.data)&&void 0!==i?i:null};this.layers=null==o?[...this.layers,a]:this.layers.map((e=>e===o?a:e)),t({layers:this.layers})})),Shiny.addCustomMessageHandler(`${e.id}:deck`,(e=>{this.renderValue(e)}))}}renderValue({props:e=this.props,layers:t=this.layers,theme:n=this.theme,layerSelector:r=this.layerSelector,polygonEditor:o=this.polygonEditor,lazyLoad:a=this.lazyLoad}={}){var s;null!=(e={...this.props,...e,onClick:this.handleClick,onViewStateChange:this.handleViewStateChange}).initialBounds&&delete e.initialViewState,null!=o&&(o={...o,polygon:null!==(s=o.polygon)&&void 0!==s?s:{type:"FeatureCollection",features:[]},onModeChange:this.handleEditorModeChange,onPolygonChange:this.handlePolygonChange}),Object.assign(this,{props:e,layers:t,theme:n,layerSelector:r,polygonEditor:o,lazyLoad:a}),Bt(this,Wt,"f").render((0,i.jsx)(Rt,{props:e,layers:t,theme:n,layerSelector:r,polygonEditor:o,lazyLoad:a,onLayerVisibilityChange:this.setLayerVisibility}))}resize(e,t){}get id(){return Bt(this,Ut,"f").id}setLayerVisibility(e){if(0===e.length)return;const t=this.layers.map((t=>{const n=e.find((e=>((e,t)=>{const n=e.name===t.name,r=e.groupName===t.groupName;return n&&r||null==e.name&&null!=e.groupName&&r})(e,t)&&e.visible!==t.visible));return n?{...t,visible:n.visible}:t}));this.renderValue({layers:t})}handleClick(e){var t;if(HTMLWidgets.shinyMode){const n={coordinate:e.coordinate,...Vt(e.viewport),layer:U(null===(t=e.layer)||void 0===t?void 0:t.props,"id","name","groupName"),object:ke(e)};Shiny.setInputValue(`${this.id}_click`,n,{priority:"event"})}}handleViewStateChange({viewState:e}){if(HTMLWidgets.shinyMode){const t=Vt(e);Shiny.setInputValue(`${this.id}_viewstate`,t,{priority:"event"})}}handleEditorModeChange(e){null!=this.polygonEditor&&this.renderValue({polygonEditor:{...this.polygonEditor,mode:e}})}handlePolygonChange({updatedData:e,editType:t}){var n;if(null==this.polygonEditor)return;const r=null!==(n={addFeature:"modify",deleteFeature:"view"}[t])&&void 0!==n?n:this.polygonEditor.mode;this.renderValue({polygonEditor:{...this.polygonEditor,mode:r,polygon:e}}),HTMLWidgets.shinyMode&&Shiny.setInputValue(`${this.id}_editedpolygon`,{polygon:JSON.stringify(e)})}}function Yt(e){var t;const n=document.getElementById(e);return null!==(t=null==n?void 0:n.htmlwidget_data_init_result)&&void 0!==t?t:null}function Jt(){return[...document.querySelectorAll(".rdeck.html-widget")].map((e=>e.htmlwidget_data_init_result)).filter((e=>e instanceof qt))}Ut=new WeakMap,Wt=new WeakMap,HTMLWidgets.widget($t);const Qt="0.4.0"},6070:()=>{},2672:()=>{},2210:()=>{}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={472:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var u=l(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self.webpackChunkrdeck=self.webpackChunkrdeck||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[486,474,619,315,568,627,175,977,811,42,899,667,324,134,133,468,745,535,528,784,485,378,645,783,394,816,650,869,706,836,458,769,67,806,551,282,953,538,49,844,639,825,596],(()=>o(4118)));return a=o.O(a)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksTUFBTSxJQUFPNlIsRUFBb0IsUSxPQUNsUTBDLEVBQXNCMUMsRUFBb0JNLEVBQUVvQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NyZWF0ZSBmYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2NvbG9yLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9hY2Nlc3Nvci50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvc2NhbGUudHMiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2JsZW5kaW5nLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9kYXRhLWZyYW1lLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9tdWx0aS1oaWdobGlnaHQtZXh0ZW5zaW9uLnRzIiwid2VicGFjazovLy8uL3dpZGdldC91dGlsLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9sYXllci50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvZGVjay50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvbGF5ZXJzL2VkaXRhYmxlLWxheWVyLnRzIiwid2VicGFjazovLy8uL3dpZGdldC9waWNraW5nLnRzIiwid2VicGFjazovLy8uL3dpZGdldC90b29sdGlwLmNzcz9kZGE1Iiwid2VicGFjazovLy8uL3dpZGdldC90b29sdGlwLnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvbWFwLnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvY29udHJvbHMvbGF5ZXItc2VsZWN0b3IuY3NzPzM5Y2QiLCJ3ZWJwYWNrOi8vLy4vd2lkZ2V0L2NvbnRyb2xzL2xheWVyLXNlbGVjdG9yLnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvY29udHJvbHMvbGVnZW5kLmNzcz9hNjEzIiwid2VicGFjazovLy8uL3dpZGdldC9jb250cm9scy9sZWdlbmQudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC9jb250cm9scy9wb2x5Z29uLWVkaXRvci5jc3M/NTNhOSIsIndlYnBhY2s6Ly8vLi93aWRnZXQvY29udHJvbHMvcG9seWdvbi1lZGl0b3IudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC9yZGVjay5jc3M/Y2E5ZiIsIndlYnBhY2s6Ly8vLi93aWRnZXQvcmRlY2sudHN4Iiwid2VicGFjazovLy8uL3dpZGdldC92aWV3cG9ydC50cyIsIndlYnBhY2s6Ly8vLi93aWRnZXQvd2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly8vLi93aWRnZXQvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly8vd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJkZWNrXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInJkZWNrXCJdID0gZmFjdG9yeSgpO1xufSkoc2VsZiwgKCkgPT4ge1xucmV0dXJuICIsInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsInZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiA/IChvYmopID0+IChPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSkgOiAob2JqKSA9PiAob2JqLl9fcHJvdG9fXyk7XG52YXIgbGVhZlByb3RvdHlwZXM7XG4vLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLy8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8vIG1vZGUgJiAxNjogcmV0dXJuIHZhbHVlIHdoZW4gaXQncyBQcm9taXNlLWxpa2Vcbi8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbl9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG5cdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IHRoaXModmFsdWUpO1xuXHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuXHRpZih0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlKSB7XG5cdFx0aWYoKG1vZGUgJiA0KSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG5cdFx0aWYoKG1vZGUgJiAxNikgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbicpIHJldHVybiB2YWx1ZTtcblx0fVxuXHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuXHR2YXIgZGVmID0ge307XG5cdGxlYWZQcm90b3R5cGVzID0gbGVhZlByb3RvdHlwZXMgfHwgW251bGwsIGdldFByb3RvKHt9KSwgZ2V0UHJvdG8oW10pLCBnZXRQcm90byhnZXRQcm90byldO1xuXHRmb3IodmFyIGN1cnJlbnQgPSBtb2RlICYgMiAmJiB2YWx1ZTsgdHlwZW9mIGN1cnJlbnQgPT0gJ29iamVjdCcgJiYgIX5sZWFmUHJvdG90eXBlcy5pbmRleE9mKGN1cnJlbnQpOyBjdXJyZW50ID0gZ2V0UHJvdG8oY3VycmVudCkpIHtcblx0XHRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjdXJyZW50KS5mb3JFYWNoKChrZXkpID0+IChkZWZba2V5XSA9ICgpID0+ICh2YWx1ZVtrZXldKSkpO1xuXHR9XG5cdGRlZlsnZGVmYXVsdCddID0gKCkgPT4gKHZhbHVlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBkZWYpO1xuXHRyZXR1cm4gbnM7XG59OyIsImNvbnN0IERFRkFVTFRfQ09MT1I6IENvbG9yID0gWzAsIDAsIDAsIDI1NV07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbG9yUHJvcChuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIG5hbWUuZW5kc1dpdGgoXCJDb2xvclwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYmEoW3IsIGcsIGIsIGEgPSAyNTVdOiBDb2xvcikge1xuICByZXR1cm4gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthIC8gMjU1fSlgO1xufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdWJlci9kZWNrLmdsL2Jsb2IvbWFzdGVyL21vZHVsZXMvY29yZS9zcmMvdXRpbHMvY29sb3IuanNcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNvbG9yKGNvbG9yOiBzdHJpbmcgfCBDb2xvciwgdGFyZ2V0PzogQ29sb3IpOiBDb2xvciB7XG4gIGlmIChBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgIGlmICghdGFyZ2V0ICYmIGNvbG9yLmxlbmd0aCA9PT0gNCkge1xuICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0YXJnZXQgPSB0YXJnZXQgPz8gKFtdIGFzIENvbG9yKTtcbiAgICB0YXJnZXRbMF0gPSBjb2xvclswXTtcbiAgICB0YXJnZXRbMV0gPSBjb2xvclsxXTtcbiAgICB0YXJnZXRbMl0gPSBjb2xvclsyXTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGFyZ2V0WzNdID0gY29sb3IubGVuZ3RoID09PSAzID8gY29sb3JbM10gOiAyNTU7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgY29sb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGFyZ2V0ID0gdGFyZ2V0ID8/IChbXSBhcyBDb2xvcik7XG4gICAgcGFyc2VIZXhDb2xvcihjb2xvciwgdGFyZ2V0KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIERFRkFVTFRfQ09MT1I7XG59XG5cbi8vIFBhcnNlIGEgaGV4IGNvbG9yXG5mdW5jdGlvbiBwYXJzZUhleENvbG9yKGNvbG9yOiBzdHJpbmcsIHRhcmdldDogQ29sb3IpIHtcbiAgaWYgKGNvbG9yLmxlbmd0aCA9PT0gNykge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDEpLCAxNik7XG4gICAgdGFyZ2V0WzBdID0gTWF0aC5mbG9vcih2YWx1ZSAvIDY1NTM2KTtcbiAgICB0YXJnZXRbMV0gPSBNYXRoLmZsb29yKCh2YWx1ZSAvIDI1NikgJSAyNTYpO1xuICAgIHRhcmdldFsyXSA9IHZhbHVlICUgMjU2O1xuICAgIHRhcmdldFszXSA9IDI1NTtcbiAgfSBlbHNlIGlmIChjb2xvci5sZW5ndGggPT09IDkpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygxKSwgMTYpO1xuICAgIHRhcmdldFswXSA9IE1hdGguZmxvb3IodmFsdWUgLyAxNjc3NzIxNik7XG4gICAgdGFyZ2V0WzFdID0gTWF0aC5mbG9vcigodmFsdWUgLyA2NTUzNikgJSAyNTYpO1xuICAgIHRhcmdldFsyXSA9IE1hdGguZmxvb3IoKHZhbHVlIC8gMjU2KSAlIDI1Nik7XG4gICAgdGFyZ2V0WzNdID0gdmFsdWUgJSAyNTY7XG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgUGlja0luZm8sIEFjY2Vzc29yRm4gfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHR5cGUgeyBGZWF0dXJlIH0gZnJvbSBcImdlb2pzb25cIjtcbmltcG9ydCB7IHBhcnNlQ29sb3IgfSBmcm9tIFwiLi9jb2xvclwiO1xuXG50eXBlIEFjY2Vzc29yQmFzZSA9IHtcbiAgdHlwZTogXCJhY2Nlc3NvclwiO1xuICBjb2w6IHN0cmluZztcbn07XG5cbnR5cGUgQWNjZXNzb3JUYWJsZSA9IEFjY2Vzc29yQmFzZSAmIHtcbiAgZGF0YVR5cGU6IFwidGFibGVcIjtcbiAgZ2V0RGF0YTogQWNjZXNzb3JGbjxEYXRhRnJhbWUsIGFueT47XG59O1xuXG50eXBlIEFjY2Vzc29yT2JqZWN0ID0gQWNjZXNzb3JCYXNlICYge1xuICBkYXRhVHlwZTogXCJvYmplY3RcIjtcbiAgZ2V0RGF0YTogQWNjZXNzb3JGbjxSZWNvcmQ8c3RyaW5nLCBhbnk+LCBhbnk+O1xufTtcblxudHlwZSBBY2Nlc3Nvckdlb0pzb24gPSBBY2Nlc3NvckJhc2UgJiB7XG4gIGRhdGFUeXBlOiBcImdlb2pzb25cIjtcbiAgZ2V0RGF0YTogQWNjZXNzb3JGbjxGZWF0dXJlLCBhbnk+O1xufTtcblxuZXhwb3J0IHR5cGUgQWNjZXNzb3IgPSBBY2Nlc3NvclRhYmxlIHwgQWNjZXNzb3JPYmplY3QgfCBBY2Nlc3Nvckdlb0pzb247XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FjY2Vzc29yKG9iajogYW55KTogb2JqIGlzIEFjY2Vzc29yIHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iai50eXBlID09PSBcImFjY2Vzc29yXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NvcihvYmo6IEFjY2Vzc29yLCBuYW1lOiBzdHJpbmcpOiBBY2Nlc3NvciB7XG4gIGNvbnN0IGdldERhdGEgPSBhY2Nlc3NvckZuKG9iaiwgbmFtZSkgYXMgQWNjZXNzb3JGbjxhbnksIGFueT47XG4gIHJldHVybiB7XG4gICAgLi4ub2JqLFxuICAgIGdldERhdGEsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGFjY2Vzc29yRm4oeyBjb2wsIGRhdGFUeXBlIH06IEFjY2Vzc29yLCBuYW1lOiBzdHJpbmcpOiBBY2Nlc3NvckZuPGFueSwgYW55PiB7XG4gIGlmIChuYW1lID09PSBcImhpZ2hsaWdodENvbG9yXCIpIHtcbiAgICBzd2l0Y2ggKGRhdGFUeXBlKSB7XG4gICAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgICAgcmV0dXJuIHRhYmxlSGlnaGxpZ2h0KGNvbCk7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHJldHVybiBvYmplY3RIaWdobGlnaHQoY29sKTtcbiAgICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICAgIHJldHVybiBnZW9qc29uSGlnaGxpZ2h0KGNvbCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoYCR7ZGF0YVR5cGV9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgICB9XG4gIH1cblxuICBpZiAobmFtZS5lbmRzV2l0aChcIkNvbG9yXCIpKSB7XG4gICAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgIHJldHVybiB0YWJsZUNvbG9yKGNvbCk7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHJldHVybiBvYmplY3RDb2xvcihjb2wpO1xuICAgICAgY2FzZSBcImdlb2pzb25cIjpcbiAgICAgICAgcmV0dXJuIGdlb2pzb25Db2xvcihjb2wpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKGAke2RhdGFUeXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgcmV0dXJuIHRhYmxlRGF0YShjb2wpO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIHJldHVybiBvYmplY3REYXRhKGNvbCk7XG4gICAgY2FzZSBcImdlb2pzb25cIjpcbiAgICAgIHJldHVybiBnZW9qc29uRGF0YShjb2wpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoYCR7ZGF0YVR5cGV9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0YWJsZURhdGEoY29sOiBzdHJpbmcpOiBBY2Nlc3NvckZuPERhdGFGcmFtZSwgYW55PiB7XG4gIHJldHVybiAoXywgeyBpbmRleCwgZGF0YSB9KSA9PiBkYXRhLmZyYW1lW2NvbF1baW5kZXhdO1xufVxuXG5mdW5jdGlvbiB0YWJsZUNvbG9yKGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxEYXRhRnJhbWUsIENvbG9yPiB7XG4gIHJldHVybiAoXywgeyBpbmRleCwgZGF0YSwgdGFyZ2V0IH0pID0+IHBhcnNlQ29sb3IoZGF0YS5mcmFtZVtjb2xdW2luZGV4XSwgdGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gdGFibGVIaWdobGlnaHQoY29sOiBzdHJpbmcpOiBBY2Nlc3NvckZuPFBpY2tJbmZvPG51bGw+LCBDb2xvcj4ge1xuICByZXR1cm4gKHsgaW5kZXgsIGxheWVyIH0pID0+XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHBhcnNlQ29sb3IobGF5ZXIucHJvcHMuZGF0YSEuZnJhbWVbY29sXVtpbmRleF0pO1xufVxuXG5mdW5jdGlvbiBvYmplY3REYXRhKGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxSZWNvcmQ8c3RyaW5nLCBhbnk+LCBhbnk+IHtcbiAgcmV0dXJuIChvYmplY3QpID0+IG9iamVjdFtjb2xdO1xufVxuXG5mdW5jdGlvbiBvYmplY3RDb2xvcihjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48UmVjb3JkPHN0cmluZywgYW55PiwgQ29sb3I+IHtcbiAgcmV0dXJuIChvYmplY3QsIHsgdGFyZ2V0IH0pID0+IHBhcnNlQ29sb3Iob2JqZWN0W2NvbF0sIHRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIG9iamVjdEhpZ2hsaWdodChjb2w6IHN0cmluZyk6IEFjY2Vzc29yRm48UGlja0luZm88UmVjb3JkPHN0cmluZywgYW55Pj4sIENvbG9yPiB7XG4gIHJldHVybiAoeyBvYmplY3QgfSkgPT4gcGFyc2VDb2xvcihvYmplY3RbY29sXSk7XG59XG5cbmZ1bmN0aW9uIGdlb2pzb25EYXRhKGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxGZWF0dXJlLCBhbnk+IHtcbiAgcmV0dXJuIChvYmplY3QpID0+IG9iamVjdC5wcm9wZXJ0aWVzIVtjb2xdO1xufVxuXG5mdW5jdGlvbiBnZW9qc29uQ29sb3IoY29sOiBzdHJpbmcpOiBBY2Nlc3NvckZuPEZlYXR1cmUsIENvbG9yPiB7XG4gIHJldHVybiAob2JqZWN0LCB7IHRhcmdldCB9KSA9PiBwYXJzZUNvbG9yKG9iamVjdC5wcm9wZXJ0aWVzIVtjb2xdLCB0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiBnZW9qc29uSGlnaGxpZ2h0KGNvbDogc3RyaW5nKTogQWNjZXNzb3JGbjxQaWNrSW5mbzxGZWF0dXJlPiwgQ29sb3I+IHtcbiAgcmV0dXJuICh7IG9iamVjdCB9KSA9PiBwYXJzZUNvbG9yKG9iamVjdC5wcm9wZXJ0aWVzIVtjb2xdKTtcbn1cbiIsImltcG9ydCB7XG4gIHNjYWxlTGluZWFyLFxuICBTY2FsZUxpbmVhcixcbiAgc2NhbGVMb2csXG4gIFNjYWxlTG9nYXJpdGhtaWMsXG4gIHNjYWxlT3JkaW5hbCxcbiAgU2NhbGVPcmRpbmFsLFxuICBzY2FsZVBvdyxcbiAgU2NhbGVQb3dlcixcbiAgc2NhbGVRdWFudGl6ZSxcbiAgU2NhbGVRdWFudGl6ZSxcbiAgU2NhbGVTeW1Mb2csXG4gIHNjYWxlU3ltbG9nLFxuICBTY2FsZVRocmVzaG9sZCxcbiAgc2NhbGVUaHJlc2hvbGQsXG4gIHNjYWxlSWRlbnRpdHksXG4gIFNjYWxlSWRlbnRpdHksXG59IGZyb20gXCJkMy1zY2FsZVwiO1xuaW1wb3J0IHR5cGUgeyBQaWNrSW5mbywgQWNjZXNzb3JGbiB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IEZlYXR1cmUgfSBmcm9tIFwiZ2VvanNvblwiO1xuaW1wb3J0IHsgQWNjZXNzb3IsIGlzQWNjZXNzb3IgfSBmcm9tIFwiLi9hY2Nlc3NvclwiO1xuaW1wb3J0IHsgcGFyc2VDb2xvciB9IGZyb20gXCIuL2NvbG9yXCI7XG5cbnR5cGUgU2NhbGVGbiA9IChkYXRhOiBhbnkpID0+IG51bWJlciB8IENvbG9yO1xuXG50eXBlIEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiA9IEFjY2Vzc29yICYge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRvbWFpbjogbnVtYmVyW107XG4gIHJhbmdlOiBSYW5nZVtdO1xuICBwYWxldHRlPzogQ29sb3JbXTtcbiAgdW5rbm93bjogUmFuZ2U7XG4gIGxlZ2VuZDogYm9vbGVhbjtcbiAgdGlja3M6IHN0cmluZ1tdO1xuICBzY2FsZUJ5Pzogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZUxpbmVhcjxSYW5nZT4gPSBBY2Nlc3NvclNjYWxlQmFzZTxSYW5nZT4gJiB7XG4gIHNjYWxlOiBcImxpbmVhclwiO1xuICBzY2FsZURhdGE6IFNjYWxlTGluZWFyPFJhbmdlLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlUG93ZXI8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJwb3dlclwiO1xuICBleHBvbmVudDogbnVtYmVyO1xuICBzY2FsZURhdGE6IFNjYWxlUG93ZXI8UmFuZ2UsIFJhbmdlPjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVMb2c8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJsb2dcIjtcbiAgYmFzZTogbnVtYmVyO1xuICBzY2FsZURhdGE6IFNjYWxlTG9nYXJpdGhtaWM8UmFuZ2UsIFJhbmdlPjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVTeW1sb2c8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJzeW1sb2dcIjtcbiAgc2NhbGVEYXRhOiBTY2FsZVN5bUxvZzxSYW5nZSwgUmFuZ2U+O1xufTtcblxuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZUlkZW50aXR5PFJhbmdlPiA9IEFjY2Vzc29yU2NhbGVCYXNlPFJhbmdlPiAmIHtcbiAgc2NhbGU6IFwiaWRlbnRpdHlcIjtcbiAgc2NhbGVEYXRhOiBTY2FsZUlkZW50aXR5PFJhbmdlPjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVUaHJlc2hvbGQ8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJ0aHJlc2hvbGRcIjtcbiAgc2NhbGVEYXRhOiBTY2FsZVRocmVzaG9sZDxudW1iZXIsIFJhbmdlPjtcbn07XG5cbmV4cG9ydCB0eXBlIEFjY2Vzc29yU2NhbGVRdWFudGlsZTxSYW5nZT4gPSBBY2Nlc3NvclNjYWxlQmFzZTxSYW5nZT4gJiB7XG4gIHNjYWxlOiBcInF1YW50aWxlXCI7XG4gIHNjYWxlRGF0YTogU2NhbGVUaHJlc2hvbGQ8bnVtYmVyLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnk8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJjYXRlZ29yeVwiO1xuICBkb21haW46IHN0cmluZ1tdO1xuICB1bmtub3duVGljazogc3RyaW5nIHwgbnVsbDtcbiAgc2NhbGVEYXRhOiBTY2FsZU9yZGluYWw8c3RyaW5nLCBSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlUXVhbnRpemU8UmFuZ2U+ID0gQWNjZXNzb3JTY2FsZUJhc2U8UmFuZ2U+ICYge1xuICBzY2FsZTogXCJxdWFudGl6ZVwiO1xuICBkb21haW46IFtudW1iZXIsIG51bWJlcl07XG4gIHNjYWxlRGF0YTogU2NhbGVRdWFudGl6ZTxSYW5nZT47XG59O1xuXG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlQ29udGludW91czxSYW5nZT4gPVxuICB8IEFjY2Vzc29yU2NhbGVMaW5lYXI8UmFuZ2U+XG4gIHwgQWNjZXNzb3JTY2FsZVBvd2VyPFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVMb2c8UmFuZ2U+XG4gIHwgQWNjZXNzb3JTY2FsZVN5bWxvZzxSYW5nZT47XG5leHBvcnQgdHlwZSBBY2Nlc3NvclNjYWxlRGlzY3JldGU8UmFuZ2U+ID1cbiAgfCBBY2Nlc3NvclNjYWxlVGhyZXNob2xkPFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVRdWFudGlsZTxSYW5nZT5cbiAgfCBBY2Nlc3NvclNjYWxlUXVhbnRpemU8UmFuZ2U+O1xuZXhwb3J0IHR5cGUgQWNjZXNzb3JTY2FsZTxSYW5nZT4gPVxuICB8IEFjY2Vzc29yU2NhbGVDb250aW51b3VzPFJhbmdlPlxuICB8IEFjY2Vzc29yU2NhbGVEaXNjcmV0ZTxSYW5nZT5cbiAgfCBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnk8UmFuZ2U+XG4gIHwgQWNjZXNzb3JTY2FsZUlkZW50aXR5PFJhbmdlPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWNjZXNzb3JTY2FsZShvYmo6IGFueSk6IG9iaiBpcyBBY2Nlc3NvclNjYWxlPG51bWJlciB8IENvbG9yPiB7XG4gIHJldHVybiBpc0FjY2Vzc29yKG9iaikgJiYgXCJzY2FsZVwiIGluIG9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29sb3JTY2FsZShvYmo6IEFjY2Vzc29yU2NhbGU8bnVtYmVyIHwgQ29sb3I+KTogb2JqIGlzIEFjY2Vzc29yU2NhbGU8Q29sb3I+IHtcbiAgcmV0dXJuIFwicGFsZXR0ZVwiIGluIG9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29udGludW91c1NjYWxlPFQ+KG9iajogQWNjZXNzb3JTY2FsZTxUPik6IG9iaiBpcyBBY2Nlc3NvclNjYWxlQ29udGludW91czxUPiB7XG4gIHJldHVybiAoXG4gICAgb2JqLnNjYWxlID09PSBcImxpbmVhclwiIHx8IG9iai5zY2FsZSA9PT0gXCJwb3dlclwiIHx8IG9iai5zY2FsZSA9PT0gXCJsb2dcIiB8fCBvYmouc2NhbGUgPT09IFwic3ltbG9nXCJcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGlzY3JldGVTY2FsZTxUPihvYmo6IEFjY2Vzc29yU2NhbGU8VD4pOiBvYmogaXMgQWNjZXNzb3JTY2FsZURpc2NyZXRlPFQ+IHtcbiAgcmV0dXJuIG9iai5zY2FsZSA9PT0gXCJ0aHJlc2hvbGRcIiB8fCBvYmouc2NhbGUgPT09IFwicXVhbnRpbGVcIiB8fCBvYmouc2NhbGUgPT09IFwicXVhbnRpemVcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFjY2Vzc29yU2NhbGUoXG4gIG9iajogQWNjZXNzb3JTY2FsZTxudW1iZXIgfCBDb2xvcj4sXG4gIG5hbWU6IHN0cmluZ1xuKTogQWNjZXNzb3JTY2FsZTxudW1iZXIgfCBDb2xvcj4ge1xuICBpZiAoXCJwYWxldHRlXCIgaW4gb2JqKSB7XG4gICAgb2JqLnJhbmdlID0gb2JqLnBhbGV0dGUhLm1hcCgoY29sb3IpID0+IHBhcnNlQ29sb3IoY29sb3IpKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgb2JqLnVua25vd24gPSBwYXJzZUNvbG9yKG9iai51bmtub3duKTtcbiAgfVxuXG4gIGNvbnN0IHNjYWxlRGF0YSA9IHNjYWxlRm4ob2JqKSBhcyBhbnk7XG4gIGNvbnN0IGdldERhdGE6IEFjY2Vzc29yRm48YW55LCBhbnk+ID1cbiAgICBuYW1lID09PSBcImhpZ2hsaWdodENvbG9yXCIgPyBoaWdobGlnaHRGbihvYmosIHNjYWxlRGF0YSkgOiBhY2Nlc3NvckZuKG9iaiwgc2NhbGVEYXRhKTtcblxuICByZXR1cm4ge1xuICAgIC4uLm9iaixcbiAgICBuYW1lLFxuICAgIGdldERhdGEsXG4gICAgc2NhbGVEYXRhLFxuICB9O1xufVxuXG5mdW5jdGlvbiBzY2FsZUZuKGFjY2Vzc29yOiBBY2Nlc3NvclNjYWxlPGFueT4pIHtcbiAgdHlwZSBUID0gbnVtYmVyIHwgQ29sb3I7XG5cbiAgc3dpdGNoIChhY2Nlc3Nvci5zY2FsZSkge1xuICAgIGNhc2UgXCJsaW5lYXJcIjpcbiAgICAgIHJldHVybiBzY2FsZUxpbmVhcjxUPigpXG4gICAgICAgIC5kb21haW4oYWNjZXNzb3IuZG9tYWluKVxuICAgICAgICAucmFuZ2UoYWNjZXNzb3IucmFuZ2UpXG4gICAgICAgIC51bmtub3duKGFjY2Vzc29yLnVua25vd24pXG4gICAgICAgIC5jbGFtcCh0cnVlKTtcbiAgICBjYXNlIFwicG93ZXJcIjpcbiAgICAgIHJldHVybiBzY2FsZVBvdzxUPigpXG4gICAgICAgIC5leHBvbmVudChhY2Nlc3Nvci5leHBvbmVudClcbiAgICAgICAgLmRvbWFpbihhY2Nlc3Nvci5kb21haW4pXG4gICAgICAgIC5yYW5nZShhY2Nlc3Nvci5yYW5nZSlcbiAgICAgICAgLnVua25vd24oYWNjZXNzb3IudW5rbm93bilcbiAgICAgICAgLmNsYW1wKHRydWUpO1xuICAgIGNhc2UgXCJsb2dcIjpcbiAgICAgIHJldHVybiBzY2FsZUxvZzxUPigpXG4gICAgICAgIC5iYXNlKGFjY2Vzc29yLmJhc2UpXG4gICAgICAgIC5kb21haW4oYWNjZXNzb3IuZG9tYWluKVxuICAgICAgICAucmFuZ2UoYWNjZXNzb3IucmFuZ2UpXG4gICAgICAgIC51bmtub3duKGFjY2Vzc29yLnVua25vd24pXG4gICAgICAgIC5jbGFtcCh0cnVlKTtcbiAgICBjYXNlIFwic3ltbG9nXCI6XG4gICAgICByZXR1cm4gc2NhbGVTeW1sb2c8VD4oKVxuICAgICAgICAuZG9tYWluKGFjY2Vzc29yLmRvbWFpbilcbiAgICAgICAgLnJhbmdlKGFjY2Vzc29yLnJhbmdlKVxuICAgICAgICAudW5rbm93bihhY2Nlc3Nvci51bmtub3duKVxuICAgICAgICAuY2xhbXAodHJ1ZSk7XG4gICAgY2FzZSBcImlkZW50aXR5XCI6XG4gICAgICByZXR1cm4gc2NhbGVJZGVudGl0eTxUPigpLnVua25vd24oYWNjZXNzb3IudW5rbm93bik7XG4gICAgY2FzZSBcInRocmVzaG9sZFwiOlxuICAgIGNhc2UgXCJxdWFudGlsZVwiOlxuICAgICAgcmV0dXJuIHNjYWxlVGhyZXNob2xkPG51bWJlciwgVD4oKVxuICAgICAgICAuZG9tYWluKGFjY2Vzc29yLmRvbWFpbilcbiAgICAgICAgLnJhbmdlKGFjY2Vzc29yLnJhbmdlKVxuICAgICAgICAudW5rbm93bihhY2Nlc3Nvci51bmtub3duKTtcbiAgICBjYXNlIFwiY2F0ZWdvcnlcIjpcbiAgICAgIHJldHVybiBzY2FsZU9yZGluYWw8VD4oKVxuICAgICAgICAuZG9tYWluKGFjY2Vzc29yLmRvbWFpbilcbiAgICAgICAgLnJhbmdlKGFjY2Vzc29yLnJhbmdlKVxuICAgICAgICAudW5rbm93bihhY2Nlc3Nvci51bmtub3duKTtcbiAgICBjYXNlIFwicXVhbnRpemVcIjpcbiAgICAgIHJldHVybiBzY2FsZVF1YW50aXplPFQ+KClcbiAgICAgICAgLmRvbWFpbihhY2Nlc3Nvci5kb21haW4pXG4gICAgICAgIC5yYW5nZShhY2Nlc3Nvci5yYW5nZSlcbiAgICAgICAgLnVua25vd24oYWNjZXNzb3IudW5rbm93bik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFR5cGVFcnJvcihgc2NhbGUgJHsoYWNjZXNzb3IgYXMgYW55KS5zY2FsZX0gbm90IHN1cHBvcnRlZGApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFjY2Vzc29yRm4oeyBjb2wsIGRhdGFUeXBlIH06IEFjY2Vzc29yLCBzY2FsZURhdGE6IFNjYWxlRm4pOiBBY2Nlc3NvckZuPGFueSwgYW55PiB7XG4gIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgIHJldHVybiB0YWJsZURhdGEoY29sLCBzY2FsZURhdGEpO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIHJldHVybiBvYmplY3REYXRhKGNvbCwgc2NhbGVEYXRhKTtcbiAgICBjYXNlIFwiZ2VvanNvblwiOlxuICAgICAgcmV0dXJuIGdlb2pzb25EYXRhKGNvbCwgc2NhbGVEYXRhKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgVHlwZUVycm9yKGAke2RhdGFUeXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGlnaGxpZ2h0Rm4oeyBjb2wsIGRhdGFUeXBlIH06IEFjY2Vzc29yLCBzY2FsZURhdGE6IFNjYWxlRm4pOiBBY2Nlc3NvckZuPGFueSwgYW55PiB7XG4gIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgIHJldHVybiB0YWJsZUhpZ2hsaWdodChjb2wsIHNjYWxlRGF0YSk7XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgcmV0dXJuIG9iamVjdEhpZ2hsaWdodChjb2wsIHNjYWxlRGF0YSk7XG4gICAgY2FzZSBcImdlb2pzb25cIjpcbiAgICAgIHJldHVybiBnZW9qc29uSGlnaGxpZ2h0KGNvbCwgc2NhbGVEYXRhKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgVHlwZUVycm9yKGAke2RhdGFUeXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGFibGVEYXRhKGNvbDogc3RyaW5nLCBzY2FsZURhdGE6IFNjYWxlRm4pOiBBY2Nlc3NvckZuPERhdGFGcmFtZSwgYW55PiB7XG4gIHJldHVybiAoXywgeyBpbmRleCwgZGF0YSB9KSA9PiBzY2FsZURhdGEoZGF0YS5mcmFtZVtjb2xdW2luZGV4XSk7XG59XG5cbmZ1bmN0aW9uIHRhYmxlSGlnaGxpZ2h0KGNvbDogc3RyaW5nLCBzY2FsZURhdGE6IFNjYWxlRm4pOiBBY2Nlc3NvckZuPFBpY2tJbmZvPG51bGw+LCBhbnk+IHtcbiAgcmV0dXJuICh7IGluZGV4LCBsYXllciB9KSA9PlxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBzY2FsZURhdGEobGF5ZXIucHJvcHMuZGF0YSEuZnJhbWVbY29sXVtpbmRleF0pO1xufVxuXG5mdW5jdGlvbiBvYmplY3REYXRhKGNvbDogc3RyaW5nLCBzY2FsZURhdGE6IFNjYWxlRm4pOiBBY2Nlc3NvckZuPFJlY29yZDxzdHJpbmcsIGFueT4sIGFueT4ge1xuICByZXR1cm4gKG9iamVjdCkgPT4gc2NhbGVEYXRhKG9iamVjdFtjb2xdKTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0SGlnaGxpZ2h0KFxuICBjb2w6IHN0cmluZyxcbiAgc2NhbGVEYXRhOiBTY2FsZUZuXG4pOiBBY2Nlc3NvckZuPFBpY2tJbmZvPFJlY29yZDxzdHJpbmcsIGFueT4+LCBhbnk+IHtcbiAgcmV0dXJuICh7IG9iamVjdCB9KSA9PiBzY2FsZURhdGEob2JqZWN0W2NvbF0pO1xufVxuXG5mdW5jdGlvbiBnZW9qc29uRGF0YShjb2w6IHN0cmluZywgc2NhbGVEYXRhOiBTY2FsZUZuKTogQWNjZXNzb3JGbjxGZWF0dXJlLCBhbnk+IHtcbiAgcmV0dXJuIChvYmplY3QpID0+IHNjYWxlRGF0YShvYmplY3QucHJvcGVydGllcyFbY29sXSk7XG59XG5cbmZ1bmN0aW9uIGdlb2pzb25IaWdobGlnaHQoY29sOiBzdHJpbmcsIHNjYWxlRGF0YTogU2NhbGVGbik6IEFjY2Vzc29yRm48UGlja0luZm88RmVhdHVyZT4sIGFueT4ge1xuICByZXR1cm4gKHsgb2JqZWN0IH0pID0+IHNjYWxlRGF0YShvYmplY3QucHJvcGVydGllcyFbY29sXSk7XG59XG4iLCJpbXBvcnQgeyBkZWZhdWx0IGFzIEdMIH0gZnJvbSBcIkBsdW1hLmdsL2NvbnN0YW50c1wiO1xuXG5jb25zdCBCTEVORElOR19NT0RFUyA9IE9iamVjdC5mcmVlemUoe1xuICBhZGRpdGl2ZToge1xuICAgIFtHTC5CTEVORF06IHRydWUsXG4gICAgYmxlbmRGdW5jOiBbR0wuU1JDX0FMUEhBLCBHTC5EU1RfQUxQSEFdLFxuICAgIGJsZW5kRXF1YXRpb246IEdMLkZVTkNfQURELFxuICB9LFxuICBzdWJ0cmFjdGl2ZToge1xuICAgIFtHTC5CTEVORF06IHRydWUsXG4gICAgYmxlbmRGdW5jOiBbR0wuT05FLCBHTC5PTkVfTUlOVVNfRFNUX0NPTE9SLCBHTC5TUkNfQUxQSEEsIEdMLkRTVF9BTFBIQV0sXG4gICAgYmxlbmRFcXVhdGlvbjogW0dMLkZVTkNfU1VCVFJBQ1QsIEdMLkZVTkNfQUREXSxcbiAgfSxcbiAgbm9ybWFsOiB7XG4gICAgW0dMLkJMRU5EXTogdHJ1ZSxcbiAgICBibGVuZEZ1bmM6IFtHTC5TUkNfQUxQSEEsIEdMLk9ORV9NSU5VU19TUkNfQUxQSEEsIEdMLk9ORSwgR0wuT05FX01JTlVTX1NSQ19BTFBIQV0sXG4gICAgYmxlbmRFcXVhdGlvbjogW0dMLkZVTkNfQURELCBHTC5GVU5DX0FERF0sXG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJsZW5kaW5nUGFyYW1ldGVycyhtb2RlOiBCbGVuZGluZ01vZGUgPSBcIm5vcm1hbFwiKSB7XG4gIHJldHVybiBCTEVORElOR19NT0RFU1ttb2RlXSA/PyBCTEVORElOR19NT0RFUy5ub3JtYWw7XG59XG4iLCJpbXBvcnQgdHlwZSB7IFBvc2l0aW9uIH0gZnJvbSBcImdlb2pzb25cIjtcblxudHlwZSBHZW9tZXRyeUluZm8gPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogR2VvbWV0cnlUeXBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0YUZyYW1lKGRhdGE6IExheWVyRGF0YSk6IGRhdGEgaXMgRGF0YUZyYW1lIHtcbiAgcmV0dXJuIGRhdGEgIT09IG51bGwgJiYgdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgXCJmcmFtZVwiIGluIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuR2VvbWV0cmllcyhkYXRhOiBEYXRhRnJhbWUpOiBEYXRhRnJhbWUge1xuICBjb25zdCBtdWx0aUdlb21ldHJpZXMgPSBnZXRNdWx0aUdlb21ldHJ5KGRhdGEpO1xuICBpZiAobXVsdGlHZW9tZXRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcmV0dXJuIG11bHRpR2VvbWV0cmllcy5yZWR1Y2UoZmxhdHRlbiwgZGF0YSk7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW4oZGF0YTogRGF0YUZyYW1lLCB7IG5hbWUsIHR5cGUgfTogR2VvbWV0cnlJbmZvKTogRGF0YUZyYW1lIHtcbiAgY29uc3Qgb2xkRnJhbWUgPSBkYXRhLmZyYW1lO1xuICBjb25zdCBuZXdGcmFtZSA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvbGRGcmFtZSkubWFwKChba2V5XSkgPT4gW2tleSwgW10gYXMgYW55W11dKSk7XG5cbiAgLy8ga2V5cyBvZiBub24tZ2VvbWV0cnkgY29sc1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YS5mcmFtZSkuZmlsdGVyKChrZXkpID0+IGtleSAhPT0gbmFtZSk7XG4gIC8vIGdlb21ldHJ5IGNvbHVtblxuICBjb25zdCBnZW9tZXRyaWVzID0gb2xkRnJhbWVbbmFtZV07XG4gIGNvbnN0IGlzTXVsdGlHZW9tZXRyeSA9IGlzTXVsdGlHZW9tZXRyeUZuKHR5cGUpO1xuICBjb25zdCBjb3B5VmFsdWVzID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICBuZXdGcmFtZVtrZXldLnB1c2gob2xkRnJhbWVba2V5XVtpbmRleF0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBvcmlnaW5hbCBkYXRhIGluZGljZXNcbiAgY29uc3QgaW5kaWNlcyA9IFtdO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkYXRhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpbmRleF07XG4gICAgaWYgKGlzTXVsdGlHZW9tZXRyeShnZW9tZXRyeSkpIHtcbiAgICAgIC8vIHNwbGl0IHRoZSBtdWx0aS1nZW9tZXRyeVxuICAgICAgbmV3RnJhbWVbbmFtZV0ucHVzaCguLi5nZW9tZXRyeSk7XG4gICAgICAvLyByZXBlYXQgb3RoZXIgY29sdW1ucyBmb3IgZWFjaCBnZW9tZXRyeSBpbiBtdWx0aS1nZW9tZXRyeVxuICAgICAgZm9yIChsZXQgcmVwID0gMDsgcmVwIDwgZ2VvbWV0cnkubGVuZ3RoOyByZXArKykge1xuICAgICAgICBjb3B5VmFsdWVzKGluZGV4KTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGRhdGEuaW5kaWNlcz8uW2luZGV4XSA/PyBpbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0ZyYW1lW25hbWVdLnB1c2goZ2VvbWV0cnkpO1xuICAgICAgY29weVZhbHVlcyhpbmRleCk7XG4gICAgICBpbmRpY2VzLnB1c2goZGF0YS5pbmRpY2VzPy5baW5kZXhdID8/IGluZGV4KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxlbmd0aDogbmV3RnJhbWVbbmFtZV0ubGVuZ3RoLFxuICAgIGdlb21ldHJ5OiB7XG4gICAgICAuLi5kYXRhLmdlb21ldHJ5LFxuICAgICAgW25hbWVdOiB0eXBlLnJlcGxhY2UoXCJNVUxUSVwiLCBcIlwiKSBhcyBHZW9tZXRyeVR5cGUsXG4gICAgfSxcbiAgICBpbmRpY2VzLFxuICAgIGZyYW1lOiBuZXdGcmFtZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNNdWx0aUdlb21ldHJ5Rm4odHlwZTogR2VvbWV0cnlUeXBlKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJNVUxUSVBPSU5UXCI6XG4gICAgICByZXR1cm4gaXNNdWx0aVBvaW50O1xuICAgIGNhc2UgXCJNVUxUSUxJTkVTVFJJTkdcIjpcbiAgICAgIHJldHVybiBpc011bHRpTGluZVN0cmluZztcbiAgICBjYXNlIFwiTVVMVElQT0xZR09OXCI6XG4gICAgICByZXR1cm4gaXNNdWx0aVBvbHlnb247XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IFR5cGVFcnJvcihgJHt0eXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNNdWx0aVBvaW50KGdlb21ldHJ5OiBQb3NpdGlvbiB8IFBvc2l0aW9uW10pOiBnZW9tZXRyeSBpcyBQb3NpdGlvbltdIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZ2VvbWV0cnk/LlswXSk7XG59XG5cbmZ1bmN0aW9uIGlzTXVsdGlMaW5lU3RyaW5nKGdlb21ldHJ5OiBQb3NpdGlvbltdIHwgUG9zaXRpb25bXVtdKTogZ2VvbWV0cnkgaXMgUG9zaXRpb25bXVtdIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZ2VvbWV0cnk/LlswXT8uWzBdKTtcbn1cblxuZnVuY3Rpb24gaXNNdWx0aVBvbHlnb24oZ2VvbWV0cnk6IFBvc2l0aW9uW11bXSB8IFBvc2l0aW9uW11bXVtdKTogZ2VvbWV0cnkgaXMgUG9zaXRpb25bXVtdW10ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShnZW9tZXRyeT8uWzBdPy5bMF0/LlswXSk7XG59XG5cbmZ1bmN0aW9uIGdldE11bHRpR2VvbWV0cnkoZGF0YTogRGF0YUZyYW1lKTogR2VvbWV0cnlJbmZvW10ge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZGF0YS5nZW9tZXRyeSlcbiAgICAuZmlsdGVyKChbLCB0eXBlXSkgPT4gL01VTFRJLy50ZXN0KHR5cGUpKVxuICAgIC5tYXAoKFtuYW1lLCB0eXBlXSkgPT4gKHsgbmFtZSwgdHlwZSB9KSk7XG59XG4iLCJpbXBvcnQgeyBMYXllciwgTGF5ZXJFeHRlbnNpb24gfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBHTCB9IGZyb20gXCJAbHVtYS5nbC9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIEFyY0xheWVyLFxuICBJY29uTGF5ZXIsXG4gIExpbmVMYXllcixcbiAgUGF0aExheWVyLFxuICBQb2ludENsb3VkTGF5ZXIsXG4gIFNjYXR0ZXJwbG90TGF5ZXIsXG4gIFNvbGlkUG9seWdvbkxheWVyLFxufSBmcm9tIFwiQGRlY2suZ2wvbGF5ZXJzXCI7XG5cbmltcG9ydCB7IGlzRGF0YUZyYW1lIH0gZnJvbSBcIi4vZGF0YS1mcmFtZVwiO1xuXG5leHBvcnQgY2xhc3MgTXVsdGlIaWdobGlnaHRFeHRlbnNpb24gZXh0ZW5kcyBMYXllckV4dGVuc2lvbiB7XG4gIGluaXRpYWxpemVTdGF0ZSgpIHtcbiAgICBpZiAoIWlzUHJpbWl0aXZlTGF5ZXIodGhpcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsYXllciA9IHRoaXM7XG4gICAgY29uc3QgYXR0cmlidXRlTWFuYWdlciA9IGxheWVyLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtcblxuICAgIGlmIChhdHRyaWJ1dGVNYW5hZ2VyKSB7XG4gICAgICBhdHRyaWJ1dGVNYW5hZ2VyLmFkZEluc3RhbmNlZCh7XG4gICAgICAgIHBpY2tpbmdDb2xvcnM6IHtcbiAgICAgICAgICB0eXBlOiBHTC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgIHNpemU6IDMsXG4gICAgICAgICAgYWNjZXNzb3I6IChvYmplY3QsIHsgaW5kZXgsIGRhdGEsIHRhcmdldCB9KSA9PiB7XG4gICAgICAgICAgICAvLyBkYXRhIGlzIGEgZGF0YWZyYW1lLCB3aXRoIGZsYXR0ZW5lZCBnZW9tZXRyaWVzP1xuICAgICAgICAgICAgaWYgKGlzRGF0YUZyYW1lKGRhdGEpICYmIEFycmF5LmlzQXJyYXkoZGF0YS5pbmRpY2VzKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbGF5ZXIuZW5jb2RlUGlja2luZ0NvbG9yKGRhdGEuaW5kaWNlcy5pbmRleE9mKGRhdGEuaW5kaWNlc1tpbmRleF0pLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzdWItbGF5ZXIsIHdoZXJlIHBhcmVudCBkYXRhIGlzIGEgZGF0YWZyYW1lIHdpdGggZmxhdHRlbmVkIGdlb21ldHJpZXM/XG4gICAgICAgICAgICBjb25zdCBwYXJlbnREYXRhID0gb2JqZWN0Py5fX3NvdXJjZT8ucGFyZW50Py5wcm9wcy5kYXRhO1xuICAgICAgICAgICAgaWYgKGlzRGF0YUZyYW1lKHBhcmVudERhdGEpICYmIEFycmF5LmlzQXJyYXkocGFyZW50RGF0YS5pbmRpY2VzKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbGF5ZXIuZW5jb2RlUGlja2luZ0NvbG9yKFxuICAgICAgICAgICAgICAgIHBhcmVudERhdGEuaW5kaWNlcy5pbmRleE9mKHBhcmVudERhdGEuaW5kaWNlc1tvYmplY3QuX19zb3VyY2UuaW5kZXhdKSxcbiAgICAgICAgICAgICAgICB0YXJnZXRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZGVmYXVsdFxuICAgICAgICAgICAgcmV0dXJuIGxheWVyLmVuY29kZVBpY2tpbmdDb2xvcihvYmplY3Q/Ll9fc291cmNlLmluZGV4ID8/IGluZGV4LCB0YXJnZXQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2hhZGVyQXR0cmlidXRlczoge1xuICAgICAgICAgICAgcGlja2luZ0NvbG9yczoge1xuICAgICAgICAgICAgICBkaXZpc29yOiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluc3RhbmNlUGlja2luZ0NvbG9yczoge1xuICAgICAgICAgICAgICBkaXZpc29yOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IExheWVycyA9IFtcbiAgQXJjTGF5ZXIsXG4gIEljb25MYXllcixcbiAgTGluZUxheWVyLFxuICBQYXRoTGF5ZXIsXG4gIFBvaW50Q2xvdWRMYXllcixcbiAgU2NhdHRlcnBsb3RMYXllcixcbiAgU29saWRQb2x5Z29uTGF5ZXIsXG5dO1xuXG50eXBlIEJhc2VMYXllciA9IExheWVyPERhdGFGcmFtZSwgYW55PjtcbmZ1bmN0aW9uIGlzUHJpbWl0aXZlTGF5ZXIobGF5ZXI6IEJhc2VMYXllciB8IExheWVyRXh0ZW5zaW9uKTogbGF5ZXIgaXMgQmFzZUxheWVyIHtcbiAgcmV0dXJuIExheWVycy5zb21lKChMYXllcikgPT4gbGF5ZXIgaW5zdGFuY2VvZiBMYXllcik7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcHJvcGVyQ2FzZShjYW1lbENhc2U6IHN0cmluZykge1xuICByZXR1cm4gY2FtZWxDYXNlLnJlcGxhY2UoLyhbQS1aXSkvZywgXCIgJDFcIikucmVwbGFjZSgvXi4vLCAocykgPT4gcy50b1VwcGVyQ2FzZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdvcmRzKGNhbWVsQ2FzZTogc3RyaW5nKSB7XG4gIHJldHVybiBjYW1lbENhc2UucmVwbGFjZSgvKFtBLVpdKS9nLCBcIiAkMVwiKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGljazxULCBLIGV4dGVuZHMga2V5b2YgVD4ob2JqZWN0OiBUIHwgbnVsbCwgLi4ua2V5czogS1tdKTogUGljazxULCBLPiB8IG51bGwge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGVudHJpZXMgPSBrZXlzLm1hcCgoa2V5KSA9PiBba2V5LCBvYmplY3Rba2V5XV0pO1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGVudHJpZXMpO1xufVxuXG5mdW5jdGlvbiBmaW5kVmlzaWJsZUFuY2VzdG9yKGVsOiBFbGVtZW50KTogRWxlbWVudCB8IG51bGwge1xuICBpZiAoZWwuY2xpZW50SGVpZ2h0ID4gMCAmJiBlbC5jbGllbnRIZWlnaHQgPiAwKSB7XG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgcmV0dXJuIGVsLnBhcmVudEVsZW1lbnQgPyBmaW5kVmlzaWJsZUFuY2VzdG9yKGVsLnBhcmVudEVsZW1lbnQpIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRTaXplKGVsOiBFbGVtZW50KTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IHtcbiAgY29uc3QgdmlzaWJsZSA9IGZpbmRWaXNpYmxlQW5jZXN0b3IoZWwpO1xuXG4gIGlmIChlbCA9PT0gdmlzaWJsZSB8fCB2aXNpYmxlID09IG51bGwpIHtcbiAgICByZXR1cm4geyB3aWR0aDogZWwuY2xpZW50V2lkdGgsIGhlaWdodDogZWwuY2xpZW50SGVpZ2h0IH07XG4gIH1cblxuICAvLyBjcmVhdGUgY2xvbmUgb2YgZWwgYXMgY2hpbGQgb2YgZmlyc3QgdmlzaWJsZSBhbmNlc3RvciAmIGNhcHR1cmUgc2l6ZVxuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGdldENvbXB1dGVkU3R5bGUoZWwpO1xuICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgT2JqZWN0LmFzc2lnbihub2RlLnN0eWxlLCB7IHdpZHRoLCBoZWlnaHQsIGRpc3BsYXk6IFwiaGlkZGVuXCIgfSk7XG5cbiAgdmlzaWJsZS5hcHBlbmRDaGlsZChub2RlKTtcbiAgY29uc3Qgc2l6ZSA9IHsgd2lkdGg6IG5vZGUuY2xpZW50V2lkdGgsIGhlaWdodDogbm9kZS5jbGllbnRIZWlnaHQgfTtcbiAgdmlzaWJsZS5yZW1vdmVDaGlsZChub2RlKTtcblxuICByZXR1cm4gc2l6ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnk8SywgVj4obGlzdDogVltdLCBrZXk6ICh4OiBWKSA9PiBLKTogTWFwPEssIFZbXT4ge1xuICBjb25zdCBtYXAgPSBuZXcgTWFwPEssIFZbXT4oKTtcblxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgbGlzdCkge1xuICAgIGNvbnN0IGl0ZW1LZXkgPSBrZXkoaXRlbSk7XG4gICAgaWYgKCFtYXAuaGFzKGl0ZW1LZXkpKSB7XG4gICAgICBtYXAuc2V0KGl0ZW1LZXksIFtpdGVtXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcC5nZXQoaXRlbUtleSkhLnB1c2goaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1hcDtcbn1cblxudHlwZSBOdWxsYWJsZTxUPiA9IFQgfCBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xhc3NOYW1lcyguLi5jbGFzc05hbWVzOiBOdWxsYWJsZTxzdHJpbmc+W10pOiBzdHJpbmcge1xuICByZXR1cm4gY2xhc3NOYW1lcy5maWx0ZXIoKHgpID0+IHggIT0gbnVsbCkuam9pbihcIiBcIik7XG59XG5cbnR5cGUgVmFyaWFkaWM8VD4gPSAoLi4uYXJnczogYW55W10pID0+IFQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZTxUPihmbjogVmFyaWFkaWM8VD4sIHdhaXQ6IG51bWJlciA9IDApIHtcbiAgbGV0IHRpbWVvdXQ6IG51bWJlcjtcblxuICByZXR1cm4gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gZm4oLi4uYXJncyksIHdhaXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh4OiBhbnkpIHtcbiAgcmV0dXJuICh0eXBlb2YgeCAhPT0gXCJvYmplY3RcIiB8fCB4ID09PSBudWxsKSAmJiB0eXBlb2YgeCAhPT0gXCJmdW5jdGlvblwiO1xufVxuXG5jbGFzcyBNYXBDYWNoZSB7XG4gIHByaXZhdGUgX3ZhbCA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBfcmVmID0gbmV3IFdlYWtNYXAoKTtcblxuICBnZXRTdG9yZShrZXk6IGFueSkge1xuICAgIHJldHVybiBpc1ByaW1pdGl2ZShrZXkpID8gdGhpcy5fdmFsIDogdGhpcy5fcmVmO1xuICB9XG5cbiAgaGFzKGtleTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RvcmUoa2V5KS5oYXMoa2V5KTtcbiAgfVxuXG4gIGdldChrZXk6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmdldFN0b3JlKGtleSkuZ2V0KGtleSk7XG4gIH1cblxuICBzZXQoa2V5OiBhbnksIHZhbHVlOiB1bmtub3duKSB7XG4gICAgdGhpcy5nZXRTdG9yZShrZXkpLnNldChrZXksIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZTxUPihmbjogVmFyaWFkaWM8VD4pOiBWYXJpYWRpYzxUPiB7XG4gIC8vIGEgbmVzdGVkIGNhY2hlIGNoYWluLCBzdWNoIHRoYXQgZWFjaCBwYXJhbSBtYXBzIHRvIGEgY2FjaGUsXG4gIC8vIG9yIHRoZSByZXN1bHQgb2YgZm4gaWYgaXQgaXMgdGhlIGVuZCBvZiB0aGUgY2hhaW5cbiAgLy8gZS5nLiBmb3IgMyBhcmdzLCAoYSkgPT4gKGIpID0+IChjKSA9PiBmbihhLCBiLCBjKVxuICBjb25zdCByb290ID0gbmV3IE1hcENhY2hlKCk7XG5cbiAgcmV0dXJuICguLi5hcmdzOiBhbnlbXSk6IFQgPT4ge1xuICAgIGNvbnN0IGFyZzAgPSBhcmdzWzBdO1xuICAgIGNvbnN0IG5hcmdzID0gYXJncy5zbGljZSgwLCAtMSk7XG4gICAgLy8gd2FsayB0aGUgY2FjaGUgY2hhaW5cbiAgICBjb25zdCBjYWNoZSA9IG5hcmdzLnJlZHVjZVJpZ2h0KChwYXJlbnQ6IE1hcENhY2hlLCBhcmc6IGFueSkgPT4ge1xuICAgICAgaWYgKHBhcmVudC5oYXMoYXJnKSkgcmV0dXJuIHBhcmVudC5nZXQoYXJnKTtcblxuICAgICAgY29uc3QgY2hpbGQgPSBuZXcgTWFwQ2FjaGUoKTtcbiAgICAgIHBhcmVudC5zZXQoYXJnLCBjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSwgcm9vdCk7XG5cbiAgICAvLyBjYWNoZSBoaXRcbiAgICBpZiAoY2FjaGUuaGFzKGFyZzApKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGFyZzApO1xuICAgIH1cblxuICAgIC8vIGNhY2hlIG1pc3NcbiAgICBjb25zdCB2YWx1ZSA9IGZuKC4uLmFyZ3MpO1xuICAgIGNhY2hlLnNldChhcmcwLCB2YWx1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG4iLCJpbXBvcnQgKiBhcyBkZWNrIGZyb20gXCIuL2RlY2stYnVuZGxlXCI7XG5pbXBvcnQgdHlwZSB7IExheWVyIGFzIERlY2tMYXllciwgTGF5ZXJQcm9wcyBhcyBEZWNrTGF5ZXJQcm9wcyB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IEJpdG1hcExheWVyUHJvcHMgfSBmcm9tIFwiQGRlY2suZ2wvbGF5ZXJzXCI7XG5pbXBvcnQgdHlwZSB7IFRpbGVMYXllclByb3BzIH0gZnJvbSBcIkBkZWNrLmdsL2dlby1sYXllcnNcIjtcbmltcG9ydCB0eXBlIHsgRmVhdHVyZUNvbGxlY3Rpb24gfSBmcm9tIFwiZ2VvanNvblwiO1xuXG5pbXBvcnQgeyBwYXJzZUNvbG9yIGFzIF9wYXJzZUNvbG9yIH0gZnJvbSBcIi4vY29sb3JcIjtcbmltcG9ydCB7IEFjY2Vzc29yU2NhbGUsIGFjY2Vzc29yU2NhbGUgYXMgX2FjY2Vzc29yU2NhbGUsIGlzQWNjZXNzb3JTY2FsZSB9IGZyb20gXCIuL3NjYWxlXCI7XG5pbXBvcnQgeyBhY2Nlc3NvciBhcyBfYWNjZXNzb3IsIEFjY2Vzc29yLCBpc0FjY2Vzc29yIH0gZnJvbSBcIi4vYWNjZXNzb3JcIjtcbmltcG9ydCB7IGJsZW5kaW5nUGFyYW1ldGVycyB9IGZyb20gXCIuL2JsZW5kaW5nXCI7XG5pbXBvcnQgeyBmbGF0dGVuR2VvbWV0cmllcyBhcyBfZmxhdHRlbkdlb21ldHJpZXMsIGlzRGF0YUZyYW1lIH0gZnJvbSBcIi4vZGF0YS1mcmFtZVwiO1xuaW1wb3J0IHsgTXVsdGlIaWdobGlnaHRFeHRlbnNpb24gfSBmcm9tIFwiLi9tdWx0aS1oaWdobGlnaHQtZXh0ZW5zaW9uXCI7XG5pbXBvcnQgeyBtZW1vaXplIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG50eXBlIExheWVyRGF0YSA9IHN0cmluZyB8IERhdGFGcmFtZSB8IEZlYXR1cmVDb2xsZWN0aW9uO1xudHlwZSBFbnRyeTxUPiA9IFtzdHJpbmcsIFRdO1xuXG5leHBvcnQgdHlwZSBMZWdlbmRJbmZvID0gUGljazxMYXllclByb3BzLCBcImlkXCIgfCBcIm5hbWVcIj4gJiB7XG4gIHNjYWxlczogQWNjZXNzb3JTY2FsZTxudW1iZXIgfCBDb2xvcj5bXTtcbn07XG5cbmV4cG9ydCB0eXBlIFZpc2liaWxpdHlJbmZvID0gUGljazxMYXllclByb3BzLCBcImlkXCIgfCBcIm5hbWVcIiB8IFwiZ3JvdXBOYW1lXCI+ICYge1xuICB2aXNpYmxlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBMYXllclByb3BzIGV4dGVuZHMgT21pdDxEZWNrTGF5ZXJQcm9wczxhbnk+LCBcImRhdGFcIj4ge1xuICB0eXBlOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZ3JvdXBOYW1lOiBzdHJpbmcgfCBudWxsO1xuICBkYXRhOiBMYXllckRhdGEgfCBudWxsO1xuICBibGVuZGluZ01vZGU6IEJsZW5kaW5nTW9kZTtcbiAgdmlzaWJpbGl0eVRvZ2dsZTogYm9vbGVhbjtcbiAgdG9vbHRpcDogVG9vbHRpcEluZm8gfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgVHJpcHNMYXllclByb3BzIGV4dGVuZHMgTGF5ZXJQcm9wcyB7XG4gIGN1cnJlbnRUaW1lOiBudW1iZXI7XG4gIGxvb3BMZW5ndGg6IG51bWJlcjtcbiAgYW5pbWF0aW9uU3BlZWQ6IG51bWJlcjtcbn1cblxuLy8gcGVyZm9ybWFuY2Ugb3B0aW1pc2F0aW9uOiBhdm9pZCBzaGFsbG93IHByb3AgY2hhbmdlc1xuY29uc3QgZmxhdHRlbkdlb21ldHJpZXMgPSBtZW1vaXplKF9mbGF0dGVuR2VvbWV0cmllcyk7XG5jb25zdCBwYXJzZUNvbG9yID0gbWVtb2l6ZShfcGFyc2VDb2xvcik7XG5jb25zdCBhY2Nlc3NvciA9IG1lbW9pemUoX2FjY2Vzc29yKTtcbmNvbnN0IGFjY2Vzc29yU2NhbGUgPSBtZW1vaXplKF9hY2Nlc3NvclNjYWxlKTtcblxuZXhwb3J0IGNsYXNzIExheWVyIHtcbiAgdHlwZTogc3RyaW5nO1xuICBwcm9wczogTGF5ZXJQcm9wcztcbiAgc2NhbGVzOiBBY2Nlc3NvclNjYWxlPGFueT5bXTtcblxuICBjb25zdHJ1Y3Rvcih7IHR5cGUsIC4uLnByb3BzIH06IExheWVyUHJvcHMpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocHJvcHMpO1xuICAgIGNvbnN0IGNvbG9ycyA9IGdldENvbG9ycyhlbnRyaWVzKTtcbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBnZXRBY2Nlc3NvcnMoZW50cmllcyk7XG5cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIGNvbnN0IF9wcm9wcyA9IE9iamVjdC5mcm9tRW50cmllcyhbXG4gICAgICAuLi5lbnRyaWVzLFxuICAgICAgLi4uY29sb3JzLFxuICAgICAgLi4uYWNjZXNzb3JzLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4gW25hbWUsIHZhbHVlLmdldERhdGFdKSxcbiAgICAgIC4uLmdldFdlaWdodFByb3BzKGVudHJpZXMpLFxuICAgICAgW1widmlzaWJsZVwiLCBwcm9wcy52aXNpYmxlID8/IHRydWVdLFxuICAgICAgW1widXBkYXRlVHJpZ2dlcnNcIiwgZ2V0VXBkYXRlVHJpZ2dlcnMoYWNjZXNzb3JzKV0sXG4gICAgICBbXCJwYXJhbWV0ZXJzXCIsIGdldFBhcmFtZXRlcnMocHJvcHMucGFyYW1ldGVycywgcHJvcHMuYmxlbmRpbmdNb2RlKV0sXG4gICAgXSk7XG5cbiAgICAvLyBtdWx0aS1nZW9tZXRyeSBoaWdobGlnaHRcbiAgICBpZiAoaXNEYXRhRnJhbWUoX3Byb3BzLmRhdGEpKSB7XG4gICAgICBfcHJvcHMuZGF0YSA9IGZsYXR0ZW5HZW9tZXRyaWVzKF9wcm9wcy5kYXRhKTtcbiAgICAgIF9wcm9wcy5leHRlbnNpb25zID0gW25ldyBNdWx0aUhpZ2hsaWdodEV4dGVuc2lvbigpLCAuLi4oX3Byb3BzLmV4dGVuc2lvbnMgPz8gW10pXTtcbiAgICB9XG5cbiAgICAvLyB0aWxlLWxheWVyXG4gICAgdHlwZSBUaWxlUHJvcHMgPSBUaWxlTGF5ZXJQcm9wczxhbnk+ICYgQml0bWFwTGF5ZXJQcm9wczxhbnk+ICYgeyB0aWxlOiBhbnkgfTtcbiAgICBpZiAodHlwZSA9PT0gXCJUaWxlTGF5ZXJcIikge1xuICAgICAgX3Byb3BzLnJlbmRlclN1YkxheWVycyA9IChwcm9wczogVGlsZVByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBiYm94OiB7IHdlc3QsIHNvdXRoLCBlYXN0LCBub3J0aCB9LFxuICAgICAgICAgIHgsXG4gICAgICAgICAgeSxcbiAgICAgICAgICB6LFxuICAgICAgICB9ID0gcHJvcHMudGlsZTtcblxuICAgICAgICByZXR1cm4gbmV3IGRlY2suQml0bWFwTGF5ZXIoe1xuICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgIGRhdGE6IFt7IHosIHgsIHkgfV0sXG4gICAgICAgICAgaW1hZ2U6IHByb3BzLmRhdGEsXG4gICAgICAgICAgYm91bmRzOiBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSxcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMgPSBfcHJvcHM7XG5cbiAgICB0aGlzLnNjYWxlcyA9IGFjY2Vzc29yc1xuICAgICAgLmZpbHRlcigoWywgdmFsdWVdKSA9PiBpc0FjY2Vzc29yU2NhbGUodmFsdWUpKVxuICAgICAgLm1hcCgoWywgdmFsdWVdKSA9PiB2YWx1ZSBhcyBBY2Nlc3NvclNjYWxlPG51bWJlciB8IENvbG9yPik7XG5cbiAgICAvLyBsb2FkIGZvbnRcbiAgICBpZiAodHlwZSA9PT0gXCJUZXh0TGF5ZXJcIiAmJiBcImZvbnRzXCIgaW4gZG9jdW1lbnQpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGRvY3VtZW50LmZvbnRzLmxvYWQoYDE2cHggJHtwcm9wcy5mb250RmFtaWx5fWApO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGUocHJvcHM6IExheWVyUHJvcHMpIHtcbiAgICByZXR1cm4gbmV3IExheWVyKHByb3BzKTtcbiAgfVxuXG4gIHJlbmRlckxheWVyKHRpbWU/OiBudW1iZXIpOiBEZWNrTGF5ZXI8YW55LCBhbnk+IHtcbiAgICAvLyBhbmltYXRlIHRyaXBzIGxheWVyXG4gICAgaWYgKHRoaXMudHlwZSA9PT0gXCJUcmlwc0xheWVyXCIgJiYgdGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHMgYXMgVHJpcHNMYXllclByb3BzO1xuICAgICAgY29uc3QgeyBsb29wTGVuZ3RoLCBhbmltYXRpb25TcGVlZCB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBhbmltYXRpb25UaW1lID0gbG9vcExlbmd0aCAvIGFuaW1hdGlvblNwZWVkO1xuICAgICAgY29uc3QgcmF0aW9Db21wbGV0ZSA9ICgodGltZSAvIDEwMDApICUgYW5pbWF0aW9uVGltZSkgLyBhbmltYXRpb25UaW1lO1xuICAgICAgcHJvcHMuY3VycmVudFRpbWUgPSByYXRpb0NvbXBsZXRlICogbG9vcExlbmd0aDtcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJldHVybiBuZXcgZGVja1t0aGlzLnR5cGVdKHsgLi4udGhpcy5wcm9wcyB9KTtcbiAgfVxuXG4gIHJlbmRlckxlZ2VuZCgpOiBMZWdlbmRJbmZvIHtcbiAgICBjb25zdCBzY2FsZXMgPSB0aGlzLnNjYWxlcy5maWx0ZXIoKHNjYWxlKSA9PiBzY2FsZS5sZWdlbmQpO1xuICAgIHJldHVybiB7IGlkOiB0aGlzLnByb3BzLmlkISwgbmFtZTogdGhpcy5wcm9wcy5uYW1lLCBzY2FsZXMgfTtcbiAgfVxuXG4gIHJlbmRlclNlbGVjdG9yKCk6IFZpc2liaWxpdHlJbmZvIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMucHJvcHMuaWQhLFxuICAgICAgZ3JvdXBOYW1lOiB0aGlzLnByb3BzLmdyb3VwTmFtZSxcbiAgICAgIG5hbWU6IHRoaXMucHJvcHMubmFtZSxcbiAgICAgIHZpc2libGU6IHRoaXMucHJvcHMudmlzaWJsZSA/PyB0cnVlLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29sb3IoW25hbWUsIHZhbHVlXTogW3N0cmluZywgYW55XSkge1xuICByZXR1cm4gbmFtZS5lbmRzV2l0aChcIkNvbG9yXCIpICYmIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRDb2xvcnMoZW50cmllczogRW50cnk8YW55PltdKTogRW50cnk8Q29sb3IgfCBDb2xvcltdPltdIHtcbiAgY29uc3QgY29sb3JzID0gZW50cmllc1xuICAgIC5maWx0ZXIoaXNDb2xvcilcbiAgICAubWFwKChbbmFtZSwgY29sb3JdKTogRW50cnk8Q29sb3I+ID0+IFtuYW1lLCBwYXJzZUNvbG9yKGNvbG9yKV0pO1xuXG4gIGNvbnN0IGNvbG9yUmFuZ2UgPSBlbnRyaWVzLmZpbmQoKFtuYW1lXSkgPT4gbmFtZSA9PT0gXCJjb2xvclJhbmdlXCIpO1xuICBpZiAoY29sb3JSYW5nZSkge1xuICAgIGNvbG9ycy5wdXNoKFtjb2xvclJhbmdlWzBdLCBjb2xvclJhbmdlWzFdLm1hcCgoY29sb3I6IHN0cmluZyB8IENvbG9yKSA9PiBwYXJzZUNvbG9yKGNvbG9yKSldKTtcbiAgfVxuXG4gIHJldHVybiBjb2xvcnM7XG59XG5cbmZ1bmN0aW9uIGdldEFjY2Vzc29ycyhlbnRyaWVzOiBFbnRyeTxhbnk+W10pOiBFbnRyeTxBY2Nlc3NvciB8IEFjY2Vzc29yU2NhbGU8YW55Pj5bXSB7XG4gIHJldHVybiBlbnRyaWVzXG4gICAgLmZpbHRlcigoWywgdmFsdWVdKSA9PiBpc0FjY2Vzc29yKHZhbHVlKSlcbiAgICAubWFwKChbbmFtZSwgdmFsdWVdKSA9PiBbXG4gICAgICBuYW1lLFxuICAgICAgaXNBY2Nlc3NvclNjYWxlKHZhbHVlKSA/IGFjY2Vzc29yU2NhbGUodmFsdWUsIG5hbWUpIDogYWNjZXNzb3IodmFsdWUsIG5hbWUpLFxuICAgIF0pO1xufVxuXG5mdW5jdGlvbiBnZXRVcGRhdGVUcmlnZ2VycyhlbnRyaWVzOiBFbnRyeTxBY2Nlc3NvciB8IEFjY2Vzc29yU2NhbGU8YW55Pj5bXSkge1xuICBjb25zdCBzY2FsZVByb3BzID0gKGFjY2Vzc29yOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IGdldERhdGEsIHNjYWxlRGF0YSwgcGFsZXR0ZSwgLi4ucHJvcHMgfSA9IGFjY2Vzc29yO1xuICAgIHJldHVybiBwcm9wcztcbiAgfTtcblxuICBjb25zdCBwcm9wVHJpZ2dlcnMgPSBlbnRyaWVzLm1hcCgoW25hbWUsIGFjY2Vzc29yXSkgPT4gW25hbWUsIHNjYWxlUHJvcHMoYWNjZXNzb3IpXSk7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMocHJvcFRyaWdnZXJzKTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVycyhwYXJhbWV0ZXJzOiBhbnksIGJsZW5kaW5nTW9kZTogQmxlbmRpbmdNb2RlKSB7XG4gIHJldHVybiB7XG4gICAgLi4ucGFyYW1ldGVycyxcbiAgICAuLi5ibGVuZGluZ1BhcmFtZXRlcnMoYmxlbmRpbmdNb2RlKSxcbiAgfTtcbn1cblxuLy8gZ2V0Q29sb3JXZWlnaHQgJiBnZXRFbGV2YXRpb25XZWlnaHQgbXVzdCBiZSBmdW5jdGlvbnNcbmZ1bmN0aW9uIGdldFdlaWdodFByb3BzKGVudHJpZXM6IEVudHJ5PGFueT5bXSkge1xuICByZXR1cm4gZW50cmllc1xuICAgIC5maWx0ZXIoKFtuYW1lXSkgPT4gbmFtZSA9PT0gXCJnZXRDb2xvcldlaWdodFwiIHx8IG5hbWUgPT09IFwiZ2V0RWxldmF0aW9uV2VpZ2h0XCIpXG4gICAgLmZpbHRlcigoWywgdmFsdWVdKSA9PiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIiAmJiAhaXNBY2Nlc3Nvcih2YWx1ZSkpXG4gICAgLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4gW25hbWUsICgpID0+IHZhbHVlXSk7XG59XG4iLCJpbXBvcnQgeyBEZWNrIGFzIF9EZWNrLCBEZWNrUHJvcHMgYXMgX0RlY2tQcm9wcyB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgeyBmaXRCb3VuZHMgfSBmcm9tIFwiQG1hdGguZ2wvd2ViLW1lcmNhdG9yXCI7XG5pbXBvcnQgeyBnZXRFbGVtZW50U2l6ZSB9IGZyb20gXCIuL3V0aWxcIjtcblxuZXhwb3J0IGludGVyZmFjZSBEZWNrUHJvcHMgZXh0ZW5kcyBfRGVja1Byb3BzIHtcbiAgaW5pdGlhbEJvdW5kczogQm91bmRzIHwgbnVsbDtcbn1cblxuZXhwb3J0IGNsYXNzIERlY2sgZXh0ZW5kcyBfRGVjayB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgLi4uX0RlY2suZGVmYXVsdFByb3BzLFxuICAgIGluaXRpYWxCb3VuZHM6IG51bGwsXG4gIH07XG5cbiAgcHJvcHMhOiBEZWNrUHJvcHM7XG5cbiAgc2V0UHJvcHMocHJvcHM6IFBhcnRpYWw8RGVja1Byb3BzPik6IHZvaWQge1xuICAgIGNvbnN0IGluaXRpYWxCb3VuZHMgPSBwcm9wcy5pbml0aWFsQm91bmRzO1xuICAgIGlmIChpbml0aWFsQm91bmRzICE9IG51bGwgJiYgIWJvdW5kc0VxdWFsKGluaXRpYWxCb3VuZHMsIHRoaXMucHJvcHMuaW5pdGlhbEJvdW5kcykpIHtcbiAgICAgIC8vIGNvbnN0cmFpbiB0byB3ZWIgbWVyY2F0b3IgbGltaXRzXG4gICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWJfTWVyY2F0b3JfcHJvamVjdGlvblxuICAgICAgY29uc3QgW3htaW4sIHltaW4sIHhtYXgsIHltYXhdID0gaW5pdGlhbEJvdW5kcztcbiAgICAgIGNvbnN0IGJvdW5kczogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dID0gW1xuICAgICAgICBbTWF0aC5tYXgoeG1pbiwgLTE4MCksIE1hdGgubWF4KHltaW4sIC04NS4wNTExMjkpXSxcbiAgICAgICAgW01hdGgubWluKHhtYXgsIDE4MCksIE1hdGgubWluKHltYXgsIDg1LjA1MTEyOSldLFxuICAgICAgXTtcblxuICAgICAgLy8gdXBkYXRlIGNhbnZhcywgZ2V0IG1hcCBwaXhlbCBkaW1lbnNpb25zXG4gICAgICB0aGlzLl9zZXRDYW52YXNTaXplKHByb3BzKTtcbiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5fZ2V0TWFwU2l6ZSgpO1xuXG4gICAgICAvLyBmaXQgJiBvdmVyd3JpdGVcbiAgICAgIHByb3BzID0ge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgaW5pdGlhbFZpZXdTdGF0ZToge1xuICAgICAgICAgIC4uLmZpdEJvdW5kcyh7IGhlaWdodCwgd2lkdGgsIGJvdW5kcyB9KSxcbiAgICAgICAgICAvLyB2aXNnbC9kZWNrLmdsIzY4ODNcbiAgICAgICAgICBiZWFyaW5nOiAwLFxuICAgICAgICAgIHBpdGNoOiAwLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBzdXBlci5zZXRQcm9wcyhwcm9wcyk7XG4gIH1cblxuICBfZ2V0TWFwU2l6ZSgpOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0ge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgIGlmIChjYW52YXMgPT0gbnVsbCkgcmV0dXJuIHsgd2lkdGg6IHRoaXMud2lkdGgsIGhlaWdodDogdGhpcy5oZWlnaHQgfTtcblxuICAgIC8vIG1hcCBpcyBoaWRkZW4/IGdldCBkaW1lbnNpb25zIGZyb20gZmlyc3QgdmlzaWJsZSBhbmNlc3RvciBhbmQgd2lkZ2V0IGRpbWVuc2lvbnNcbiAgICBpZiAoY2FudmFzLmNsaWVudFdpZHRoID09PSAwICYmIGNhbnZhcy5jbGllbnRIZWlnaHQgPT09IDApIHtcbiAgICAgIGNvbnN0IHJvb3QgPSBjYW52YXMuY2xvc2VzdChcIi5yZGVjay5odG1sLXdpZGdldFwiKTtcbiAgICAgIGlmIChyb290ICE9IG51bGwpIHJldHVybiBnZXRFbGVtZW50U2l6ZShyb290KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyB3aWR0aDogY2FudmFzLmNsaWVudFdpZHRoLCBoZWlnaHQ6IGNhbnZhcy5jbGllbnRIZWlnaHQgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBib3VuZHNFcXVhbDxUPihib3VuZHM/OiBUW10gfCBudWxsLCBwcmV2Qm91bmRzPzogVFtdIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAvLyByZWZlcmVuY2UgZXF1YWxcbiAgaWYgKGJvdW5kcyA9PT0gcHJldkJvdW5kcykgcmV0dXJuIHRydWU7XG5cbiAgLy8gbnVsbGlzaCBlcXVhbFxuICBpZiAoYm91bmRzID09IG51bGwgJiYgcHJldkJvdW5kcyA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKGJvdW5kcyA9PSBudWxsIHx8IHByZXZCb3VuZHMgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIGVsZW1lbnQtd2lzZSBlcXVhbFxuICByZXR1cm4gYm91bmRzPy5ldmVyeSgoY29vcmQsIGluZGV4KSA9PiBjb29yZCA9PT0gcHJldkJvdW5kcz8uW2luZGV4XSk7XG59XG4iLCJpbXBvcnQgeyBFZGl0YWJsZUdlb0pzb25MYXllciB9IGZyb20gXCJAbmVidWxhLmdsL2xheWVyc1wiO1xuaW1wb3J0IHsgUGF0aFN0eWxlRXh0ZW5zaW9uIH0gZnJvbSBcIkBkZWNrLmdsL2V4dGVuc2lvbnNcIjtcbmltcG9ydCB7XG4gIFZpZXdNb2RlLFxuICBDb21wb3NpdGVNb2RlLFxuICBNb2RpZnlNb2RlLFxuICBUcmFuc2xhdGVNb2RlLFxuICBEcmF3UG9seWdvbk1vZGUsXG4gIERyYXdQb2x5Z29uQnlEcmFnZ2luZ01vZGUsXG4gIEVkaXRBY3Rpb24sXG59IGZyb20gXCJAbmVidWxhLmdsL2VkaXQtbW9kZXNcIjtcbmltcG9ydCB0eXBlIHsgRmVhdHVyZUNvbGxlY3Rpb24gfSBmcm9tIFwiZ2VvanNvblwiO1xuaW1wb3J0IHsgUG9seWdvbkVkaXRvck1vZGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuY29uc3QgTElHSFRfQkxVRSA9IFszLCAxNjksIDI0NF0gYXMgY29uc3Q7XG5jb25zdCBMSU5FX0NPTE9SOiBDb2xvciA9IFsuLi5MSUdIVF9CTFVFLCAyNTVdO1xuY29uc3QgRklMTF9DT0xPUjogQ29sb3IgPSBbLi4uTElHSFRfQkxVRSwgMC4xICogMjU1XTtcbmNvbnN0IFRSQU5TUEFSRU5UOiBDb2xvciA9IFswLCAwLCAwLCAwXTtcblxuZXhwb3J0IHR5cGUgRWRpdEhhbmRsZXIgPSAoYWN0aW9uOiBFZGl0QWN0aW9uPEZlYXR1cmVDb2xsZWN0aW9uPikgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIENoYW5nZUhhbmRsZXIgPSBFZGl0SGFuZGxlcjtcblxuZXhwb3J0IHR5cGUgRWRpdGFibGVMYXllclByb3BzID0gT21pdDxcbiAgdHlwZW9mIEVkaXRhYmxlR2VvSnNvbkxheWVyLmRlZmF1bHRQcm9wcyxcbiAgXCJuYW1lXCIgfCBcImdyb3VwTmFtZVwiIHwgXCJ0b29sdGlwXCJcbj4gJiB7XG4gIGRhdGE/OiBGZWF0dXJlQ29sbGVjdGlvbjtcbiAgb25DaGFuZ2U/OiBDaGFuZ2VIYW5kbGVyO1xuICBkYXNoPzogYm9vbGVhbjtcbiAgZ2V0RGFzaEFycmF5PzogW251bWJlciwgbnVtYmVyXTtcbn07XG5cbi8vIEB0cy1pZ25vcmVcbmV4cG9ydCBpbnRlcmZhY2UgRWRpdGFibGVMYXllciBleHRlbmRzIEVkaXRhYmxlR2VvSnNvbkxheWVyIHtcbiAgcHJvcHM6IEVkaXRhYmxlTGF5ZXJQcm9wcztcbn1cblxuLy8gQHRzLWlnbm9yZVxuZXhwb3J0IGNsYXNzIEVkaXRhYmxlTGF5ZXIgZXh0ZW5kcyBFZGl0YWJsZUdlb0pzb25MYXllciB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHM6IEVkaXRhYmxlTGF5ZXJQcm9wcyA9IHtcbiAgICAuLi5FZGl0YWJsZUdlb0pzb25MYXllci5kZWZhdWx0UHJvcHMsXG4gICAgc2VsZWN0ZWRGZWF0dXJlSW5kZXhlczogWzBdLFxuICAgIHBpY2tpbmdEZXB0aDogMCxcbiAgICBvbkNoYW5nZTogKCkgPT4ge30sXG4gICAgLy8gdHJhbnNsYXRlIGluIG1lcmNhdG9yXG4gICAgbW9kZUNvbmZpZzoge1xuICAgICAgc2NyZWVuU3BhY2U6IHRydWUsXG4gICAgICB2aWV3cG9ydDoge30sXG4gICAgfSxcbiAgICAvLyBsaW5lICYgaGFuZGxlIHNpemVcbiAgICBnZXRSYWRpdXM6IDUsXG4gICAgZ2V0TGluZVdpZHRoOiAyLFxuICAgIGdldFRlbnRhdGl2ZUxpbmVXaWR0aDogMixcblxuICAgIC8vIGNvbG91cnNcbiAgICBnZXRMaW5lQ29sb3I6IExJTkVfQ09MT1IsXG4gICAgZ2V0VGVudGF0aXZlTGluZUNvbG9yOiBMSU5FX0NPTE9SLFxuICAgIGdldEVkaXRIYW5kbGVQb2ludE91dGxpbmVDb2xvcjogTElORV9DT0xPUixcbiAgICBnZXRGaWxsQ29sb3I6IEZJTExfQ09MT1IsXG4gICAgZ2V0VGVudGF0aXZlRmlsbENvbG9yOiBGSUxMX0NPTE9SLFxuICAgIGdldEVkaXRIYW5kbGVQb2ludENvbG9yOiBUUkFOU1BBUkVOVCxcblxuICAgIGdldERhc2hBcnJheTogWzQsIDJdLFxuICAgIGV4dGVuc2lvbnM6IFtuZXcgUGF0aFN0eWxlRXh0ZW5zaW9uKHsgZGFzaDogdHJ1ZSB9KV0sXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IEVkaXRhYmxlTGF5ZXJQcm9wcywgLi4uYWRkaXRpb25hbFByb3BzOiBFZGl0YWJsZUxheWVyUHJvcHNbXSkge1xuICAgIGNvbnN0IG9uRWRpdCA9IGdldFByb3AoXCJvbkVkaXRcIiwgcHJvcHMsIC4uLmFkZGl0aW9uYWxQcm9wcyk7XG4gICAgY29uc3Qgb25DaGFuZ2UgPSBnZXRQcm9wKFwib25DaGFuZ2VcIiwgcHJvcHMsIC4uLmFkZGl0aW9uYWxQcm9wcyk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgc3VwZXIocHJvcHMsIC4uLmFkZGl0aW9uYWxQcm9wcywgeyBvbkVkaXQ6IGhhbmRsZUVkaXQob25FZGl0LCBvbkNoYW5nZSkgfSk7XG4gIH1cbn1cblxuY29uc3QgQ0hBTkdFX0VWRU5UUyA9IE9iamVjdC5mcmVlemUoW1xuICBcImFkZEZlYXR1cmVcIixcbiAgXCJhZGRQb3NpdGlvblwiLFxuICBcInJlbW92ZVBvc2l0aW9uXCIsXG4gIFwiZmluaXNoTW92ZVBvc2l0aW9uXCIsXG4gIFwidHJhbnNsYXRlZFwiLFxuXSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXQob25FZGl0PzogRWRpdEhhbmRsZXIsIG9uQ2hhbmdlPzogQ2hhbmdlSGFuZGxlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHsgdXBkYXRlZERhdGEsIGVkaXRUeXBlLCBlZGl0Q29udGV4dCB9OiBFZGl0QWN0aW9uPEZlYXR1cmVDb2xsZWN0aW9uPikge1xuICAgIC8vIGRyYXdpbmcgYSBuZXcgcG9seWdvbj8gZGVsZXRlIGFueSBjdXJyZW50IHBvbHlnb25zXG4gICAgaWYgKGVkaXRUeXBlID09PSBcInVwZGF0ZVRlbnRhdGl2ZUZlYXR1cmVcIiAmJiB1cGRhdGVkRGF0YSAmJiB1cGRhdGVkRGF0YS5mZWF0dXJlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIHVwZGF0ZWREYXRhLmZlYXR1cmVzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHRoaXMuZGF0YSA9IHVwZGF0ZWREYXRhO1xuICAgIG9uRWRpdD8uKHsgdXBkYXRlZERhdGEsIGVkaXRUeXBlLCBlZGl0Q29udGV4dCB9KTtcblxuICAgIGlmIChlZGl0VHlwZSAhPSBudWxsICYmIENIQU5HRV9FVkVOVFMuaW5jbHVkZXMoZWRpdFR5cGUpKSB7XG4gICAgICBvbkNoYW5nZT8uKHsgdXBkYXRlZERhdGEsIGVkaXRUeXBlLCBlZGl0Q29udGV4dCB9KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFByb3A8SyBleHRlbmRzIGtleW9mIFAsIFAgZXh0ZW5kcyBvYmplY3Q+KG5hbWU6IEssIC4uLnByb3BzOiBQW10pOiBQW0tdIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHByb3BzXG4gICAgLm1hcCgocCkgPT4gcFtuYW1lXSlcbiAgICAucmV2ZXJzZSgpXG4gICAgLmZpbmQoKHgpID0+IHggIT09IHVuZGVmaW5lZCk7XG59XG5cbmNvbnN0IEVESVRPUl9NT0RFUyA9IE9iamVjdC5zZWFsKHtcbiAgdmlldzogbmV3IFZpZXdNb2RlKCksXG4gIG1vZGlmeTogbmV3IENvbXBvc2l0ZU1vZGUoW25ldyBUcmFuc2xhdGVNb2RlKCksIG5ldyBNb2RpZnlNb2RlKCldKSxcbiAgcG9seWdvbjogbmV3IERyYXdQb2x5Z29uTW9kZSgpLFxuICBsYXNzbzogbmV3IERyYXdQb2x5Z29uQnlEcmFnZ2luZ01vZGUoKSxcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gbmVidWxhTW9kZShtb2RlPzogUG9seWdvbkVkaXRvck1vZGUpIHtcbiAgcmV0dXJuIEVESVRPUl9NT0RFU1ttb2RlID8/IFwidmlld1wiXSA/PyBFRElUT1JfTU9ERVMudmlldztcbn1cbiIsImltcG9ydCB7IF9BZ2dyZWdhdGlvbkxheWVyIH0gZnJvbSBcIkBkZWNrLmdsL2FnZ3JlZ2F0aW9uLWxheWVyc1wiO1xuaW1wb3J0IHsgT2JqZWN0SW5mbyB9IGZyb20gXCJAZGVjay5nbC9jb3JlXCI7XG5pbXBvcnQgeyBQaWNrSW5mbyB9IGZyb20gXCJkZWNrLmdsXCI7XG5pbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSBcImdlb2pzb25cIjtcbmltcG9ydCB7IGlzRGF0YUZyYW1lIH0gZnJvbSBcIi4vZGF0YS1mcmFtZVwiO1xuXG5leHBvcnQgY29uc3QgRkVBVFVSRV9JRCA9IFwiLmZlYXR1cmVfaWRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBpY2tlZE9iamVjdChpbmZvOiBQaWNrSW5mbzxhbnk+LCBkYXRhVHlwZTogRGF0YVR5cGUgfCBudWxsID0gbnVsbCkge1xuICBpZiAoIWluZm8ucGlja2VkKSByZXR1cm4gbnVsbDtcblxuICBpZiAoZGF0YVR5cGUgPT0gbnVsbCkge1xuICAgIGRhdGFUeXBlID0gZ2V0RGF0YVR5cGUoaW5mbyk7XG4gIH1cbiAgY29uc3QgZ2V0RGF0YSA9IGFjY2Vzc29yRm4oZGF0YVR5cGUpO1xuXG4gIGNvbnN0IHsgb2JqZWN0LCBpbmRleCB9ID0gaW5mbztcbiAgY29uc3QgZGF0YSA9IGluZm8ubGF5ZXIucHJvcHMuZGF0YTtcbiAgcmV0dXJuIGdldERhdGEob2JqZWN0LCB7IGluZGV4LCBkYXRhIH0pO1xufVxuXG5mdW5jdGlvbiBnZXREYXRhVHlwZSh7IG9iamVjdCwgbGF5ZXIgfTogUGlja0luZm88YW55Pik6IERhdGFUeXBlIHtcbiAgLy8gRklYTUU6IGFkZCBkYXRhdHlwZSB0byB0aGUgbGF5ZXJcbiAgY29uc3QgZGF0YSA9IGxheWVyLnByb3BzLmRhdGE7XG4gIGlmIChpc0RhdGFGcmFtZShkYXRhKSAmJiAhKGxheWVyIGluc3RhbmNlb2YgX0FnZ3JlZ2F0aW9uTGF5ZXIpKSByZXR1cm4gXCJ0YWJsZVwiO1xuICByZXR1cm4gaXNHZW9qc29uKG9iamVjdCkgPyBcImdlb2pzb25cIiA6IFwib2JqZWN0XCI7XG59XG5cbmZ1bmN0aW9uIGlzR2VvanNvbihvYmplY3Q6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsKTogb2JqZWN0IGlzIEZlYXR1cmUge1xuICByZXR1cm4gb2JqZWN0Py50eXBlID09PSBcIkZlYXR1cmVcIiAmJiBcImdlb21ldHJ5XCIgaW4gb2JqZWN0ICYmIFwidHlwZVwiIGluIG9iamVjdC5nZW9tZXRyeTtcbn1cblxudHlwZSBJbmZvID0gT21pdDxPYmplY3RJbmZvPERhdGFGcmFtZSwgYW55PiwgXCJ0YXJnZXRcIj47XG50eXBlIERhdGFGbiA9IChvYmplY3Q6IFJlY29yZDxzdHJpbmcsIGFueT4sIGluZm86IEluZm8pID0+IFJlY29yZDxzdHJpbmcsIGFueT47XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NvckZuKGRhdGFUeXBlOiBEYXRhVHlwZSk6IERhdGFGbiB7XG4gIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgIHJldHVybiAoXywgeyBpbmRleCwgZGF0YSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGdlb21zID0gT2JqZWN0LmtleXMoZGF0YS5nZW9tZXRyeSk7XG4gICAgICAgIGNvbnN0IG9iamVjdDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGNvbF0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5mcmFtZSkpIHtcbiAgICAgICAgICBpZiAoIWdlb21zLmluY2x1ZGVzKGtleSkpIG9iamVjdFtrZXldID0gY29sW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICByZXR1cm4gKG9iamVjdCkgPT4gKHsgLi4ub2JqZWN0IH0pO1xuICAgIGNhc2UgXCJnZW9qc29uXCI6XG4gICAgICByZXR1cm4gKG9iamVjdCkgPT4gKHtcbiAgICAgICAgW0ZFQVRVUkVfSURdOiBvYmplY3Q/LmlkLFxuICAgICAgICAuLi5vYmplY3Q/LnByb3BlcnRpZXMsXG4gICAgICB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgVHlwZUVycm9yKGAke2RhdGFUeXBlfSBub3Qgc3VwcG9ydGVkYCk7XG4gIH1cbn1cbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1widG9vbHRpcFwiOlwiY3lXTHQ0X0c3bms1dlQ5aFByMG9cIixcImtlcGxlclwiOlwia2VwbGVyXCIsXCJsaWdodFwiOlwibGlnaHRcIixcImxheWVyLW5hbWVcIjpcIlo5aEhIZXQyUlhtTDBpTWVsM1p0XCIsXCJsYXllck5hbWVcIjpcIlo5aEhIZXQyUlhtTDBpTWVsM1p0XCIsXCJ0YWJsZVwiOlwianA2NTh5RUhMbGVzU1J2d0J3RGxcIixcImZpZWxkLW5hbWVcIjpcInQ5SThrSnlqZUVKRU9BcnZNRDdqXCIsXCJmaWVsZE5hbWVcIjpcInQ5SThrSnlqZUVKRU9BcnZNRDdqXCIsXCJmaWVsZC12YWx1ZVwiOlwidm92SHBUdXIwMUJST3JNTG1FRnpcIixcImZpZWxkVmFsdWVcIjpcInZvdkhwVHVyMDFCUk9yTUxtRUZ6XCJ9OyIsImltcG9ydCB0eXBlIHsgUGlja0luZm8gfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHsgRkVBVFVSRV9JRCwgZ2V0UGlja2VkT2JqZWN0IH0gZnJvbSBcIi4vcGlja2luZ1wiO1xuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi90b29sdGlwLmNzc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2x0aXBQcm9wcyB7XG4gIGluZm86IFBpY2tJbmZvPGFueT47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUb29sdGlwKHsgaW5mbyB9OiBUb29sdGlwUHJvcHMpIHtcbiAgaWYgKCFpbmZvLnBpY2tlZCB8fCBpbmZvLmxheWVyLnByb3BzLnRvb2x0aXAgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgeyB4LCB5IH0gPSBpbmZvO1xuICBjb25zdCB7IG5hbWUsIHRvb2x0aXAgfSA9IGluZm8ubGF5ZXIucHJvcHM7XG5cbiAgY29uc3Qgb2JqZWN0ID0gZ2V0UGlja2VkT2JqZWN0KGluZm8sIHRvb2x0aXAuZGF0YVR5cGUpITtcbiAgZGVsZXRlIG9iamVjdFtGRUFUVVJFX0lEXTtcbiAgY29uc3QgbmFtZXMgPSB0b29sdGlwLmNvbHMgPT09IHRydWUgPyBPYmplY3Qua2V5cyhvYmplY3QpIDogdG9vbHRpcC5jb2xzO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50b29sdGlwfSBzdHlsZT17eyB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt4fXB4LCAke3l9cHgpYCB9fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJOYW1lfT57bmFtZX08L2Rpdj5cbiAgICAgIDx0YWJsZSBjbGFzc05hbWU9e3N0eWxlcy50YWJsZX0+XG4gICAgICAgIDx0Ym9keT5cbiAgICAgICAgICB7bmFtZXMubWFwKChuYW1lKSA9PiAoXG4gICAgICAgICAgICA8dHIga2V5PXtuYW1lfT5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT17c3R5bGVzLmZpZWxkTmFtZX0+e25hbWV9PC90ZD5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT17c3R5bGVzLmZpZWxkVmFsdWV9PntTdHJpbmcob2JqZWN0W25hbWVdID8/IG51bGwpfTwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsImltcG9ydCBcIm1hcGJveC1nbFwiO1xuaW1wb3J0IFwibWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzc1wiO1xuXG5pbXBvcnQgeyBGcmFnbWVudCwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUGlja0luZm8sIE1hcFZpZXcgfSBmcm9tIFwiQGRlY2suZ2wvY29yZVwiO1xuaW1wb3J0IHsgRGVja0dMIH0gZnJvbSBcIkBkZWNrLmdsL3JlYWN0XCI7XG5pbXBvcnQgeyBNYXAgYXMgTWFwR0wgfSBmcm9tIFwicmVhY3QtbWFwLWdsXCI7XG5pbXBvcnQgeyBEZWNrIH0gZnJvbSBcIi4vZGVja1wiO1xuaW1wb3J0IHsgTGF5ZXIgfSBmcm9tIFwiLi9sYXllclwiO1xuaW1wb3J0IHsgRWRpdGFibGVMYXllciwgbmVidWxhTW9kZSB9IGZyb20gXCIuL2xheWVyc1wiO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gXCIuL3Rvb2x0aXBcIjtcbmltcG9ydCB7IGJsZW5kaW5nUGFyYW1ldGVycyB9IGZyb20gXCIuL2JsZW5kaW5nXCI7XG5pbXBvcnQgeyBfQWdncmVnYXRpb25MYXllciB9IGZyb20gXCJAZGVjay5nbC9hZ2dyZWdhdGlvbi1sYXllcnNcIjtcbmltcG9ydCB7IERlY2tQcm9wcyB9IGZyb20gXCIuL3JkZWNrXCI7XG5pbXBvcnQgeyBQb2x5Z29uRWRpdG9yUHJvcHMgfSBmcm9tIFwiLi9jb250cm9sc1wiO1xuXG5leHBvcnQgdHlwZSBNYXBQcm9wcyA9IHtcbiAgcHJvcHM6IERlY2tQcm9wcztcbiAgbGF5ZXJzOiBMYXllcltdO1xuICBwb2x5Z29uRWRpdG9yOiBQb2x5Z29uRWRpdG9yUHJvcHMgfCBudWxsO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE1hcCh7IHByb3BzLCBsYXllcnMsIHBvbHlnb25FZGl0b3IgfTogTWFwUHJvcHMpIHtcbiAgY29uc3QgZGVja2dsID0gdXNlUmVmPERlY2tHTD4obnVsbCk7XG4gIGNvbnN0IFtpbmZvLCBoYW5kbGVIb3Zlcl0gPSB1c2VIb3ZlcigpO1xuXG4gIGNvbnN0IHsgbWFwYm94QWNjZXNzVG9rZW4sIG1hcFN0eWxlLCBjb250cm9sbGVyLCBwYXJhbWV0ZXJzLCBibGVuZGluZ01vZGUsIC4uLmRlY2tQcm9wcyB9ID0gcHJvcHM7XG4gIGNvbnN0IF9wYXJhbWV0ZXJzID0ge1xuICAgIC4uLnBhcmFtZXRlcnMsXG4gICAgLi4uYmxlbmRpbmdQYXJhbWV0ZXJzKGJsZW5kaW5nTW9kZSksXG4gIH07XG4gIC8vIGxheWVyIGFuaW1hdGlvbiBsb29wXG4gIGNvbnN0IFt0aW1lLCBzZXRUaW1lXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBhbmltYXRpbmcgPSBsYXllcnMuc29tZSgobGF5ZXIpID0+IGxheWVyLnR5cGUgPT09IFwiVHJpcHNMYXllclwiKTtcbiAgdXNlQW5pbWF0aW9uKGFuaW1hdGluZywgKHRpbWUpID0+IHNldFRpbWUodGltZSkpO1xuXG4gIGNvbnN0IF9sYXllcnM6IGFueSA9IGxheWVycy5tYXAoKGxheWVyKSA9PiAobGF5ZXIudHlwZSAhPSBudWxsID8gbGF5ZXIucmVuZGVyTGF5ZXIodGltZSkgOiBudWxsKSk7XG4gIGNvbnN0IGVkaXRhYmxlTGF5ZXIgPSByZW5kZXJFZGl0YWJsZUxheWVyKHBvbHlnb25FZGl0b3IpO1xuXG4gIHJldHVybiAoXG4gICAgPEZyYWdtZW50PlxuICAgICAgPERlY2tHTFxuICAgICAgICBEZWNrPXtEZWNrfVxuICAgICAgICByZWY9e2RlY2tnbH1cbiAgICAgICAgey4uLmRlY2tQcm9wc31cbiAgICAgICAgcGFyYW1ldGVycz17X3BhcmFtZXRlcnN9XG4gICAgICAgIGxheWVycz17Wy4uLl9sYXllcnMsIGVkaXRhYmxlTGF5ZXJdfVxuICAgICAgICBvbkhvdmVyPXtoYW5kbGVIb3Zlcn1cbiAgICAgID5cbiAgICAgICAgPE1hcFZpZXcgaWQ9XCJtYXBcIiBjb250cm9sbGVyPXtjb250cm9sbGVyfSByZXBlYXQ9e3RydWV9PlxuICAgICAgICAgIHttYXBTdHlsZSAmJiA8TWFwR0wgcmV1c2VNYXBzIHsuLi57IG1hcGJveEFjY2Vzc1Rva2VuLCBtYXBTdHlsZSB9fSAvPn1cbiAgICAgICAgPC9NYXBWaWV3PlxuICAgICAgPC9EZWNrR0w+XG4gICAgICB7aW5mbyAmJiA8VG9vbHRpcCBpbmZvPXtpbmZvfSAvPn1cbiAgICA8L0ZyYWdtZW50PlxuICApO1xufVxuXG5jb25zdCB1c2VIb3ZlciA9ICgpID0+IHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxQaWNrSW5mbzxhbnk+IHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgaGFuZGxlSG92ZXIgPSB1c2VDYWxsYmFjaygoaW5mbzogUGlja0luZm88YW55PikgPT4ge1xuICAgIC8vIG5vdCBwaWNrZWQgb3Igbm8gdG9vbHRpcCBwcm9wXG4gICAgaWYgKCFpbmZvLnBpY2tlZCB8fCAhaW5mby5sYXllci5wcm9wcy50b29sdGlwIHx8IGluZm8ubGF5ZXIgaW5zdGFuY2VvZiBfQWdncmVnYXRpb25MYXllcikge1xuICAgICAgcmV0dXJuIHNldFN0YXRlKG51bGwpO1xuICAgIH1cblxuICAgIHNldFN0YXRlKGluZm8pO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIFtzdGF0ZSwgaGFuZGxlSG92ZXJdIGFzIFtQaWNrSW5mbzxhbnk+IHwgbnVsbCwgKGluZm86IFBpY2tJbmZvPGFueT4pID0+IHZvaWRdO1xufTtcblxuY29uc3QgdXNlQW5pbWF0aW9uID0gKGVuYWJsZWQ6IGJvb2xlYW4sIG9uRnJhbWU6ICh0aW1lOiBudW1iZXIpID0+IHZvaWQpID0+IHtcbiAgY29uc3QgYW5pbWF0aW9uID0gdXNlUmVmPG51bWJlcj4oMCk7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IHVzZVJlZjxudW1iZXI+KERhdGUubm93KCkpO1xuXG4gIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgb25GcmFtZShEYXRlLm5vdygpIC0gc3RhcnRUaW1lLmN1cnJlbnQpO1xuICAgIGFuaW1hdGlvbi5jdXJyZW50ID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChlbmFibGVkKSB7XG4gICAgICBhbmltYXRpb24uY3VycmVudCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICByZXR1cm4gKCkgPT4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbi5jdXJyZW50KTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbZW5hYmxlZF0pO1xufTtcblxuZnVuY3Rpb24gcmVuZGVyRWRpdGFibGVMYXllcihwcm9wczogUG9seWdvbkVkaXRvclByb3BzIHwgbnVsbCkge1xuICBpZiAocHJvcHMgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIG5ldyBFZGl0YWJsZUxheWVyKHtcbiAgICBtb2RlOiBuZWJ1bGFNb2RlKHByb3BzLm1vZGUpLFxuICAgIGRhdGE6IHByb3BzLnBvbHlnb24sXG4gICAgb25DaGFuZ2U6IHByb3BzLm9uUG9seWdvbkNoYW5nZSxcbiAgICBmaWxsZWQ6IHByb3BzLm1vZGUgIT09IFwidmlld1wiLFxuICAgIGdldERhc2hBcnJheTogcHJvcHMubW9kZSAhPT0gXCJ2aWV3XCIgPyBbNCwgMl0gOiBbMCwgMF0sXG4gIH0pO1xufVxuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJrZXBsZXJcIjpcImtlcGxlclwiLFwibGlnaHRcIjpcImxpZ2h0XCIsXCJ0b2dnbGUtYnV0dG9uXCI6XCJVNDRMaHBLbFY4cjFWdTFab1pBM1wiLFwidG9nZ2xlQnV0dG9uXCI6XCJVNDRMaHBLbFY4cjFWdTFab1pBM1wiLFwicGFuZWxcIjpcIlhGNzcwbkVMVWNFXzB6eG9fYU9nXCIsXCJoZWFkZXJcIjpcIkhZUmhDMmF3MVBTTVlHQ3oyYkRiXCIsXCJidXR0b25cIjpcIllOb3U0RllsYzNOM0doRnAyQmtPXCIsXCJ0ZXh0XCI6XCJmNDROR3FaWkduNGRlOVMzb1RITlwiLFwiYm9keVwiOlwieHFLUDI4OU1VSjA2SGdiM0Nqb1dcIixcImdyb3VwLWNvbnRhaW5lclwiOlwiWGN0WkNfZlpBTXZSTWlIUGx0OUdcIixcImdyb3VwQ29udGFpbmVyXCI6XCJYY3RaQ19mWkFNdlJNaUhQbHQ5R1wiLFwibGFiZWxcIjpcImx5OWtFSDhNcFh5bmhCWDZGaGNqXCIsXCJjaGVja2VkXCI6XCJpTTJPaU1RejZ6X050QVFaWnlQU1wiLFwiY2hlY2tib3hcIjpcIl84cjgzNDhLUFNfbnpOTFJfQ1ZfXCIsXCJpY29uXCI6XCJ0emtGcmtFVTVjQl9qWTZ6Y3V1YVwifTsiLCJpbXBvcnQgeyBGcmFnbWVudCwgUHJvcHNXaXRoQ2hpbGRyZW4sIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ2hlY2tCb3hPdXRsaW5lQmxhbmssIENoZWNrQm94LCBJbmRldGVybWluYXRlQ2hlY2tCb3gsIExheWVycyB9IGZyb20gXCJAbXVpL2ljb25zLW1hdGVyaWFsXCI7XG5cbmltcG9ydCB7IFZpc2liaWxpdHlJbmZvIH0gZnJvbSBcIi4uL2xheWVyXCI7XG5pbXBvcnQgeyBjbGFzc05hbWVzLCBncm91cEJ5IH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vbGF5ZXItc2VsZWN0b3IuY3NzXCI7XG5cbmNvbnN0IE5PX0dST1VQID0gRGF0ZS5ub3coKTtcblxuZXhwb3J0IHR5cGUgVG9nZ2xlQnV0dG9uUHJvcHMgPSBQcm9wc1dpdGhDaGlsZHJlbjx7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgdG9vbHRpcD86IHN0cmluZztcbiAgb25DbGljazogKCkgPT4gdm9pZDtcbn0+O1xuXG5leHBvcnQgZnVuY3Rpb24gVG9nZ2xlQnV0dG9uKHsgY2xhc3NOYW1lLCB0b29sdGlwLCBvbkNsaWNrLCBjaGlsZHJlbiB9OiBUb2dnbGVCdXR0b25Qcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxidXR0b24gY2xhc3NOYW1lPXtjbGFzc05hbWV9IHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtvbkNsaWNrfSB0aXRsZT17dG9vbHRpcH0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICk7XG59XG5cbmV4cG9ydCB0eXBlIExheWVyU2VsZWN0b3JQcm9wcyA9IHtcbiAgbGF5ZXJzOiBWaXNpYmlsaXR5SW5mb1tdO1xuICBvblZpc2liaWxpdHlDaGFuZ2U6IChsYXllcnM6IFZpc2liaWxpdHlJbmZvW10pID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTGF5ZXJTZWxlY3Rvcih7IGxheWVycywgb25WaXNpYmlsaXR5Q2hhbmdlIH06IExheWVyU2VsZWN0b3JQcm9wcykge1xuICBjb25zdCBncm91cHMgPSBncm91cEJ5KGxheWVycywgKGxheWVyKSA9PiBsYXllci5ncm91cE5hbWUgPz8gYCR7bGF5ZXIubmFtZX0tJHtOT19HUk9VUH1gKTtcblxuICBjb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKGNoYW5nZWQ6IFZpc2liaWxpdHlJbmZvW10sIHZpc2libGU6IGJvb2xlYW4sIGZvY3VzOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKGZvY3VzKSB7XG4gICAgICBjb25zdCBub3RDaGFuZ2VkID0gbGF5ZXJzLmZpbHRlcigobGF5ZXIpID0+ICFjaGFuZ2VkLmluY2x1ZGVzKGxheWVyKSk7XG4gICAgICBjb25zdCBub25Gb2N1cyA9ICFub3RDaGFuZ2VkLnNvbWUoKGxheWVyKSA9PiBsYXllci52aXNpYmxlKTtcbiAgICAgIHJldHVybiBvblZpc2liaWxpdHlDaGFuZ2UoXG4gICAgICAgIGxheWVycy5tYXAoKGxheWVyKSA9PiAoe1xuICAgICAgICAgIC4uLmxheWVyLFxuICAgICAgICAgIHZpc2libGU6IGNoYW5nZWQuaW5jbHVkZXMobGF5ZXIpID8gdmlzaWJsZSA6IG5vbkZvY3VzLFxuICAgICAgICB9KSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgb25WaXNpYmlsaXR5Q2hhbmdlKGNoYW5nZWQubWFwKChsYXllcikgPT4gKHsgLi4ubGF5ZXIsIHZpc2libGUgfSkpKTtcbiAgfTtcblxuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYW5kbGVPcGVuQ2hhbmdlID0gKCkgPT4gc2V0SXNPcGVuKChpc09wZW4pID0+ICFpc09wZW4pO1xuXG4gIGlmICghaXNPcGVuKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUb2dnbGVCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudG9nZ2xlQnV0dG9ufVxuICAgICAgICB0b29sdGlwPVwiTGF5ZXIgc2VsZWN0b3JcIlxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVPcGVuQ2hhbmdlfVxuICAgICAgPlxuICAgICAgICA8TGF5ZXJzIGNsYXNzTmFtZT17c3R5bGVzLmljb259IGZvbnRTaXplPVwic21hbGxcIiAvPlxuICAgICAgPC9Ub2dnbGVCdXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wYW5lbH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmhlYWRlcn0+XG4gICAgICAgIDxUb2dnbGVCdXR0b24gY2xhc3NOYW1lPXtzdHlsZXMuYnV0dG9ufSBvbkNsaWNrPXtoYW5kbGVPcGVuQ2hhbmdlfSB0b29sdGlwPVwiQ2xvc2VcIj5cbiAgICAgICAgICA8TGF5ZXJzIGNsYXNzTmFtZT17c3R5bGVzLmljb259IGZvbnRTaXplPVwic21hbGxcIiAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnRleHR9PkxheWVyczwvc3Bhbj5cbiAgICAgICAgPC9Ub2dnbGVCdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYm9keX0+XG4gICAgICAgIHtBcnJheS5mcm9tKGdyb3Vwcy5lbnRyaWVzKCksIChba2V5LCBsYXllcnMsIFt7IGdyb3VwTmFtZTogZ3JvdXAgfV0gPSBsYXllcnNdKSA9PiAoXG4gICAgICAgICAgPENoZWNrYm94R3JvdXAga2V5PXtrZXl9IHsuLi57IGdyb3VwLCBsYXllcnMsIG9uQ2hhbmdlOiBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIH19IC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbnR5cGUgQ2hlY2tib3hHcm91cFByb3BzID0ge1xuICBncm91cDogc3RyaW5nIHwgbnVsbDtcbiAgbGF5ZXJzOiBWaXNpYmlsaXR5SW5mb1tdO1xuICBvbkNoYW5nZTogKGxheWVyczogVmlzaWJpbGl0eUluZm9bXSwgdmlzaWJsZTogYm9vbGVhbiwgZm9jdXM6IGJvb2xlYW4pID0+IHZvaWQ7XG59O1xuXG5mdW5jdGlvbiBDaGVja2JveEdyb3VwKHsgZ3JvdXAsIGxheWVycywgb25DaGFuZ2UgfTogQ2hlY2tib3hHcm91cFByb3BzKSB7XG4gIGNvbnN0IGNoZWNrYm94ZXMgPSBBcnJheS5mcm9tKFxuICAgIGdyb3VwQnkobGF5ZXJzLCAobGF5ZXIpID0+IGxheWVyLm5hbWUpLFxuICAgIChbbmFtZSwgbGF5ZXJzXSkgPT4gPENoZWNrYm94IGtleT17bmFtZX0gey4uLnsgbmFtZSwgbGF5ZXJzLCBvbkNoYW5nZSB9fSAvPlxuICApO1xuXG4gIHJldHVybiBncm91cCA/IChcbiAgICA8RnJhZ21lbnQ+XG4gICAgICA8Q2hlY2tib3ggey4uLnsgbmFtZTogZ3JvdXAsIGxheWVycywgb25DaGFuZ2UgfX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZ3JvdXBDb250YWluZXJ9PntjaGVja2JveGVzfTwvZGl2PlxuICAgIDwvRnJhZ21lbnQ+XG4gICkgOiAoXG4gICAgPEZyYWdtZW50PntjaGVja2JveGVzfTwvRnJhZ21lbnQ+XG4gICk7XG59XG5cbnR5cGUgQ2hlY2tib3hQcm9wcyA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICBsYXllcnM6IFZpc2liaWxpdHlJbmZvW107XG4gIG9uQ2hhbmdlOiAobGF5ZXJzOiBWaXNpYmlsaXR5SW5mb1tdLCB2aXNpYmxlOiBib29sZWFuLCBmb2N1czogYm9vbGVhbikgPT4gdm9pZDtcbn07XG5cbmZ1bmN0aW9uIENoZWNrYm94KHsgbmFtZSwgbGF5ZXJzLCBvbkNoYW5nZSB9OiBDaGVja2JveFByb3BzKSB7XG4gIGNvbnN0IGNoZWNrZWQgPSBpc1Zpc2libGUobGF5ZXJzKTtcbiAgY29uc3QgaW5kZXRlcm1pbmF0ZSA9IGNoZWNrZWQgPT09IG51bGw7XG5cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuaW5kZXRlcm1pbmF0ZSA9IGluZGV0ZXJtaW5hdGU7XG4gICAgfVxuICB9LCBbaW5kZXRlcm1pbmF0ZV0pO1xuXG4gIGNvbnN0IGNhbmNlbCA9IHVzZVJlZjwoKSA9PiBib29sZWFuPigoKSA9PiBmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICAvLyBpZiBhIGRlbGF5IHdhcyBjYW5jZWxsZWQsIGNoZWNrYm94IHdhcyBjaGVja2VkIHdpdGhpbiBkZWxheSBwZXJpb2RcbiAgICBjb25zdCBjYW5jZWxsZWQgPSBjYW5jZWwuY3VycmVudCgpO1xuICAgIC8vIGRvdWJsZS1jbGljayAtPiBzaG93IGxheWVyIGFuZCBmb2N1c1xuICAgIGlmIChjYW5jZWxsZWQpIG9uQ2hhbmdlKGxheWVycywgdHJ1ZSwgdHJ1ZSk7XG4gICAgLy8gc2luZ2xlLWNsaWNrIC0+IGNoYW5nZSBsYXllciB3aXRoIHNtYWxsIGRlbGF5XG4gICAgZWxzZSBjYW5jZWwuY3VycmVudCA9IGRlbGF5KCgpID0+IG9uQ2hhbmdlKGxheWVycywgIWNoZWNrZWQsIGZhbHNlKSwgMjAwKTtcbiAgfTtcblxuICBjb25zdCBDaGVja0JveEljb24gPSBjaGVja2VkXG4gICAgPyBDaGVja0JveFxuICAgIDogaW5kZXRlcm1pbmF0ZVxuICAgID8gSW5kZXRlcm1pbmF0ZUNoZWNrQm94XG4gICAgOiBDaGVja0JveE91dGxpbmVCbGFuaztcblxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcyhzdHlsZXMubGFiZWwsIGNoZWNrZWQgfHwgaW5kZXRlcm1pbmF0ZSA/IHN0eWxlcy5jaGVja2VkIDogbnVsbCk7XG4gIHJldHVybiAoXG4gICAgPGxhYmVsIGNsYXNzTmFtZT17Y2xhc3Nlc30+XG4gICAgICA8aW5wdXRcbiAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY2hlY2tib3h9XG4gICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgIGNoZWNrZWQ9e2NoZWNrZWQgPz8gdHJ1ZX1cbiAgICAgIC8+XG4gICAgICA8Q2hlY2tCb3hJY29uIGZvbnRTaXplPVwic21hbGxcIiBjbGFzc05hbWU9e3N0eWxlcy5pY29ufSAvPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMudGV4dH0+e25hbWV9PC9zcGFuPlxuICAgIDwvbGFiZWw+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzVmlzaWJsZShsYXllcnM6IFZpc2liaWxpdHlJbmZvW10pIHtcbiAgbGV0IHZpc2libGUgPSBsYXllcnNbMF0udmlzaWJsZTtcbiAgZm9yIChjb25zdCBsYXllciBvZiBsYXllcnMpIHtcbiAgICBpZiAobGF5ZXIudmlzaWJsZSAhPT0gdmlzaWJsZSkgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gdmlzaWJsZTtcbn1cblxuY29uc3QgZGVsYXkgPSAob25UaW1lb3V0OiAoKSA9PiB2b2lkLCBkZWxheSA9IDIwMCkgPT4ge1xuICBjb25zdCByYWYgPSB7IGN1cnJlbnQ6IDAgfTtcbiAgbGV0IHN0YXJ0VGltZSA9IDA7XG5cbiAgY29uc3QgY2FuY2VsID0gKCkgPT4ge1xuICAgIGlmIChyYWYuY3VycmVudCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZ2xvYmFsVGhpcy5jYW5jZWxBbmltYXRpb25GcmFtZShyYWYuY3VycmVudCk7XG4gICAgcmFmLmN1cnJlbnQgPSAwO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IGxvb3AgPSAodGltZXN0YW1wOiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXN0YXJ0VGltZSkge1xuICAgICAgc3RhcnRUaW1lID0gdGltZXN0YW1wO1xuICAgIH1cblxuICAgIGlmICh0aW1lc3RhbXAgLSBzdGFydFRpbWUgPiBkZWxheSkge1xuICAgICAgcmFmLmN1cnJlbnQgPSAwO1xuICAgICAgb25UaW1lb3V0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmFmLmN1cnJlbnQgPSBnbG9iYWxUaGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfTtcblxuICByYWYuY3VycmVudCA9IGdsb2JhbFRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICByZXR1cm4gY2FuY2VsO1xufTtcbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wia2VwbGVyXCI6XCJrZXBsZXJcIixcImxpZ2h0XCI6XCJsaWdodFwiLFwibGVnZW5kXCI6XCJsV093Y2hGYjZXMk5wY1dSNFpRU1wiLFwibGF5ZXJcIjpcIm1JSmpJb09Tc2pMWk1wNTkxck4wXCIsXCJsYXllci1uYW1lXCI6XCJPVUxseTA3T0drTFBSaUVEZ3AwMFwiLFwibGF5ZXJOYW1lXCI6XCJPVUxseTA3T0drTFBSaUVEZ3AwMFwiLFwic2NhbGVcIjpcIm94Y3RLNVRja25iM3N5VWZUN3hnXCIsXCJzY2FsZS1uYW1lXCI6XCJLRWJHUEJJakxYbmpBaVVUdThlUFwiLFwic2NhbGVOYW1lXCI6XCJLRWJHUEJJakxYbmpBaVVUdThlUFwiLFwic2NhbGUtYnlcIjpcIk1CQkZyT1NSNUZfZ3JaY3lPQ3AwXCIsXCJzY2FsZUJ5XCI6XCJNQkJGck9TUjVGX2dyWmN5T0NwMFwiLFwiZmllbGQtbmFtZVwiOlwibF80UGFNTzdCV09uNERjTE41T2hcIixcImZpZWxkTmFtZVwiOlwibF80UGFNTzdCV09uNERjTE41T2hcIixcImNvbG9yLXNjYWxlXCI6XCJhV3pZcURvemRxNlZsNFF1SUoxeVwiLFwiY29sb3JTY2FsZVwiOlwiYVd6WXFEb3pkcTZWbDRRdUlKMXlcIixcInRpY2tcIjpcInhhcHJWNEFORGdSaUU1YWkxaFVsXCIsXCJsaW5lXCI6XCJmNlNuYXVlckpZNzVacU5BdUs1NlwifTsiLCJpbXBvcnQgdHlwZSB7IFNjYWxlTGluZWFyLCBTY2FsZUxvZ2FyaXRobWljLCBTY2FsZVBvd2VyIH0gZnJvbSBcImQzLXNjYWxlXCI7XG5pbXBvcnQge1xuICBBY2Nlc3NvclNjYWxlLFxuICBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnksXG4gIEFjY2Vzc29yU2NhbGVDb250aW51b3VzLFxuICBBY2Nlc3NvclNjYWxlRGlzY3JldGUsXG4gIGlzQ29sb3JTY2FsZSxcbiAgaXNDb250aW51b3VzU2NhbGUsXG4gIGlzRGlzY3JldGVTY2FsZSxcbn0gZnJvbSBcIi4uL3NjYWxlXCI7XG5pbXBvcnQgdHlwZSB7IExlZ2VuZEluZm8gfSBmcm9tIFwiLi4vbGF5ZXJcIjtcbmltcG9ydCB7IHJnYmEgfSBmcm9tIFwiLi4vY29sb3JcIjtcbmltcG9ydCB7IHdvcmRzIH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vbGVnZW5kLmNzc1wiO1xuXG5jb25zdCBUSUNLX0hFSUdIVCA9IDE2O1xuY29uc3QgVElDS19GT05UX1NJWkUgPSAxMTtcblxuZXhwb3J0IHR5cGUgTGVnZW5kUHJvcHMgPSB7XG4gIGxheWVyczogTGVnZW5kSW5mb1tdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIExlZ2VuZCh7IGxheWVycyB9OiBMZWdlbmRQcm9wcykge1xuICBpZiAobGF5ZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmxlZ2VuZH0+XG4gICAgICB7bGF5ZXJzLm1hcCgobGF5ZXIpID0+IChcbiAgICAgICAgPExheWVyIGtleT17bGF5ZXIuaWR9IHsuLi5sYXllcn0gLz5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBMYXllcih7IG5hbWUsIHNjYWxlcyB9OiBMZWdlbmRJbmZvKSB7XG4gIGlmIChzY2FsZXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5sYXllck5hbWV9IHRpdGxlPXtuYW1lfT5cbiAgICAgICAge25hbWV9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtzY2FsZXMubWFwKChzY2FsZSkgPT4gKFxuICAgICAgICA8U2NhbGUga2V5PXtzY2FsZS5uYW1lfSB7Li4uc2NhbGV9IC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gU2NhbGUoc2NhbGU6IEFjY2Vzc29yU2NhbGU8bnVtYmVyIHwgQ29sb3I+KSB7XG4gIGNvbnN0IHNjYWxlTmFtZSA9IHdvcmRzKHNjYWxlLm5hbWUucmVwbGFjZSgvXmdldC8sIFwiXCIpKTtcbiAgY29uc3QgaXNDb2xvciA9IGlzQ29sb3JTY2FsZShzY2FsZSk7XG4gIGNvbnN0IGlzQ29udGludW91cyA9IGlzQ29udGludW91c1NjYWxlKHNjYWxlKTtcbiAgY29uc3QgaXNEaXNjcmV0ZSA9IGlzRGlzY3JldGVTY2FsZShzY2FsZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNjYWxlfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuc2NhbGVOYW1lfT57c2NhbGVOYW1lfTwvZGl2PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuc2NhbGVCeX0+YnkgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuZmllbGROYW1lfSB0aXRsZT17c2NhbGUuY29sfT5cbiAgICAgICAge3NjYWxlLnNjYWxlQnkgPz8gc2NhbGUuY29sfVxuICAgICAgPC9zcGFuPlxuICAgICAge2lzQ29sb3IgJiYgaXNDb250aW51b3VzICYmIDxDb250aW51b3VzIHsuLi4oc2NhbGUgYXMgQWNjZXNzb3JTY2FsZUNvbnRpbnVvdXM8Q29sb3I+KX0gLz59XG4gICAgICB7aXNDb2xvciAmJiBpc0Rpc2NyZXRlICYmIDxEaXNjcmV0ZSB7Li4uKHNjYWxlIGFzIEFjY2Vzc29yU2NhbGVEaXNjcmV0ZTxDb2xvcj4pfSAvPn1cbiAgICAgIHtpc0NvbG9yICYmIHNjYWxlLnNjYWxlID09PSBcImNhdGVnb3J5XCIgJiYgKFxuICAgICAgICA8Q2F0ZWdvcnkgey4uLihzY2FsZSBhcyBBY2Nlc3NvclNjYWxlQ2F0ZWdvcnk8Q29sb3I+KX0gLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmNvbnN0IENvbnRpbnVvdXMgPSAoeyB0aWNrcywgc2NhbGVEYXRhIH06IEFjY2Vzc29yU2NhbGVDb250aW51b3VzPENvbG9yPikgPT4ge1xuICBjb25zdCBsaW5lcyA9IHRpY2tzLm1hcCgoXywgaW5kZXgpID0+IGluZGV4KS5zbGljZSgxLCAtMSk7XG4gIGNvbnN0IGdyYWRpZW50SGVpZ2h0ID0gVElDS19IRUlHSFQgKiAodGlja3MubGVuZ3RoIC0gMSk7XG4gIGNvbnN0IGhlaWdodCA9IGdyYWRpZW50SGVpZ2h0ICsgVElDS19GT05UX1NJWkUgKyAxO1xuXG4gIHJldHVybiAoXG4gICAgPHN2ZyBjbGFzc05hbWU9e3N0eWxlcy5jb2xvclNjYWxlfSBoZWlnaHQ9e2hlaWdodH0gc2hhcGVSZW5kZXJpbmc9XCJjcmlzcEVkZ2VzXCI+XG4gICAgICA8c3ZnIHk9ezV9PlxuICAgICAgICA8aW1hZ2VcbiAgICAgICAgICB3aWR0aD17MjB9XG4gICAgICAgICAgaGVpZ2h0PXtncmFkaWVudEhlaWdodH1cbiAgICAgICAgICBocmVmPXtnZXRDb2xvckdyYWRpZW50KHNjYWxlRGF0YSl9XG4gICAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cIm5vbmVcIlxuICAgICAgICAvPlxuICAgICAgICB7bGluZXMubWFwKChpbmRleCkgPT4gKFxuICAgICAgICAgIDxsaW5lXG4gICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMubGluZX1cbiAgICAgICAgICAgIHgyPXsyMH1cbiAgICAgICAgICAgIHkxPXtUSUNLX0hFSUdIVCAqIGluZGV4fVxuICAgICAgICAgICAgeTI9e1RJQ0tfSEVJR0hUICogaW5kZXh9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L3N2Zz5cbiAgICAgIDxUaWNrcyB0aWNrcz17dGlja3N9IHk9ey0yfSAvPlxuICAgIDwvc3ZnPlxuICApO1xufTtcblxuY29uc3QgRGlzY3JldGUgPSAoeyB0aWNrcywgcmFuZ2UgfTogQWNjZXNzb3JTY2FsZURpc2NyZXRlPENvbG9yPikgPT4ge1xuICBjb25zdCBjb2xvcnMgPSByYW5nZS5tYXAocmdiYSk7XG4gIGNvbnN0IHNjYWxlSGVpZ2h0ID0gVElDS19IRUlHSFQgKiAodGlja3MubGVuZ3RoIC0gMSk7XG4gIGNvbnN0IGhlaWdodCA9IHNjYWxlSGVpZ2h0ICsgVElDS19GT05UX1NJWkUgKyAxO1xuXG4gIHJldHVybiAoXG4gICAgPHN2ZyBjbGFzc05hbWU9e3N0eWxlcy5jb2xvclNjYWxlfSBoZWlnaHQ9e2hlaWdodH0gc2hhcGVSZW5kZXJpbmc9XCJjcmlzcEVkZ2VzXCI+XG4gICAgICA8c3ZnIHk9ezV9PlxuICAgICAgICB7Y29sb3JzLm1hcCgoY29sb3IsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPHJlY3Qga2V5PXtpbmRleH0gd2lkdGg9ezIwfSBoZWlnaHQ9e1RJQ0tfSEVJR0hUfSB5PXtpbmRleCAqIFRJQ0tfSEVJR0hUfSBmaWxsPXtjb2xvcn0gLz5cbiAgICAgICAgKSl9XG4gICAgICA8L3N2Zz5cbiAgICAgIDxUaWNrcyB0aWNrcz17dGlja3N9IHk9ey0yfSAvPlxuICAgIDwvc3ZnPlxuICApO1xufTtcblxuZnVuY3Rpb24gQ2F0ZWdvcnkoeyB0aWNrcywgcmFuZ2UsIHVua25vd25UaWNrLCB1bmtub3duIH06IEFjY2Vzc29yU2NhbGVDYXRlZ29yeTxDb2xvcj4pIHtcbiAgY29uc3QgX3JhbmdlID0gdW5rbm93blRpY2sgPyBbLi4ucmFuZ2UsIHVua25vd25dIDogcmFuZ2U7XG4gIGNvbnN0IF90aWNrcyA9IHVua25vd25UaWNrID8gWy4uLnRpY2tzLCB1bmtub3duVGlja10gOiB0aWNrcztcbiAgY29uc3QgY29sb3JzID0gX3JhbmdlLm1hcChyZ2JhKTtcbiAgY29uc3QgaGVpZ2h0ID0gVElDS19IRUlHSFQgKiBfdGlja3MubGVuZ3RoO1xuXG4gIHJldHVybiAoXG4gICAgPHN2ZyBjbGFzc05hbWU9e3N0eWxlcy5jb2xvclNjYWxlfSBoZWlnaHQ9e2hlaWdodH0+XG4gICAgICA8c3ZnPlxuICAgICAgICB7Y29sb3JzLm1hcCgoY29sb3IsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPHJlY3Qga2V5PXtpbmRleH0gd2lkdGg9ezIwfSBoZWlnaHQ9ezE0fSB5PXsxICsgaW5kZXggKiBUSUNLX0hFSUdIVH0gZmlsbD17Y29sb3J9IC8+XG4gICAgICAgICkpfVxuICAgICAgPC9zdmc+XG4gICAgICA8VGlja3MgdGlja3M9e190aWNrc30gLz5cbiAgICA8L3N2Zz5cbiAgKTtcbn1cblxudHlwZSBUaWNrc1Byb3BzID0ge1xuICB0aWNrczogYW55W107XG4gIHg/OiBzdHJpbmcgfCBudW1iZXI7XG4gIHk/OiBzdHJpbmcgfCBudW1iZXI7XG59O1xuXG5mdW5jdGlvbiBUaWNrcyh7IHRpY2tzLCB4ID0gMjgsIHkgPSAwIH06IFRpY2tzUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c3ZnIHsuLi57IHgsIHkgfX0+XG4gICAgICB7dGlja3MubWFwKCh0aWNrLCBpbmRleCkgPT4gKFxuICAgICAgICA8dGV4dCBrZXk9e2luZGV4fSBjbGFzc05hbWU9e3N0eWxlcy50aWNrfSB5PXtUSUNLX0hFSUdIVCAqIGluZGV4fSBkeT17VElDS19GT05UX1NJWkV9PlxuICAgICAgICAgIHtTdHJpbmcodGljayl9XG4gICAgICAgIDwvdGV4dD5cbiAgICAgICkpfVxuICAgIDwvc3ZnPlxuICApO1xufVxuXG50eXBlIFNjYWxlQ29udGludW91czxUPiA9IFNjYWxlTGluZWFyPFQsIFQ+IHwgU2NhbGVQb3dlcjxULCBUPiB8IFNjYWxlTG9nYXJpdGhtaWM8VCwgVD47XG5cbmZ1bmN0aW9uIGdldENvbG9yR3JhZGllbnQoc2NhbGU6IFNjYWxlQ29udGludW91czxDb2xvcj4sIG4gPSAyMDApOiBzdHJpbmcge1xuICBjb25zdCBsZW5ndGggPSBzY2FsZS5yYW5nZSgpLmxlbmd0aDtcbiAgY29uc3QgcmFuZ2U6IGFueSA9IFsuLi5BcnJheShsZW5ndGgpLmtleXMoKV0ubWFwKCh4KSA9PiB4IC8gKGxlbmd0aCAtIDEpKTtcbiAgY29uc3QgaW52ZXJ0ID0gc2NhbGUuY29weSgpLnJhbmdlKHJhbmdlKS5pbnZlcnQ7XG5cbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGNhbnZhcy53aWR0aCA9IDE7XG4gIGNhbnZhcy5oZWlnaHQgPSBuO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgY29udGV4dCEuZmlsbFN0eWxlID0gcmdiYShzY2FsZShpbnZlcnQoaSAvIG4pKSk7XG4gICAgY29udGV4dCEuZmlsbFJlY3QoMCwgaSwgMSwgMSk7XG4gIH1cblxuICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xufVxuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJrZXBsZXJcIjpcImtlcGxlclwiLFwibGlnaHRcIjpcImxpZ2h0XCIsXCJjb250YWluZXJcIjpcImwyNHRkMUQ1bkFvdXFabmswSTFuXCIsXCJidXR0b25cIjpcInZ4aW92UE1BWVV5UDUxeWFiQ2RvXCIsXCJhY3RpdmVcIjpcIlE1dVVTdExPYmJ0UXR6Y0dJV3ZOXCIsXCJpY29uXCI6XCJ6ZU00Z2FvaTEyTDE0SWtqaUYxVFwifTsiLCJpbXBvcnQgdHlwZSB7IENTU1Byb3BlcnRpZXMsIE1vdXNlRXZlbnRIYW5kbGVyIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IEZlYXR1cmVDb2xsZWN0aW9uIH0gZnJvbSBcImdlb2pzb25cIjtcbmltcG9ydCB0eXBlIHsgRWRpdEFjdGlvbiB9IGZyb20gXCJAbmVidWxhLmdsL2VkaXQtbW9kZXNcIjtcblxuaW1wb3J0IExhc3NvIGZyb20gXCJAbWRpL3N2Zy9zdmcvbGFzc28uc3ZnXCI7XG5pbXBvcnQgVmVjdG9yU3F1YXJlIGZyb20gXCJAbWRpL3N2Zy9zdmcvdmVjdG9yLXNxdWFyZS5zdmdcIjtcbmltcG9ydCBWZWN0b3JTcXVhcmVFZGl0IGZyb20gXCJAbWRpL3N2Zy9zdmcvdmVjdG9yLXNxdWFyZS1lZGl0LnN2Z1wiO1xuaW1wb3J0IHsgU3ZnSWNvbiB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5pbXBvcnQgeyBEZWxldGUsIFBhblRvb2wgfSBmcm9tIFwiQG11aS9pY29ucy1tYXRlcmlhbFwiO1xuXG5pbXBvcnQgc3R5bGVzIGZyb20gXCIuL3BvbHlnb24tZWRpdG9yLmNzc1wiO1xuaW1wb3J0IHR5cGUgeyBQb2x5Z29uRWRpdG9yTW9kZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gXCIuLi91dGlsXCI7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuZXhwb3J0IHR5cGUgUG9seWdvbkVkaXRvclByb3BzID0ge1xuICBtb2RlOiBQb2x5Z29uRWRpdG9yTW9kZTtcbiAgcG9seWdvbjogRmVhdHVyZUNvbGxlY3Rpb247XG4gIG9uTW9kZUNoYW5nZT86IChtb2RlOiBQb2x5Z29uRWRpdG9yTW9kZSkgPT4gdm9pZDtcbiAgb25Qb2x5Z29uQ2hhbmdlPzogKGFjdGlvbjogRWRpdEFjdGlvbjxGZWF0dXJlQ29sbGVjdGlvbj4pID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUG9seWdvbkVkaXRvcih7XG4gIG1vZGUgPSBcInZpZXdcIixcbiAgcG9seWdvbiA9IHsgdHlwZTogXCJGZWF0dXJlQ29sbGVjdGlvblwiLCBmZWF0dXJlczogW10gfSxcbiAgb25Nb2RlQ2hhbmdlID0gbm9vcCxcbiAgb25Qb2x5Z29uQ2hhbmdlID0gbm9vcCxcbn06IFBvbHlnb25FZGl0b3JQcm9wcykge1xuICBjb25zdCBoYW5kbGVEZWxldGUgPSAoKSA9PiB7XG4gICAgb25Qb2x5Z29uQ2hhbmdlKHtcbiAgICAgIHVwZGF0ZWREYXRhOiB7IHR5cGU6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIiwgZmVhdHVyZXM6IFtdIH0gYXMgRmVhdHVyZUNvbGxlY3Rpb24sXG4gICAgICBlZGl0VHlwZTogXCJkZWxldGVGZWF0dXJlXCIsXG4gICAgICBlZGl0Q29udGV4dDoge1xuICAgICAgICBmZWF0dXJlSW5kZXhlczogcG9seWdvbi5mZWF0dXJlcy5tYXAoKF8sIGkpID0+IGkpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfT5cbiAgICAgIDxFZGl0b3JCdXR0b25cbiAgICAgICAgbmFtZT1cIlBhblwiXG4gICAgICAgIGljb249e1BhblRvb2x9XG4gICAgICAgIGFjdGl2ZT17bW9kZSA9PT0gXCJ2aWV3XCJ9XG4gICAgICAgIG9uQ2xpY2s9eygpID0+IG9uTW9kZUNoYW5nZShcInZpZXdcIil9XG4gICAgICAvPlxuICAgICAgPEVkaXRvckJ1dHRvblxuICAgICAgICBuYW1lPVwiTW9kaWZ5XCJcbiAgICAgICAgaWNvbj17VmVjdG9yU3F1YXJlRWRpdH1cbiAgICAgICAgYWN0aXZlPXttb2RlID09PSBcIm1vZGlmeVwifVxuICAgICAgICBkaXNhYmxlZD17IWhhc0ZlYXR1cmVzKHBvbHlnb24pfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbk1vZGVDaGFuZ2UoXCJtb2RpZnlcIil9XG4gICAgICAvPlxuICAgICAgPEVkaXRvckJ1dHRvblxuICAgICAgICBuYW1lPVwiUG9seWdvblwiXG4gICAgICAgIGljb249e1ZlY3RvclNxdWFyZX1cbiAgICAgICAgYWN0aXZlPXttb2RlID09PSBcInBvbHlnb25cIn1cbiAgICAgICAgb25DbGljaz17KCkgPT4gb25Nb2RlQ2hhbmdlKFwicG9seWdvblwiKX1cbiAgICAgIC8+XG4gICAgICA8RWRpdG9yQnV0dG9uXG4gICAgICAgIG5hbWU9XCJMYXNzb1wiXG4gICAgICAgIGljb249e0xhc3NvfVxuICAgICAgICBhY3RpdmU9e21vZGUgPT09IFwibGFzc29cIn1cbiAgICAgICAgb25DbGljaz17KCkgPT4gb25Nb2RlQ2hhbmdlKFwibGFzc29cIil9XG4gICAgICAvPlxuICAgICAgPEVkaXRvckJ1dHRvblxuICAgICAgICBuYW1lPVwiRGVsZXRlXCJcbiAgICAgICAgaWNvbj17RGVsZXRlfVxuICAgICAgICBkaXNhYmxlZD17IWhhc0ZlYXR1cmVzKHBvbHlnb24pfVxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWxldGV9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG50eXBlIEJ1dHRvblByb3BzID0ge1xuICBuYW1lPzogc3RyaW5nO1xuICBvbkNsaWNrPzogTW91c2VFdmVudEhhbmRsZXI7XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgYWN0aXZlPzogYm9vbGVhbjtcbiAgaWNvbj86IGFueTtcbiAgaWNvblN0eWxlPzogQ1NTUHJvcGVydGllcztcbn07XG5cbmZ1bmN0aW9uIEVkaXRvckJ1dHRvbih7XG4gIG5hbWUsXG4gIG9uQ2xpY2sgPSBub29wLFxuICBkaXNhYmxlZCA9IGZhbHNlLFxuICBhY3RpdmUgPSBmYWxzZSxcbiAgaWNvbixcbiAgaWNvblN0eWxlLFxufTogQnV0dG9uUHJvcHMpIHtcbiAgY29uc3QgYnV0dG9uQ2xhc3MgPSBjbGFzc05hbWVzKHN0eWxlcy5idXR0b24sIGFjdGl2ZSA/IHN0eWxlcy5hY3RpdmUgOiBudWxsKTtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uIGNsYXNzTmFtZT17YnV0dG9uQ2xhc3N9IG9uQ2xpY2s9e29uQ2xpY2t9IHRpdGxlPXtuYW1lfSBkaXNhYmxlZD17ZGlzYWJsZWR9PlxuICAgICAge2ljb24gJiYgKFxuICAgICAgICA8U3ZnSWNvbiBjb21wb25lbnQ9e2ljb259IGNsYXNzTmFtZT17c3R5bGVzLmljb259IGZvbnRTaXplPVwic21hbGxcIiBzdHlsZT17aWNvblN0eWxlfSAvPlxuICAgICAgKX1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gaGFzRmVhdHVyZXMoZmVhdHVyZUNvbGxlY3Rpb24/OiBGZWF0dXJlQ29sbGVjdGlvbikge1xuICByZXR1cm4gZmVhdHVyZUNvbGxlY3Rpb24/LmZlYXR1cmVzPy5sZW5ndGggIT09IDA7XG59XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcInJkZWNrXCI6XCJyZGVja1wiLFwia2VwbGVyXCI6XCJrZXBsZXJcIixcImxpZ2h0XCI6XCJsaWdodFwiLFwiY29udHJvbC1jb250YWluZXJcIjpcIlhUdVlLU2xCY0M5MzNXNHNLV3RDXCIsXCJjb250cm9sQ29udGFpbmVyXCI6XCJYVHVZS1NsQmNDOTMzVzRzS1d0Q1wiLFwibGVmdFwiOlwia1FuZWxRNGhrQUpFSkhMTzBOSklcIixcInJpZ2h0XCI6XCJoUWJPT2RFWncwTE8wbGxHS1ZxU1wiLFwidG9wXCI6XCJjU29sNTRtbFZUZ0FuUnpqX0dVTVwifTsiLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIFJlZk9iamVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBEZWNrR0xQcm9wcyB9IGZyb20gXCJAZGVjay5nbC9yZWFjdFwiO1xuaW1wb3J0IHsgTWFwUHJvcHMgfSBmcm9tIFwicmVhY3QtbWFwLWdsXCI7XG5cbmltcG9ydCB7IExheWVyLCBMYXllclByb3BzLCBWaXNpYmlsaXR5SW5mbyB9IGZyb20gXCIuL2xheWVyXCI7XG5pbXBvcnQgeyBNYXAgfSBmcm9tIFwiLi9tYXBcIjtcbmltcG9ydCB7IExheWVyU2VsZWN0b3IsIExlZ2VuZCwgUG9seWdvbkVkaXRvciwgUG9seWdvbkVkaXRvclByb3BzIH0gZnJvbSBcIi4vY29udHJvbHNcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vcmRlY2suY3NzXCI7XG5pbXBvcnQgeyBjbGFzc05hbWVzIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgdHlwZSBEZWNrUHJvcHMgPSBEZWNrR0xQcm9wcyAmXG4gIFBpY2s8TWFwUHJvcHMsIFwibWFwYm94QWNjZXNzVG9rZW5cIiB8IFwibWFwU3R5bGVcIj4gJiB7XG4gICAgaW5pdGlhbEJvdW5kcz86IEJvdW5kcztcbiAgICBibGVuZGluZ01vZGU6IEJsZW5kaW5nTW9kZTtcbiAgfTtcblxuZXhwb3J0IGludGVyZmFjZSBSRGVja1Byb3BzIHtcbiAgcHJvcHM6IERlY2tQcm9wcztcbiAgbGF5ZXJzOiBMYXllclByb3BzW107XG4gIHRoZW1lOiBcImtlcGxlclwiIHwgXCJsaWdodFwiO1xuICBsYXp5TG9hZDogYm9vbGVhbjtcbiAgbGF5ZXJTZWxlY3RvcjogYm9vbGVhbjtcbiAgb25MYXllclZpc2liaWxpdHlDaGFuZ2U6IChsYXllcnM6IFZpc2liaWxpdHlJbmZvW10pID0+IHZvaWQ7XG4gIHBvbHlnb25FZGl0b3I6IFBvbHlnb25FZGl0b3JQcm9wcyB8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSRGVjayh7XG4gIHByb3BzLFxuICBsYXllcnMsXG4gIHRoZW1lLFxuICBsYXp5TG9hZCxcbiAgbGF5ZXJTZWxlY3RvcixcbiAgb25MYXllclZpc2liaWxpdHlDaGFuZ2UsXG4gIHBvbHlnb25FZGl0b3IsXG59OiBSRGVja1Byb3BzKSB7XG4gIGNvbnN0IF9sYXllcnMgPSBsYXllcnMubWFwKExheWVyLmNyZWF0ZSk7XG5cbiAgY29uc3QgY29udGFpbmVyID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaW5WaWV3cG9ydCA9IHVzZUluVmlld3BvcnQoY29udGFpbmVyLCBsYXp5TG9hZCk7XG4gIGNvbnN0IHNob3VsZFJlbmRlciA9ICFsYXp5TG9hZCB8fCBpblZpZXdwb3J0O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiByZWY9e2NvbnRhaW5lcn0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKHN0eWxlcy5yZGVjaywgdGhlbWUpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHN0eWxlcy5jb250cm9sQ29udGFpbmVyLCBzdHlsZXMubGVmdCl9PlxuICAgICAgICB7bGF5ZXJTZWxlY3RvciAmJiAoXG4gICAgICAgICAgPExheWVyU2VsZWN0b3JcbiAgICAgICAgICAgIGxheWVycz17X2xheWVyc1xuICAgICAgICAgICAgICAuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIucHJvcHMudmlzaWJpbGl0eVRvZ2dsZSlcbiAgICAgICAgICAgICAgLm1hcCgobGF5ZXIpID0+IGxheWVyLnJlbmRlclNlbGVjdG9yKCkpXG4gICAgICAgICAgICAgIC5yZXZlcnNlKCl9XG4gICAgICAgICAgICBvblZpc2liaWxpdHlDaGFuZ2U9e29uTGF5ZXJWaXNpYmlsaXR5Q2hhbmdlfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHN0eWxlcy5jb250cm9sQ29udGFpbmVyLCBzdHlsZXMucmlnaHQpfT5cbiAgICAgICAgPExlZ2VuZFxuICAgICAgICAgIGxheWVycz17X2xheWVyc1xuICAgICAgICAgICAgLmZpbHRlcigobGF5ZXIpID0+IGxheWVyLnByb3BzLnZpc2libGUpXG4gICAgICAgICAgICAubWFwKChsYXllcikgPT4gbGF5ZXIucmVuZGVyTGVnZW5kKCkpXG4gICAgICAgICAgICAucmV2ZXJzZSgpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhzdHlsZXMuY29udHJvbENvbnRhaW5lciwgc3R5bGVzLnRvcCl9PlxuICAgICAgICB7cG9seWdvbkVkaXRvciAmJiA8UG9seWdvbkVkaXRvciB7Li4ucG9seWdvbkVkaXRvcn0gLz59XG4gICAgICA8L2Rpdj5cbiAgICAgIHtzaG91bGRSZW5kZXIgJiYgPE1hcCBwcm9wcz17cHJvcHN9IGxheWVycz17X2xheWVyc30gcG9seWdvbkVkaXRvcj17cG9seWdvbkVkaXRvcn0gLz59XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIHVzZUluVmlld3BvcnQocmVmOiBSZWZPYmplY3Q8SFRNTEVsZW1lbnQ+LCBlbmFibGVkOiBib29sZWFuKSB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVuYWJsZWQgJiYgcmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICAgIHNldFN0YXRlKGVudHJpZXNbMF0uaXNJbnRlcnNlY3RpbmcpO1xuICAgICAgICB9LFxuICAgICAgICB7IHRocmVzaG9sZDogMCB9XG4gICAgICApO1xuXG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9LCBbZW5hYmxlZCwgcmVmXSk7XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuIiwiaW1wb3J0IHsgSW5pdGlhbFZpZXdTdGF0ZVByb3BzLCBXZWJNZXJjYXRvclZpZXdwb3J0IH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB7IHBpY2sgfSBmcm9tIFwiLi91dGlsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3U3RhdGUodmlld1N0YXRlOiBXZWJNZXJjYXRvclZpZXdwb3J0IHwgSW5pdGlhbFZpZXdTdGF0ZVByb3BzKSB7XG4gIGNvbnN0IHZpZXdwb3J0ID1cbiAgICB2aWV3U3RhdGUgaW5zdGFuY2VvZiBXZWJNZXJjYXRvclZpZXdwb3J0ID8gdmlld1N0YXRlIDogbmV3IFdlYk1lcmNhdG9yVmlld3BvcnQodmlld1N0YXRlKTtcblxuICBjb25zdCBwcm9wcyA9IHBpY2sodmlld3BvcnQsIFwibG9uZ2l0dWRlXCIsIFwibGF0aXR1ZGVcIiwgXCJ6b29tXCIsIFwiYmVhcmluZ1wiLCBcInBpdGNoXCIsIFwiYWx0aXR1ZGVcIik7XG4gIHJldHVybiB7XG4gICAgYm91bmRzOiB2aWV3cG9ydC5nZXRCb3VuZHMoKSxcbiAgICB2aWV3U3RhdGU6IHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgY2VudGVyOiB2aWV3cG9ydC51bnByb2plY3RGbGF0KHZpZXdwb3J0LmNlbnRlciksXG4gICAgfSxcbiAgfTtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJvb3QsIFJvb3QgfSBmcm9tIFwicmVhY3QtZG9tL2NsaWVudFwiO1xuaW1wb3J0IHR5cGUgeyBJbml0aWFsVmlld1N0YXRlUHJvcHMsIFBpY2tJbmZvIH0gZnJvbSBcIkBkZWNrLmdsL2NvcmVcIjtcbmltcG9ydCB7IEVkaXRBY3Rpb24gfSBmcm9tIFwiQG5lYnVsYS5nbC9lZGl0LW1vZGVzXCI7XG5pbXBvcnQgdHlwZSB7IEZlYXR1cmVDb2xsZWN0aW9uIH0gZnJvbSBcImdlb2pzb25cIjtcbmltcG9ydCB7IFJEZWNrLCBSRGVja1Byb3BzLCBEZWNrUHJvcHMgfSBmcm9tIFwiLi9yZGVja1wiO1xuaW1wb3J0IHR5cGUgeyBMYXllclByb3BzIH0gZnJvbSBcIi4vbGF5ZXJcIjtcbmltcG9ydCB0eXBlIHsgUG9seWdvbkVkaXRvclByb3BzIH0gZnJvbSBcIi4vY29udHJvbHNcIjtcbmltcG9ydCB0eXBlIHsgUG9seWdvbkVkaXRvck1vZGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgZGVib3VuY2UsIHBpY2sgfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBnZXRWaWV3U3RhdGUgfSBmcm9tIFwiLi92aWV3cG9ydFwiO1xuaW1wb3J0IHsgZ2V0UGlja2VkT2JqZWN0IH0gZnJvbSBcIi4vcGlja2luZ1wiO1xuXG5leHBvcnQgY29uc3QgYmluZGluZzogSFRNTFdpZGdldHMuQmluZGluZyA9IHtcbiAgbmFtZTogXCJyZGVja1wiLFxuICB0eXBlOiBcIm91dHB1dFwiLFxuICBmYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIG5ldyBXaWRnZXQoZWwsIHdpZHRoLCBoZWlnaHQpO1xuICB9LFxufTtcblxudHlwZSBMYXllclZpc2liaWxpdHlQcm9wcyA9IFBpY2s8TGF5ZXJQcm9wcywgXCJncm91cE5hbWVcIiB8IFwidmlzaWJsZVwiPiAmIHtcbiAgbmFtZTogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgV2lkZ2V0UHJvcHMgPSBPbWl0PFJEZWNrUHJvcHMsIFwib25MYXllclZpc2liaWxpdHlDaGFuZ2VcIj47XG5cbmV4cG9ydCBjbGFzcyBXaWRnZXQgaW1wbGVtZW50cyBIVE1MV2lkZ2V0cy5XaWRnZXQsIFdpZGdldFByb3BzIHtcbiAgcmVhZG9ubHkgI2VsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICByZWFkb25seSAjcm9vdDogUm9vdDtcblxuICBwcm9wczogRGVja1Byb3BzID0geyBibGVuZGluZ01vZGU6IFwibm9ybWFsXCIgfTtcbiAgbGF5ZXJzOiBMYXllclByb3BzW10gPSBbXTtcbiAgdGhlbWU6IFwia2VwbGVyXCIgfCBcImxpZ2h0XCIgPSBcImtlcGxlclwiO1xuICBsYXllclNlbGVjdG9yOiBib29sZWFuID0gdHJ1ZTtcbiAgbGF6eUxvYWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcG9seWdvbkVkaXRvcjogUG9seWdvbkVkaXRvclByb3BzIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZWw6IEhUTUxFbGVtZW50LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMuI2VsZW1lbnQgPSBlbDtcbiAgICB0aGlzLiNyb290ID0gY3JlYXRlUm9vdChlbCk7XG5cbiAgICAvLyBldmVudCBoYW5kbGVyc1xuICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVWaWV3U3RhdGVDaGFuZ2UgPSBkZWJvdW5jZSh0aGlzLmhhbmRsZVZpZXdTdGF0ZUNoYW5nZS5iaW5kKHRoaXMpLCA1MCk7XG4gICAgdGhpcy5oYW5kbGVQb2x5Z29uQ2hhbmdlID0gZGVib3VuY2UodGhpcy5oYW5kbGVQb2x5Z29uQ2hhbmdlLmJpbmQodGhpcyksIDUwKTtcbiAgICB0aGlzLmhhbmRsZUVkaXRvck1vZGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUVkaXRvck1vZGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNldExheWVyVmlzaWJpbGl0eSA9IHRoaXMuc2V0TGF5ZXJWaXNpYmlsaXR5LmJpbmQodGhpcyk7XG5cbiAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7XG4gICAgICBjb25zdCByZW5kZXIgPSBkZWJvdW5jZSgocHJvcHMpID0+IHRoaXMucmVuZGVyVmFsdWUocHJvcHMpLCA1MCk7XG5cbiAgICAgIC8vIHVwZGF0ZSBsYXllcnNcbiAgICAgIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKGAke2VsLmlkfTpsYXllcmAsIChsYXllcjogTGF5ZXJQcm9wcykgPT4ge1xuICAgICAgICBjb25zdCBfbGF5ZXIgPSB0aGlzLmxheWVycy5maW5kKCh4KSA9PiB4LmlkID09PSBsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IHtcbiAgICAgICAgICAuLi5fbGF5ZXIsXG4gICAgICAgICAgLi4ubGF5ZXIsXG4gICAgICAgICAgLy8gaWYgdmlzaWJsZSBpcyBudWxsLCB1c2UgZXhpc3RpbmdcbiAgICAgICAgICB2aXNpYmxlOiBsYXllci52aXNpYmxlID8/IF9sYXllcj8udmlzaWJsZSxcbiAgICAgICAgICAvLyBpZiBkYXRhIGlzIG5vdCBzdXBwbGllZCAvIGlzIGZhbHNleSBmcm9tIHNoaW55LCB1c2UgZXhpc3RpbmdcbiAgICAgICAgICBkYXRhOiBsYXllci5kYXRhID8/IF9sYXllcj8uZGF0YSA/PyBudWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHVwc2VydFxuICAgICAgICB0aGlzLmxheWVycyA9XG4gICAgICAgICAgX2xheWVyID09IG51bGxcbiAgICAgICAgICAgID8gWy4uLnRoaXMubGF5ZXJzLCBtZXJnZWRdXG4gICAgICAgICAgICA6IHRoaXMubGF5ZXJzLm1hcCgoeCkgPT4gKHggPT09IF9sYXllciA/IG1lcmdlZCA6IHgpKTtcblxuICAgICAgICByZW5kZXIoeyBsYXllcnM6IHRoaXMubGF5ZXJzIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHVwZGF0ZSBtYXBcbiAgICAgIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKGAke2VsLmlkfTpkZWNrYCwgKHByb3BzOiBSRGVja1Byb3BzKSA9PiB7XG4gICAgICAgIHRoaXMucmVuZGVyVmFsdWUocHJvcHMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyVmFsdWUoe1xuICAgIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICBsYXllcnMgPSB0aGlzLmxheWVycyxcbiAgICB0aGVtZSA9IHRoaXMudGhlbWUsXG4gICAgbGF5ZXJTZWxlY3RvciA9IHRoaXMubGF5ZXJTZWxlY3RvcixcbiAgICBwb2x5Z29uRWRpdG9yID0gdGhpcy5wb2x5Z29uRWRpdG9yLFxuICAgIGxhenlMb2FkID0gdGhpcy5sYXp5TG9hZCxcbiAgfTogUGFydGlhbDxXaWRnZXRQcm9wcz4gPSB7fSkge1xuICAgIC8vIG1lcmdlIHByb3BzXG4gICAgcHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLFxuICAgICAgb25WaWV3U3RhdGVDaGFuZ2U6IHRoaXMuaGFuZGxlVmlld1N0YXRlQ2hhbmdlLFxuICAgIH07XG5cbiAgICAvLyBvdmVyd3JpdHRlbiBvbiBpbml0aWFsQm91bmRzIGNoYW5nZVxuICAgIGlmIChwcm9wcy5pbml0aWFsQm91bmRzICE9IG51bGwpIHtcbiAgICAgIGRlbGV0ZSBwcm9wcy5pbml0aWFsVmlld1N0YXRlO1xuICAgIH1cblxuICAgIGlmIChwb2x5Z29uRWRpdG9yICE9IG51bGwpIHtcbiAgICAgIHBvbHlnb25FZGl0b3IgPSB7XG4gICAgICAgIC4uLnBvbHlnb25FZGl0b3IsXG4gICAgICAgIHBvbHlnb246IHBvbHlnb25FZGl0b3IucG9seWdvbiA/PyB7IHR5cGU6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIiwgZmVhdHVyZXM6IFtdIH0sXG4gICAgICAgIG9uTW9kZUNoYW5nZTogdGhpcy5oYW5kbGVFZGl0b3JNb2RlQ2hhbmdlLFxuICAgICAgICBvblBvbHlnb25DaGFuZ2U6IHRoaXMuaGFuZGxlUG9seWdvbkNoYW5nZSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7IHByb3BzLCBsYXllcnMsIHRoZW1lLCBsYXllclNlbGVjdG9yLCBwb2x5Z29uRWRpdG9yLCBsYXp5TG9hZCB9KTtcblxuICAgIHRoaXMuI3Jvb3QucmVuZGVyKFxuICAgICAgPFJEZWNrXG4gICAgICAgIHsuLi57IHByb3BzLCBsYXllcnMsIHRoZW1lLCBsYXllclNlbGVjdG9yLCBwb2x5Z29uRWRpdG9yLCBsYXp5TG9hZCB9fVxuICAgICAgICBvbkxheWVyVmlzaWJpbGl0eUNoYW5nZT17dGhpcy5zZXRMYXllclZpc2liaWxpdHl9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICAvLyBkZWNrLmdsIGhhbmRsZXMgcmVzaXplIGF1dG9tYXRpY2FsbHlcbiAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBHZXQgd2lkZ2V0IGlkXG4gICAqL1xuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy4jZWxlbWVudC5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbGF5ZXJzJyB2aXNpYmlsaXR5LiBMYXllcnMgbm90IGluY2x1ZGVkIGluIHZpc2liaWxpdHkgYXJlIHVuYWx0ZXJlZC5cbiAgICogQHBhcmFtIGxheWVycyB0aGUgbGF5ZXJzIHdob3NlIHZpc2liaWxpdHkgaXMgdG8gYmUgY2hhbmdlZFxuICAgKi9cbiAgc2V0TGF5ZXJWaXNpYmlsaXR5KGxheWVyczogTGF5ZXJWaXNpYmlsaXR5UHJvcHNbXSk6IHZvaWQge1xuICAgIGlmIChsYXllcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBpc01hdGNoID0gKGxheWVyVmlzaWJsaXR5OiBMYXllclZpc2liaWxpdHlQcm9wcywgbGF5ZXI6IExheWVyUHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IG5hbWVFcXVhbCA9IGxheWVyVmlzaWJsaXR5Lm5hbWUgPT09IGxheWVyLm5hbWU7XG4gICAgICBjb25zdCBncm91cEVxdWFsID0gbGF5ZXJWaXNpYmxpdHkuZ3JvdXBOYW1lID09PSBsYXllci5ncm91cE5hbWU7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIChuYW1lRXF1YWwgJiYgZ3JvdXBFcXVhbCkgfHxcbiAgICAgICAgLy8gYWxsIGxheWVycyBpbiBhIGdyb3VwXG4gICAgICAgIChsYXllclZpc2libGl0eS5uYW1lID09IG51bGwgJiYgbGF5ZXJWaXNpYmxpdHkuZ3JvdXBOYW1lICE9IG51bGwgJiYgZ3JvdXBFcXVhbClcbiAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IF9sYXllcnMgPSB0aGlzLmxheWVycy5tYXAoKGxheWVyKSA9PiB7XG4gICAgICBjb25zdCBfbGF5ZXIgPSBsYXllcnMuZmluZCgoeCkgPT4gaXNNYXRjaCh4LCBsYXllcikgJiYgeC52aXNpYmxlICE9PSBsYXllci52aXNpYmxlKTtcbiAgICAgIHJldHVybiBfbGF5ZXIgPyB7IC4uLmxheWVyLCB2aXNpYmxlOiBfbGF5ZXIudmlzaWJsZSB9IDogbGF5ZXI7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlbmRlclZhbHVlKHsgbGF5ZXJzOiBfbGF5ZXJzIH0pO1xuICB9XG5cbiAgLy8gZXZlbnQgaGFuZGxlcnNcbiAgcHJpdmF0ZSBoYW5kbGVDbGljayhpbmZvOiBQaWNrSW5mbzxhbnk+KTogdm9pZCB7XG4gICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSkge1xuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgY29vcmRpbmF0ZTogaW5mby5jb29yZGluYXRlLFxuICAgICAgICAuLi5nZXRWaWV3U3RhdGUoaW5mby52aWV3cG9ydCksXG4gICAgICAgIGxheWVyOiBwaWNrKGluZm8ubGF5ZXI/LnByb3BzLCBcImlkXCIsIFwibmFtZVwiLCBcImdyb3VwTmFtZVwiKSxcbiAgICAgICAgb2JqZWN0OiBnZXRQaWNrZWRPYmplY3QoaW5mbyksXG4gICAgICB9O1xuXG4gICAgICBTaGlueS5zZXRJbnB1dFZhbHVlKGAke3RoaXMuaWR9X2NsaWNrYCwgZGF0YSwgeyBwcmlvcml0eTogXCJldmVudFwiIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlVmlld1N0YXRlQ2hhbmdlKHsgdmlld1N0YXRlIH06IHsgdmlld1N0YXRlOiBJbml0aWFsVmlld1N0YXRlUHJvcHMgfSk6IHZvaWQge1xuICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBnZXRWaWV3U3RhdGUodmlld1N0YXRlKTtcblxuICAgICAgU2hpbnkuc2V0SW5wdXRWYWx1ZShgJHt0aGlzLmlkfV92aWV3c3RhdGVgLCBkYXRhLCB7IHByaW9yaXR5OiBcImV2ZW50XCIgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVFZGl0b3JNb2RlQ2hhbmdlKG1vZGU6IFBvbHlnb25FZGl0b3JNb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucG9seWdvbkVkaXRvciA9PSBudWxsKSByZXR1cm47XG5cbiAgICB0aGlzLnJlbmRlclZhbHVlKHtcbiAgICAgIHBvbHlnb25FZGl0b3I6IHsgLi4udGhpcy5wb2x5Z29uRWRpdG9yLCBtb2RlIH0sXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBvbHlnb25DaGFuZ2UoeyB1cGRhdGVkRGF0YSwgZWRpdFR5cGUgfTogRWRpdEFjdGlvbjxGZWF0dXJlQ29sbGVjdGlvbj4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wb2x5Z29uRWRpdG9yID09IG51bGwpIHJldHVybjtcblxuICAgIGNvbnN0IGVkaXRNYXA6IFJlY29yZDxzdHJpbmcsIFBvbHlnb25FZGl0b3JNb2RlPiA9IHtcbiAgICAgIGFkZEZlYXR1cmU6IFwibW9kaWZ5XCIsXG4gICAgICBkZWxldGVGZWF0dXJlOiBcInZpZXdcIixcbiAgICB9O1xuXG4gICAgY29uc3QgbW9kZSA9IGVkaXRNYXBbZWRpdFR5cGVdID8/IHRoaXMucG9seWdvbkVkaXRvci5tb2RlO1xuXG4gICAgdGhpcy5yZW5kZXJWYWx1ZSh7XG4gICAgICBwb2x5Z29uRWRpdG9yOiB7IC4uLnRoaXMucG9seWdvbkVkaXRvciwgbW9kZSwgcG9seWdvbjogdXBkYXRlZERhdGEgfSxcbiAgICB9KTtcblxuICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gcGFyc2UgdGhlIGpzb24gd2l0aCBnZW9qc29uc2ZcbiAgICAgIFNoaW55LnNldElucHV0VmFsdWUoYCR7dGhpcy5pZH1fZWRpdGVkcG9seWdvbmAsIHsgcG9seWdvbjogSlNPTi5zdHJpbmdpZnkodXBkYXRlZERhdGEpIH0pO1xuICAgIH1cbiAgfVxufVxuXG50eXBlIFdpZGdldENvbnRhaW5lciA9IEhUTUxFbGVtZW50ICYgeyBodG1sd2lkZ2V0X2RhdGFfaW5pdF9yZXN1bHQ6IFdpZGdldCB9O1xuXG4vKipcbiAqIEdldCBhbiByZGVjayB3aWRnZXQgaW5zdGFuY2UgYnkgaWRcbiAqIEBwYXJhbSBpZCB0aGUgd2lkZ2V0IGlkXG4gKiBAcmV0dXJucyB7V2lkZ2V0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0QnlJZChpZDogc3RyaW5nKTogV2lkZ2V0IHwgbnVsbCB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgYXMgV2lkZ2V0Q29udGFpbmVyIHwgbnVsbDtcbiAgcmV0dXJuIGVsZW1lbnQ/Lmh0bWx3aWRnZXRfZGF0YV9pbml0X3Jlc3VsdCA/PyBudWxsO1xufVxuXG4vKipcbiAqIEdldCBhbGwgcmRlY2sgd2lkZ2V0IGluc3RhbmNlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0cygpOiBXaWRnZXRbXSB7XG4gIGNvbnN0IGVsZW1lbnRzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmRlY2suaHRtbC13aWRnZXRcIildIGFzIFdpZGdldENvbnRhaW5lcltdO1xuICByZXR1cm4gZWxlbWVudHMubWFwKCh4KSA9PiB4Lmh0bWx3aWRnZXRfZGF0YV9pbml0X3Jlc3VsdCkuZmlsdGVyKCh4KSA9PiB4IGluc3RhbmNlb2YgV2lkZ2V0KTtcbn1cblxuLyogcmVnaXN0ZXIgd2lkZ2V0ICovXG5IVE1MV2lkZ2V0cy53aWRnZXQoYmluZGluZyk7XG4iLCJpbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmZyb20tZW50cmllc1wiO1xuXG5kZWNsYXJlIGNvbnN0IF9fVkVSU0lPTl9fOiBzdHJpbmc7XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gX19WRVJTSU9OX187XG5leHBvcnQgKiBmcm9tIFwiLi93aWRnZXRcIjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0NDcyOiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtyZGVja1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtyZGVja1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzQ4Niw0NzQsNjE5LDMxNSw1NjgsNjI3LDE3NSw5NzcsODExLDQyLDg5OSw2NjcsMzI0LDEzNCwxMzMsNDY4LDc0NSw1MzUsNTI4LDc4NCw0ODUsMzc4LDY0NSw3ODMsMzk0LDgxNiw2NTAsODY5LDcwNiw4MzYsNDU4LDc2OSw2Nyw4MDYsNTUxLDI4Miw5NTMsNTM4LDQ5LDg0NCw2MzksODI1LDU5Nl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDQxMTgpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsImRlZmVycmVkIiwibGVhZlByb3RvdHlwZXMiLCJnZXRQcm90byIsIkRFRkFVTFRfQ09MT1IiLCJyZ2JhIiwiciIsImciLCJiIiwiYSIsInBhcnNlQ29sb3IiLCJjb2xvciIsInRhcmdldCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInZhbHVlIiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJNYXRoIiwiZmxvb3IiLCJwYXJzZUhleENvbG9yIiwiaXNBY2Nlc3NvciIsIm9iaiIsInR5cGUiLCJpc0FjY2Vzc29yU2NhbGUiLCJCTEVORElOR19NT0RFUyIsIk9iamVjdCIsImZyZWV6ZSIsImFkZGl0aXZlIiwiYmxlbmRGdW5jIiwiYmxlbmRFcXVhdGlvbiIsInN1YnRyYWN0aXZlIiwibm9ybWFsIiwiYmxlbmRpbmdQYXJhbWV0ZXJzIiwibW9kZSIsImlzRGF0YUZyYW1lIiwiZGF0YSIsImZsYXR0ZW4iLCJuYW1lIiwib2xkRnJhbWUiLCJmcmFtZSIsIm5ld0ZyYW1lIiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwia2V5Iiwia2V5cyIsImZpbHRlciIsImdlb21ldHJpZXMiLCJpc011bHRpR2VvbWV0cnkiLCJpc011bHRpUG9pbnQiLCJpc011bHRpTGluZVN0cmluZyIsImlzTXVsdGlQb2x5Z29uIiwiVHlwZUVycm9yIiwiaXNNdWx0aUdlb21ldHJ5Rm4iLCJjb3B5VmFsdWVzIiwiaW5kZXgiLCJwdXNoIiwiaW5kaWNlcyIsImdlb21ldHJ5IiwicmVwIiwicmVwbGFjZSIsIk11bHRpSGlnaGxpZ2h0RXh0ZW5zaW9uIiwiaW5pdGlhbGl6ZVN0YXRlIiwibGF5ZXIiLCJMYXllcnMiLCJzb21lIiwiTGF5ZXIiLCJpc1ByaW1pdGl2ZUxheWVyIiwidGhpcyIsImF0dHJpYnV0ZU1hbmFnZXIiLCJnZXRBdHRyaWJ1dGVNYW5hZ2VyIiwiYWRkSW5zdGFuY2VkIiwicGlja2luZ0NvbG9ycyIsInNpemUiLCJhY2Nlc3NvciIsIm9iamVjdCIsImVuY29kZVBpY2tpbmdDb2xvciIsImluZGV4T2YiLCJwYXJlbnREYXRhIiwiX19zb3VyY2UiLCJwYXJlbnQiLCJwcm9wcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJkaXZpc29yIiwiaW5zdGFuY2VQaWNraW5nQ29sb3JzIiwicGljayIsImZpbmRWaXNpYmxlQW5jZXN0b3IiLCJlbCIsImNsaWVudEhlaWdodCIsInBhcmVudEVsZW1lbnQiLCJnZXRFbGVtZW50U2l6ZSIsInZpc2libGUiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhc3NpZ24iLCJzdHlsZSIsImRpc3BsYXkiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwiZ3JvdXBCeSIsImxpc3QiLCJNYXAiLCJpdGVtIiwiaXRlbUtleSIsImhhcyIsImdldCIsInNldCIsImNsYXNzTmFtZXMiLCJ4Iiwiam9pbiIsImRlYm91bmNlIiwiZm4iLCJ3YWl0IiwidGltZW91dCIsImFyZ3MiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiTWFwQ2FjaGUiLCJfdmFsIiwiX3JlZiIsIldlYWtNYXAiLCJnZXRTdG9yZSIsIm1lbW9pemUiLCJhcmcwIiwiY2FjaGUiLCJzbGljZSIsInJlZHVjZVJpZ2h0IiwiYXJnIiwiY2hpbGQiLCJtdWx0aUdlb21ldHJpZXMiLCJ0ZXN0IiwiZ2V0TXVsdGlHZW9tZXRyeSIsInJlZHVjZSIsImdldERhdGEiLCJjb2wiLCJkYXRhVHlwZSIsInRhYmxlSGlnaGxpZ2h0Iiwib2JqZWN0SGlnaGxpZ2h0IiwicHJvcGVydGllcyIsImdlb2pzb25IaWdobGlnaHQiLCJlbmRzV2l0aCIsIl8iLCJ0YWJsZUNvbG9yIiwib2JqZWN0Q29sb3IiLCJnZW9qc29uQ29sb3IiLCJ0YWJsZURhdGEiLCJvYmplY3REYXRhIiwiZ2VvanNvbkRhdGEiLCJhY2Nlc3NvckZuIiwicmFuZ2UiLCJwYWxldHRlIiwidW5rbm93biIsInNjYWxlRGF0YSIsInNjYWxlIiwiZG9tYWluIiwiY2xhbXAiLCJleHBvbmVudCIsImJhc2UiLCJzY2FsZUZuIiwiaGlnaGxpZ2h0Rm4iLCJjb25zdHJ1Y3RvciIsImNvbG9ycyIsImlzQ29sb3IiLCJjb2xvclJhbmdlIiwiZmluZCIsImdldENvbG9ycyIsImFjY2Vzc29ycyIsImdldEFjY2Vzc29ycyIsIl9wcm9wcyIsImdldFdlaWdodFByb3BzIiwiZ2V0VXBkYXRlVHJpZ2dlcnMiLCJwYXJhbWV0ZXJzIiwiYmxlbmRpbmdNb2RlIiwiZXh0ZW5zaW9ucyIsInJlbmRlclN1YkxheWVycyIsImJib3giLCJ3ZXN0Iiwic291dGgiLCJlYXN0Iiwibm9ydGgiLCJ5IiwieiIsInRpbGUiLCJpbWFnZSIsImJvdW5kcyIsInNjYWxlcyIsImZvbnRzIiwibG9hZCIsImZvbnRGYW1pbHkiLCJzdGF0aWMiLCJyZW5kZXJMYXllciIsInRpbWUiLCJ1bmRlZmluZWQiLCJsb29wTGVuZ3RoIiwiYW5pbWF0aW9uU3BlZWQiLCJhbmltYXRpb25UaW1lIiwicmF0aW9Db21wbGV0ZSIsImN1cnJlbnRUaW1lIiwicmVuZGVyTGVnZW5kIiwibGVnZW5kIiwiaWQiLCJyZW5kZXJTZWxlY3RvciIsImdyb3VwTmFtZSIsInNjYWxlUHJvcHMiLCJwcm9wVHJpZ2dlcnMiLCJEZWNrIiwic2V0UHJvcHMiLCJpbml0aWFsQm91bmRzIiwicHJldkJvdW5kcyIsImV2ZXJ5IiwiY29vcmQiLCJ4bWluIiwieW1pbiIsInhtYXgiLCJ5bWF4IiwibWF4IiwibWluIiwiX3NldENhbnZhc1NpemUiLCJfZ2V0TWFwU2l6ZSIsImluaXRpYWxWaWV3U3RhdGUiLCJiZWFyaW5nIiwicGl0Y2giLCJzdXBlciIsImNhbnZhcyIsImNsb3Nlc3QiLCJkZWZhdWx0UHJvcHMiLCJMSUdIVF9CTFVFIiwiTElORV9DT0xPUiIsIkZJTExfQ09MT1IiLCJFZGl0YWJsZUxheWVyIiwiYWRkaXRpb25hbFByb3BzIiwib25FZGl0IiwiZ2V0UHJvcCIsIm9uQ2hhbmdlIiwiaGFuZGxlRWRpdCIsInNlbGVjdGVkRmVhdHVyZUluZGV4ZXMiLCJwaWNraW5nRGVwdGgiLCJtb2RlQ29uZmlnIiwic2NyZWVuU3BhY2UiLCJ2aWV3cG9ydCIsImdldFJhZGl1cyIsImdldExpbmVXaWR0aCIsImdldFRlbnRhdGl2ZUxpbmVXaWR0aCIsImdldExpbmVDb2xvciIsImdldFRlbnRhdGl2ZUxpbmVDb2xvciIsImdldEVkaXRIYW5kbGVQb2ludE91dGxpbmVDb2xvciIsImdldEZpbGxDb2xvciIsImdldFRlbnRhdGl2ZUZpbGxDb2xvciIsImdldEVkaXRIYW5kbGVQb2ludENvbG9yIiwiZ2V0RGFzaEFycmF5IiwiZGFzaCIsIkNIQU5HRV9FVkVOVFMiLCJ1cGRhdGVkRGF0YSIsImVkaXRUeXBlIiwiZWRpdENvbnRleHQiLCJmZWF0dXJlcyIsImluY2x1ZGVzIiwicCIsInJldmVyc2UiLCJFRElUT1JfTU9ERVMiLCJzZWFsIiwidmlldyIsIlZpZXdNb2RlIiwibW9kaWZ5IiwiQ29tcG9zaXRlTW9kZSIsIlRyYW5zbGF0ZU1vZGUiLCJNb2RpZnlNb2RlIiwicG9seWdvbiIsIkRyYXdQb2x5Z29uTW9kZSIsImxhc3NvIiwiRHJhd1BvbHlnb25CeURyYWdnaW5nTW9kZSIsIm5lYnVsYU1vZGUiLCJGRUFUVVJFX0lEIiwiZ2V0UGlja2VkT2JqZWN0IiwiaW5mbyIsInBpY2tlZCIsImlzR2VvanNvbiIsImdldERhdGFUeXBlIiwiZ2VvbXMiLCJUb29sdGlwIiwidG9vbHRpcCIsIm5hbWVzIiwiY29scyIsImNsYXNzTmFtZSIsInRyYW5zZm9ybSIsIlN0cmluZyIsImxheWVycyIsInBvbHlnb25FZGl0b3IiLCJkZWNrZ2wiLCJ1c2VSZWYiLCJoYW5kbGVIb3ZlciIsInVzZUhvdmVyIiwibWFwYm94QWNjZXNzVG9rZW4iLCJtYXBTdHlsZSIsImNvbnRyb2xsZXIiLCJkZWNrUHJvcHMiLCJfcGFyYW1ldGVycyIsInNldFRpbWUiLCJ1c2VTdGF0ZSIsImFuaW1hdGluZyIsInVzZUFuaW1hdGlvbiIsIl9sYXllcnMiLCJlZGl0YWJsZUxheWVyIiwib25Qb2x5Z29uQ2hhbmdlIiwiZmlsbGVkIiwicmVuZGVyRWRpdGFibGVMYXllciIsIkZyYWdtZW50IiwicmVmIiwib25Ib3ZlciIsInJlcGVhdCIsInJldXNlTWFwcyIsInN0YXRlIiwic2V0U3RhdGUiLCJ1c2VDYWxsYmFjayIsImVuYWJsZWQiLCJvbkZyYW1lIiwiYW5pbWF0aW9uIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsImFuaW1hdGUiLCJjdXJyZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidXNlRWZmZWN0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJOT19HUk9VUCIsIlRvZ2dsZUJ1dHRvbiIsIm9uQ2xpY2siLCJjaGlsZHJlbiIsInRpdGxlIiwiTGF5ZXJTZWxlY3RvciIsIm9uVmlzaWJpbGl0eUNoYW5nZSIsImdyb3VwcyIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJjaGFuZ2VkIiwiZm9jdXMiLCJub25Gb2N1cyIsImlzT3BlbiIsInNldElzT3BlbiIsImhhbmRsZU9wZW5DaGFuZ2UiLCJmb250U2l6ZSIsImZyb20iLCJncm91cCIsIkNoZWNrYm94R3JvdXAiLCJjaGVja2JveGVzIiwiQ2hlY2tib3giLCJjaGVja2VkIiwiaXNWaXNpYmxlIiwiaW5kZXRlcm1pbmF0ZSIsImlucHV0UmVmIiwiY2FuY2VsIiwiQ2hlY2tCb3hJY29uIiwiQ2hlY2tCb3giLCJJbmRldGVybWluYXRlQ2hlY2tCb3giLCJDaGVja0JveE91dGxpbmVCbGFuayIsImNsYXNzZXMiLCJkZWxheSIsIm9uVGltZW91dCIsInJhZiIsImxvb3AiLCJ0aW1lc3RhbXAiLCJnbG9iYWxUaGlzIiwiVElDS19IRUlHSFQiLCJMZWdlbmQiLCJTY2FsZSIsInNjYWxlTmFtZSIsInRvTG93ZXJDYXNlIiwiaXNDb250aW51b3VzIiwiaXNDb250aW51b3VzU2NhbGUiLCJpc0Rpc2NyZXRlIiwiaXNEaXNjcmV0ZVNjYWxlIiwic2NhbGVCeSIsIkNvbnRpbnVvdXMiLCJEaXNjcmV0ZSIsIkNhdGVnb3J5IiwidGlja3MiLCJsaW5lcyIsImdyYWRpZW50SGVpZ2h0Iiwic2hhcGVSZW5kZXJpbmciLCJocmVmIiwiZ2V0Q29sb3JHcmFkaWVudCIsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJ4MiIsInkxIiwieTIiLCJUaWNrcyIsImZpbGwiLCJ1bmtub3duVGljayIsIl9yYW5nZSIsIl90aWNrcyIsInRpY2siLCJkeSIsIm4iLCJpbnZlcnQiLCJjb3B5IiwiY29udGV4dCIsImdldENvbnRleHQiLCJpIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJ0b0RhdGFVUkwiLCJub29wIiwiUG9seWdvbkVkaXRvciIsIm9uTW9kZUNoYW5nZSIsIkVkaXRvckJ1dHRvbiIsImljb24iLCJQYW5Ub29sIiwiYWN0aXZlIiwiZGlzYWJsZWQiLCJoYXNGZWF0dXJlcyIsIkRlbGV0ZSIsImZlYXR1cmVJbmRleGVzIiwiaWNvblN0eWxlIiwiYnV0dG9uQ2xhc3MiLCJTdmdJY29uIiwiY29tcG9uZW50IiwiZmVhdHVyZUNvbGxlY3Rpb24iLCJSRGVjayIsInRoZW1lIiwibGF6eUxvYWQiLCJsYXllclNlbGVjdG9yIiwib25MYXllclZpc2liaWxpdHlDaGFuZ2UiLCJjcmVhdGUiLCJjb250YWluZXIiLCJpblZpZXdwb3J0Iiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImlzSW50ZXJzZWN0aW5nIiwidGhyZXNob2xkIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJ1c2VJblZpZXdwb3J0Iiwic2hvdWxkUmVuZGVyIiwidmlzaWJpbGl0eVRvZ2dsZSIsImdldFZpZXdTdGF0ZSIsInZpZXdTdGF0ZSIsImdldEJvdW5kcyIsImNlbnRlciIsInVucHJvamVjdEZsYXQiLCJiaW5kaW5nIiwiV2lkZ2V0IiwiaGFuZGxlQ2xpY2siLCJiaW5kIiwiaGFuZGxlVmlld1N0YXRlQ2hhbmdlIiwiaGFuZGxlUG9seWdvbkNoYW5nZSIsImhhbmRsZUVkaXRvck1vZGVDaGFuZ2UiLCJzZXRMYXllclZpc2liaWxpdHkiLCJIVE1MV2lkZ2V0cyIsInNoaW55TW9kZSIsInJlbmRlciIsInJlbmRlclZhbHVlIiwiU2hpbnkiLCJhZGRDdXN0b21NZXNzYWdlSGFuZGxlciIsIl9sYXllciIsIm1lcmdlZCIsIm9uVmlld1N0YXRlQ2hhbmdlIiwicmVzaXplIiwibGF5ZXJWaXNpYmxpdHkiLCJuYW1lRXF1YWwiLCJncm91cEVxdWFsIiwiaXNNYXRjaCIsImNvb3JkaW5hdGUiLCJzZXRJbnB1dFZhbHVlIiwicHJpb3JpdHkiLCJhZGRGZWF0dXJlIiwiZGVsZXRlRmVhdHVyZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRXaWRnZXRCeUlkIiwiZWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiaHRtbHdpZGdldF9kYXRhX2luaXRfcmVzdWx0IiwiZ2V0V2lkZ2V0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3aWRnZXQiLCJWRVJTSU9OIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJtIiwiTyIsInJlc3VsdCIsImNodW5rSWRzIiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJqIiwic3BsaWNlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJnZXRQcm90b3R5cGVPZiIsInQiLCJ0aGVuIiwibnMiLCJkZWYiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZm9yRWFjaCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiRnVuY3Rpb24iLCJlIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9