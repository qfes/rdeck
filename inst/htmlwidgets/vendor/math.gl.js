"use strict";(self.webpackChunkrdeck=self.webpackChunkrdeck||[]).push([[627],{6357:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(4034),i=r(394);class s extends(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Array)){get ELEMENTS(){return(0,i.Z)(!1),0}clone(){return(new this.constructor).copy(this)}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}fromArray(t,e=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}to(t){return t===this?this:(0,n.kJ)(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toArray(t=[],e=0){for(let r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(n.vc)}formatString(t){let e="";for(let r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+(0,n.Bw)(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!(0,n.fS)(this[e],t[e]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,e,r){void 0===r&&(r=e,e=t,t=this);for(let n=0;n<this.ELEMENTS;++n){const i=t[n];this[n]=i+r*(e[n]-i)}return this.check()}min(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}max(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}clamp(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}add(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=e[t];return this.check()}subtract(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=e[t];return this.check()}scale(t){if(Array.isArray(t))return this.multiply(t);for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}sub(t){return this.subtract(t)}setScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}addScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}divideScalar(t){return this.scale(1/t)}clampScalar(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}multiplyByScalar(t){return this.scale(t)}get elements(){return this}check(){if(n.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}}},1e3:(t,e,r)=>{r.d(e,{Z:()=>h});var n=r(6357),i=r(6281),s=r(4034),a=r(394);class h extends n.Z{get ELEMENTS(){return(0,a.Z)(!1),0}get RANK(){return(0,a.Z)(!1),0}toString(){let t="[";if(s.vc.printRowMajor){t+="row-major:";for(let e=0;e<this.RANK;++e)for(let r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+e])}else{t+="column-major:";for(let e=0;e<this.ELEMENTS;++e)t+=" ".concat(this[e])}return t+="]",t}getElementIndex(t,e){return e*this.RANK+t}getElement(t,e){return this[e*this.RANK+t]}setElement(t,e,r){return this[e*this.RANK+t]=(0,i.u5)(r),this}getColumn(t,e=new Array(this.RANK).fill(-0)){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)e[t]=this[r+t];return e}setColumn(t,e){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)this[r+t]=e[t];return this}}},2678:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(6357),i=r(6281),s=r(394);class a extends n.Z{get ELEMENTS(){return(0,s.Z)(!1),0}copy(t){return(0,s.Z)(!1),this}get x(){return this[0]}set x(t){this[0]=(0,i.u5)(t)}get y(){return this[1]}set y(t){this[1]=(0,i.u5)(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let e=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-t[r];e+=n*n}return(0,i.u5)(e)}dot(t){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return(0,i.u5)(e)}normalize(){const t=this.magnitude();if(0!==t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}multiply(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e[t];return this.check()}divide(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return(0,s.Z)(t>=0&&t<this.ELEMENTS,"index is out of range"),(0,i.u5)(this[t])}setComponent(t,e){return(0,s.Z)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}addVectors(t,e){return this.copy(t).add(e)}subVectors(t,e){return this.copy(t).subtract(e)}multiplyVectors(t,e){return this.copy(t).multiply(e)}addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}},540:(t,e,r)=>{r.d(e,{Z:()=>d});var n=r(1e3),i=r(6281),s=r(1031),a=r(2125),h=r(4219),o=r(7964);const u=Object.freeze([1,0,0,0,1,0,0,0,1]),c=Object.freeze([0,0,0,0,0,0,0,0,0]),l=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),f={};class d extends n.Z{static get IDENTITY(){return f.IDENTITY=f.IDENTITY||Object.freeze(new d(u)),f.IDENTITY}static get ZERO(){return f.ZERO=f.ZERO||Object.freeze(new d(c)),f.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return l}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}set(t,e,r,n,i,s,a,h,o){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=i,this[5]=s,this[6]=a,this[7]=h,this[8]=o,this.check()}setRowMajor(t,e,r,n,i,s,a,h,o){return this[0]=t,this[1]=n,this[2]=a,this[3]=e,this[4]=i,this[5]=h,this[6]=r,this[7]=s,this[8]=o,this.check()}determinant(){return a.GH(this)}identity(){return this.copy(u)}fromQuaternion(t){return a.en(this,t),this.check()}transpose(){return a.p4(this,this),this.check()}invert(){return a.U_(this,this),this.check()}multiplyLeft(t){return a.Jp(this,t,this),this.check()}multiplyRight(t){return a.Jp(this,this,t),this.check()}rotate(t){return a.U1(this,this,t),this.check()}scale(t){return Array.isArray(t)?a.bA(this,this,t):a.bA(this,this,[t,t,t]),this.check()}translate(t){return a.Iu(this,this,t),this.check()}transform(t,e){switch(t.length){case 2:e=h.kK(e||[-0,-0],t,this);break;case 3:e=o.kK(e||[-0,-0,-0],t,this);break;case 4:e=(0,s._x)(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,i.IL)(e,t.length),e}transformVector(t,e){return(0,i.x9)("Matrix3.transformVector"),this.transform(t,e)}transformVector2(t,e){return(0,i.x9)("Matrix3.transformVector"),this.transform(t,e)}transformVector3(t,e){return(0,i.x9)("Matrix3.transformVector"),this.transform(t,e)}}},3467:(t,e,r)=>{r.d(e,{Z:()=>p});var n=r(6281),i=r(1e3),s=r(1031),a=r(473);function h(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],h=e[4],o=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],m=e[11],M=e[12],p=e[13],x=e[14],y=e[15],g=r[0],b=r[1],w=r[2],E=r[3];return t[0]=g*n+b*h+w*l+E*M,t[1]=g*i+b*o+w*f+E*p,t[2]=g*s+b*u+w*d+E*x,t[3]=g*a+b*c+w*m+E*y,g=r[4],b=r[5],w=r[6],E=r[7],t[4]=g*n+b*h+w*l+E*M,t[5]=g*i+b*o+w*f+E*p,t[6]=g*s+b*u+w*d+E*x,t[7]=g*a+b*c+w*m+E*y,g=r[8],b=r[9],w=r[10],E=r[11],t[8]=g*n+b*h+w*l+E*M,t[9]=g*i+b*o+w*f+E*p,t[10]=g*s+b*u+w*d+E*x,t[11]=g*a+b*c+w*m+E*y,g=r[12],b=r[13],w=r[14],E=r[15],t[12]=g*n+b*h+w*l+E*M,t[13]=g*i+b*o+w*f+E*p,t[14]=g*s+b*u+w*d+E*x,t[15]=g*a+b*c+w*m+E*y,t}function o(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var u=r(4219),c=r(7964),l=r(2493);const f=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),d=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),m=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),M={};class p extends i.Z{static get IDENTITY(){return M.IDENTITY=M.IDENTITY||Object.freeze(new p(f)),M.IDENTITY}static get ZERO(){return M.ZERO=M.ZERO||Object.freeze(new p(d)),M.ZERO}get INDICES(){return m}get ELEMENTS(){return 16}get RANK(){return 4}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,e,r,n,i,s,a,h,o,u,c,l,f,d,m,M){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=i,this[5]=s,this[6]=a,this[7]=h,this[8]=o,this[9]=u,this[10]=c,this[11]=l,this[12]=f,this[13]=d,this[14]=m,this[15]=M,this.check()}setRowMajor(t,e,r,n,i,s,a,h,o,u,c,l,f,d,m,M){return this[0]=t,this[1]=i,this[2]=o,this[3]=f,this[4]=e,this[5]=s,this[6]=u,this[7]=d,this[8]=r,this[9]=a,this[10]=c,this[11]=m,this[12]=n,this[13]=h,this[14]=l,this[15]=M,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(f)}fromQuaternion(t){return function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r+r,h=n+n,o=i+i,u=r*a,c=n*a,l=n*h,f=i*a,d=i*h,m=i*o,M=s*a,p=s*h,x=s*o;t[0]=1-l-m,t[1]=c+x,t[2]=f-p,t[3]=0,t[4]=c-x,t[5]=1-u-m,t[6]=d+M,t[7]=0,t[8]=f+p,t[9]=d-M,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,t),this.check()}frustum({left:t,right:e,bottom:r,top:n,near:i,far:s}){return s===1/0?p._computeInfinitePerspectiveOffCenter(this,t,e,r,n,i):function(t,e,r,n,i,s,a){var h=1/(r-e),o=1/(i-n),u=1/(s-a);t[0]=2*s*h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*o,t[6]=0,t[7]=0,t[8]=(r+e)*h,t[9]=(i+n)*o,t[10]=(a+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*u,t[15]=0}(this,t,e,r,n,i,s),this.check()}static _computeInfinitePerspectiveOffCenter(t,e,r,n,i,s){const a=2*s/(r-e),h=2*s/(i-n),o=(r+e)/(r-e),u=(i+n)/(i-n),c=-2*s;return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=o,t[9]=u,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=c,t[15]=0,t}lookAt(t,e,r){return 1===arguments.length&&({eye:t,center:e,up:r}=t),function(t,e,r,n){var i,s,h,o,u,c,l,f,d,m,M=e[0],p=e[1],x=e[2],y=n[0],g=n[1],b=n[2],w=r[0],E=r[1],v=r[2];Math.abs(M-w)<a.Ib&&Math.abs(p-E)<a.Ib&&Math.abs(x-v)<a.Ib?function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(t):(l=M-w,f=p-E,d=x-v,i=g*(d*=m=1/Math.hypot(l,f,d))-b*(f*=m),s=b*(l*=m)-y*d,h=y*f-g*l,(m=Math.hypot(i,s,h))?(i*=m=1/m,s*=m,h*=m):(i=0,s=0,h=0),o=f*h-d*s,u=d*i-l*h,c=l*s-f*i,(m=Math.hypot(o,u,c))?(o*=m=1/m,u*=m,c*=m):(o=0,u=0,c=0),t[0]=i,t[1]=o,t[2]=l,t[3]=0,t[4]=s,t[5]=u,t[6]=f,t[7]=0,t[8]=h,t[9]=c,t[10]=d,t[11]=0,t[12]=-(i*M+s*p+h*x),t[13]=-(o*M+u*p+c*x),t[14]=-(l*M+f*p+d*x),t[15]=1)}(this,t,e=e||[0,0,0],r=r||[0,1,0]),this.check()}ortho({left:t,right:e,bottom:r,top:n,near:i=.1,far:s=500}){return function(t,e,r,n,i,s,a){var h=1/(e-r),o=1/(n-i),u=1/(s-a);t[0]=-2*h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*h,t[13]=(i+n)*o,t[14]=(a+s)*u,t[15]=1}(this,t,e,r,n,i,s),this.check()}orthographic({fovy:t=45*Math.PI/180,aspect:e=1,focalDistance:r=1,near:n=.1,far:i=500}){if(t>2*Math.PI)throw Error("radians");const s=t/2,a=r*Math.tan(s),h=a*e;return(new p).ortho({left:-h,right:h,bottom:-a,top:a,near:n,far:i})}perspective({fovy:t,fov:e=45*Math.PI/180,aspect:r=1,near:n=.1,far:i=500}={}){if((t=t||e)>2*Math.PI)throw Error("radians");return function(t,e,r,n,i){var s,a=1/Math.tan(e/2);t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(n-i),t[10]=(i+n)*s,t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n)}(this,t,r,n,i),this.check()}determinant(){return e=(t=this)[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],h=t[6],o=t[7],u=t[8],c=t[9],l=t[10],f=t[11],d=t[12],m=t[13],M=t[14],p=t[15],(e*a-r*s)*(l*p-f*M)-(e*h-n*s)*(c*p-f*m)+(e*o-i*s)*(c*M-l*m)+(r*h-n*a)*(u*p-f*d)-(r*o-i*a)*(u*M-l*d)+(n*o-i*h)*(u*m-c*d);var t,e,r,n,i,s,a,h,o,u,c,l,f,d,m,M,p}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=null){const r=this.getScale(e||[-0,-0,-0]),n=1/r[0],i=1/r[1],s=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*s,t[3]=0,t[4]=this[4]*n,t[5]=this[5]*i,t[6]=this[6]*s,t[7]=0,t[8]=this[8]*n,t[9]=this[9]*i,t[10]=this[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=null){const r=this.getScale(e||[-0,-0,-0]),n=1/r[0],i=1/r[1],s=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*s,t[3]=this[4]*n,t[4]=this[5]*i,t[5]=this[6]*s,t[6]=this[8]*n,t[7]=this[9]*i,t[8]=this[10]*s,t}transpose(){return function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],s=e[6],a=e[7],h=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=i,t[13]=a,t[14]=h}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15]}(this,this),this.check()}invert(){var t,e,r,n,i,s,a,h,o,u,c,l,f,d,m,M,p,x,y,g,b,w,E,v,Z,S,I,N,O,A,T;return t=this,r=(e=this)[0],n=e[1],i=e[2],s=e[3],a=e[4],h=e[5],o=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],m=e[12],M=e[13],p=e[14],x=e[15],(T=(y=r*h-n*a)*(A=f*x-d*p)-(g=r*o-i*a)*(O=l*x-d*M)+(b=r*u-s*a)*(N=l*p-f*M)+(w=n*o-i*h)*(I=c*x-d*m)-(E=n*u-s*h)*(S=c*p-f*m)+(v=i*u-s*o)*(Z=c*M-l*m))&&(T=1/T,t[0]=(h*A-o*O+u*N)*T,t[1]=(i*O-n*A-s*N)*T,t[2]=(M*v-p*E+x*w)*T,t[3]=(f*E-l*v-d*w)*T,t[4]=(o*I-a*A-u*S)*T,t[5]=(r*A-i*I+s*S)*T,t[6]=(p*b-m*v-x*g)*T,t[7]=(c*v-f*b+d*g)*T,t[8]=(a*O-h*I+u*Z)*T,t[9]=(n*I-r*O-s*Z)*T,t[10]=(m*E-M*b+x*y)*T,t[11]=(l*b-c*E-d*y)*T,t[12]=(h*S-a*N-o*Z)*T,t[13]=(r*N-n*S+i*Z)*T,t[14]=(M*g-m*w-p*y)*T,t[15]=(c*w-l*g+f*y)*T),this.check()}multiplyLeft(t){return h(this,t,this),this.check()}multiplyRight(t){return h(this,this,t),this.check()}rotateX(t){var e,r,n,i,s,a,h,o,u,c,l,f,d;return e=this,r=this,n=t,i=Math.sin(n),s=Math.cos(n),a=r[4],h=r[5],o=r[6],u=r[7],c=r[8],l=r[9],f=r[10],d=r[11],r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=a*s+c*i,e[5]=h*s+l*i,e[6]=o*s+f*i,e[7]=u*s+d*i,e[8]=c*s-a*i,e[9]=l*s-h*i,e[10]=f*s-o*i,e[11]=d*s-u*i,this.check()}rotateY(t){var e,r,n,i,s,a,h,o,u,c,l,f,d;return e=this,r=this,n=t,i=Math.sin(n),s=Math.cos(n),a=r[0],h=r[1],o=r[2],u=r[3],c=r[8],l=r[9],f=r[10],d=r[11],r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=a*s-c*i,e[1]=h*s-l*i,e[2]=o*s-f*i,e[3]=u*s-d*i,e[8]=a*i+c*s,e[9]=h*i+l*s,e[10]=o*i+f*s,e[11]=u*i+d*s,this.check()}rotateZ(t){var e,r,n,i,s,a,h,o,u,c,l,f,d;return e=this,r=this,n=t,i=Math.sin(n),s=Math.cos(n),a=r[0],h=r[1],o=r[2],u=r[3],c=r[4],l=r[5],f=r[6],d=r[7],r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=a*s+c*i,e[1]=h*s+l*i,e[2]=o*s+f*i,e[3]=u*s+d*i,e[4]=c*s-a*i,e[5]=l*s-h*i,e[6]=f*s-o*i,e[7]=d*s-u*i,this.check()}rotateXYZ([t,e,r]){return this.rotateX(t).rotateY(e).rotateZ(r)}rotateAxis(t,e){return function(t,e,r,n){var i,s,h,o,u,c,l,f,d,m,M,p,x,y,g,b,w,E,v,Z,S,I,N,O,A=n[0],T=n[1],k=n[2],L=Math.hypot(A,T,k);L<a.Ib||(A*=L=1/L,T*=L,k*=L,i=Math.sin(r),h=1-(s=Math.cos(r)),o=e[0],u=e[1],c=e[2],l=e[3],f=e[4],d=e[5],m=e[6],M=e[7],p=e[8],x=e[9],y=e[10],g=e[11],b=A*A*h+s,w=T*A*h+k*i,E=k*A*h-T*i,v=A*T*h-k*i,Z=T*T*h+s,S=k*T*h+A*i,I=A*k*h+T*i,N=T*k*h-A*i,O=k*k*h+s,t[0]=o*b+f*w+p*E,t[1]=u*b+d*w+x*E,t[2]=c*b+m*w+y*E,t[3]=l*b+M*w+g*E,t[4]=o*v+f*Z+p*S,t[5]=u*v+d*Z+x*S,t[6]=c*v+m*Z+y*S,t[7]=l*v+M*Z+g*S,t[8]=o*I+f*N+p*O,t[9]=u*I+d*N+x*O,t[10]=c*I+m*N+y*O,t[11]=l*I+M*N+g*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]))}(this,this,t,e),this.check()}scale(t){return Array.isArray(t)?o(this,this,t):o(this,this,[t,t,t]),this.check()}translate(t){var e,r,n,i,s,a,h,o,u,c,l,f,d,m,M,p,x,y;return e=this,r=this,p=(n=t)[0],x=n[1],y=n[2],r===e?(e[12]=r[0]*p+r[4]*x+r[8]*y+r[12],e[13]=r[1]*p+r[5]*x+r[9]*y+r[13],e[14]=r[2]*p+r[6]*x+r[10]*y+r[14],e[15]=r[3]*p+r[7]*x+r[11]*y+r[15]):(i=r[0],s=r[1],a=r[2],h=r[3],o=r[4],u=r[5],c=r[6],l=r[7],f=r[8],d=r[9],m=r[10],M=r[11],e[0]=i,e[1]=s,e[2]=a,e[3]=h,e[4]=o,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=m,e[11]=M,e[12]=i*p+o*x+f*y+r[12],e[13]=s*p+u*x+d*y+r[13],e[14]=a*p+c*x+m*y+r[14],e[15]=h*p+l*x+M*y+r[15]),this.check()}transform(t,e){return 4===t.length?(e=l.fF(e||[-0,-0,-0,-0],t,this),(0,n.IL)(e,4),e):this.transformAsPoint(t,e)}transformAsPoint(t,e){const{length:r}=t;switch(r){case 2:e=u.fF(e||[-0,-0],t,this);break;case 3:e=c.fF(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,n.IL)(e,t.length),e}transformAsVector(t,e){switch(t.length){case 2:e=(0,s.pb)(e||[-0,-0],t,this);break;case 3:e=(0,s.pL)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,n.IL)(e,t.length),e}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,e,r){return this.identity().translate([t,e,r])}transformPoint(t,e){return(0,n.x9)("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,e)}transformVector(t,e){return(0,n.x9)("Matrix4.transformVector","3.0"),this.transformAsPoint(t,e)}transformDirection(t,e){return(0,n.x9)("Matrix4.transformDirection","3.0"),this.transformAsVector(t,e)}}},7696:(t,e,r)=>{r.d(e,{Z:()=>T});var n=r(6357),i=r(6281),s=r(394),a=r(473),h=r(2125),o=r(7964),u=r(2493);function c(){var t=new a.WT(4);return a.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function l(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function f(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],h=r[0],o=r[1],u=r[2],c=r[3];return t[0]=n*c+a*h+i*u-s*o,t[1]=i*c+a*o+s*h-n*u,t[2]=s*c+a*u+n*o-i*h,t[3]=a*c-n*h-i*o-s*u,t}function d(t,e,r,n){var i,s,h,o,u,c=e[0],l=e[1],f=e[2],d=e[3],m=r[0],M=r[1],p=r[2],x=r[3];return(s=c*m+l*M+f*p+d*x)<0&&(s=-s,m=-m,M=-M,p=-p,x=-x),1-s>a.Ib?(i=Math.acos(s),h=Math.sin(i),o=Math.sin((1-n)*i)/h,u=Math.sin(n*i)/h):(o=1-n,u=n),t[0]=o*c+u*m,t[1]=o*l+u*M,t[2]=o*f+u*p,t[3]=o*d+u*x,t}function m(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var s=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*s+s]-e[3*a+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*s+a]-e[3*a+s])*r,t[s]=(e[3*s+i]+e[3*i+s])*r,t[a]=(e[3*a+i]+e[3*i+a])*r}return t}u.d9,u.al,u.JG,u.t8;var M,p,x,y,g,b,w=u.IH,E=u.bA,v=u.AK,Z=u.t7,S=u.kE,I=u.we,N=u.Fv,O=(u.I6,u.fS,M=o.Ue(),p=o.al(1,0,0),x=o.al(0,1,0),function(t,e,r){var n=o.AK(e,r);return n<-.999999?(o.kC(M,p,e),o.Zh(M)<1e-6&&o.kC(M,x,e),o.Fv(M,M),l(t,M,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o.kC(M,e,r),t[0]=M[0],t[1]=M[1],t[2]=M[2],t[3]=1+n,N(t,t))});y=c(),g=c(),b=h.Ue();const A=[0,0,0,1];class T extends n.Z{constructor(t=0,e=0,r=0,n=1){super(-0,-0,-0,-0),Array.isArray(t)&&1===arguments.length?this.copy(t):this.set(t,e,r,n)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,e,r,n){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this.check()}fromMatrix3(t){return m(this,t),this.check()}identity(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}fromAxisRotation(t,e){return l(this,t,e),this.check()}setAxisAngle(t,e){return this.fromAxisRotation(t,e)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=(0,i.u5)(t)}get y(){return this[1]}set y(t){this[1]=(0,i.u5)(t)}get z(){return this[2]}set z(t){this[2]=(0,i.u5)(t)}get w(){return this[3]}set w(t){this[3]=(0,i.u5)(t)}len(){return S(this)}lengthSquared(){return I(this)}dot(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return v(this,t)}rotationTo(t,e){return O(this,t,e),this.check()}add(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return w(this,this,t),this.check()}calculateW(){var t,e,r,n,i;return t=this,r=(e=this)[0],n=e[1],i=e[2],t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),this.check()}conjugate(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}invert(){return function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r*r+n*n+i*i+s*s,h=a?1/a:0;t[0]=-r*h,t[1]=-n*h,t[2]=-i*h,t[3]=s*h}(this,this),this.check()}lerp(t,e,r){return Z(this,t,e,r),this.check()}multiplyRight(t,e){return(0,s.Z)(!e),f(this,this,t),this.check()}multiplyLeft(t,e){return(0,s.Z)(!e),f(this,t,this),this.check()}normalize(){const t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}rotateX(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],h=Math.sin(r),o=Math.cos(r);t[0]=n*o+a*h,t[1]=i*o+s*h,t[2]=s*o-i*h,t[3]=a*o-n*h}(this,this,t),this.check()}rotateY(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],h=Math.sin(r),o=Math.cos(r);t[0]=n*o-s*h,t[1]=i*o+a*h,t[2]=s*o+n*h,t[3]=a*o-i*h}(this,this,t),this.check()}rotateZ(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],h=Math.sin(r),o=Math.cos(r);t[0]=n*o+i*h,t[1]=i*o-n*h,t[2]=s*o+a*h,t[3]=a*o-s*h}(this,this,t),this.check()}scale(t){return E(this,this,t),this.check()}slerp(t,e,r){switch(arguments.length){case 1:({start:t=A,target:e,ratio:r}=arguments[0]);break;case 2:[e,r]=arguments,t=this}return d(this,t,e,r),this.check()}transformVector4(t,e=t){return u.VC(e,t,this),(0,i.IL)(e,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,e){return this.setAxisAngle(t,e)}premultiply(t,e){return this.multiplyLeft(t,e)}multiply(t,e){return this.multiplyRight(t,e)}}},7069:(t,e,r)=>{r.d(e,{Z:()=>o});var n=r(2678),i=r(4034),s=r(6281),a=r(4219),h=r(1031);class o extends n.Z{constructor(t=0,e=0){super(2),(0,i.kJ)(t)&&1===arguments.length?this.copy(t):(i.vc.debug&&((0,s.u5)(t),(0,s.u5)(e)),this[0]=t,this[1]=e)}set(t,e){return this[0]=t,this[1]=e,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this.check()}fromObject(t){return i.vc.debug&&((0,s.u5)(t.x),(0,s.u5)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return a.fF(this,this,t),this.check()}transformAsVector(t){return(0,h.pb)(this,this,t),this.check()}transformByMatrix3(t){return a.kK(this,this,t),this.check()}transformByMatrix2x3(t){return a.iu(this,this,t),this.check()}transformByMatrix2(t){return a.c(this,this,t),this.check()}}},3855:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(2678),i=r(4034),s=r(6281),a=r(7964),h=r(1031);const o=[0,0,0],u={};class c extends n.Z{static get ZERO(){return u.ZERO=u.ZERO||Object.freeze(new c(0,0,0,0))}constructor(t=0,e=0,r=0){super(-0,-0,-0),1===arguments.length&&(0,i.kJ)(t)?this.copy(t):(i.vc.debug&&((0,s.u5)(t),(0,s.u5)(e),(0,s.u5)(r)),this[0]=t,this[1]=e,this[2]=r)}set(t,e,r){return this[0]=t,this[1]=e,this[2]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return i.vc.debug&&((0,s.u5)(t.x),(0,s.u5)(t.y),(0,s.u5)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=(0,s.u5)(t)}angle(t){return a.EU(this,t)}cross(t){return a.kC(this,this,t),this.check()}rotateX({radians:t,origin:e=o}){return a.lM(this,this,e,t),this.check()}rotateY({radians:t,origin:e=o}){return a.uD(this,this,e,t),this.check()}rotateZ({radians:t,origin:e=o}){return a.jI(this,this,e,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return a.fF(this,this,t),this.check()}transformAsVector(t){return(0,h.pL)(this,this,t),this.check()}transformByMatrix3(t){return a.kK(this,this,t),this.check()}transformByMatrix2(t){return(0,h.eQ)(this,this,t),this.check()}transformByQuaternion(t){return a.VC(this,this,t),this.check()}}},394:(t,e,r)=>{function n(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}r.d(e,{Z:()=>n})},4034:(t,e,r)=>{r.d(e,{vc:()=>s,Bw:()=>a,kJ:()=>h,Yr:()=>u,Ux:()=>c,RW:()=>l,uZ:()=>f,t7:()=>d,fS:()=>m});const n=1/Math.PI*180,i=1/180*Math.PI,s={};function a(t,{precision:e=s.precision||4}={}){return t=function(t){return Math.round(t/s.EPSILON)*s.EPSILON}(t),"".concat(parseFloat(t.toPrecision(e)))}function h(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function o(t,e,r){if(h(t)){r=r||((n=t).clone?n.clone():new Array(n.length));for(let n=0;n<r.length&&n<t.length;++n)r[n]=e(t[n],n,r);return r}var n;return e(t)}function u(t){return function(t,e){return o(t,(t=>t*i),e)}(t)}function c(t){return l(t)}function l(t,e){return o(t,(t=>t*n),e)}function f(t,e,r){return o(t,(t=>Math.max(e,Math.min(r,t))))}function d(t,e,r){return h(t)?t.map(((t,n)=>d(t,e[n],r))):r*e+(1-r)*t}function m(t,e,r){const n=s.EPSILON;r&&(s.EPSILON=r);try{if(t===e)return!0;if(h(t)&&h(e)){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!m(t[r],e[r]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):!(!Number.isFinite(t)||!Number.isFinite(e))&&Math.abs(t-e)<=s.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{s.EPSILON=n}}s.EPSILON=1e-12,s.debug=!1,s.precision=4,s.printTypes=!1,s.printDegrees=!1,s.printRowMajor=!0},1031:(t,e,r)=>{function n(t,e,r){const n=e[0],i=e[1],s=r[3]*n+r[7]*i||1;return t[0]=(r[0]*n+r[4]*i)/s,t[1]=(r[1]*n+r[5]*i)/s,t}function i(t,e,r){const n=e[0],i=e[1],s=e[2],a=r[3]*n+r[7]*i+r[11]*s||1;return t[0]=(r[0]*n+r[4]*i+r[8]*s)/a,t[1]=(r[1]*n+r[5]*i+r[9]*s)/a,t[2]=(r[2]*n+r[6]*i+r[10]*s)/a,t}function s(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t[2]=e[2],t}function a(t,e,r){const n=e[0],i=e[1],s=e[2];return t[0]=r[0]*n+r[3]*i+r[6]*s,t[1]=r[1]*n+r[4]*i+r[7]*s,t[2]=r[2]*n+r[5]*i+r[8]*s,t[3]=e[3],t}r.d(e,{pb:()=>n,pL:()=>i,eQ:()=>s,_x:()=>a})},9057:(t,e,r)=>{r.d(e,{Z:()=>n});const n={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},6281:(t,e,r)=>{r.d(e,{u5:()=>i,IL:()=>s,x9:()=>h});var n=r(4034);function i(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function s(t,e,r=""){if(n.vc.debug&&!function(t,e){if(t.length!==e)return!1;for(let e=0;e<t.length;++e)if(!Number.isFinite(t[e]))return!1;return!0}(t,e))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return t}const a={};function h(t,e){a[t]||(a[t]=!0,console.warn("".concat(t," has been removed in version ").concat(e,", see upgrade guide for more information")))}},473:(t,e,r)=>{r.d(e,{Ib:()=>n,WT:()=>i});var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},2125:(t,e,r)=>{r.d(e,{Ue:()=>i,p4:()=>s,U_:()=>a,GH:()=>h,Jp:()=>o,Iu:()=>u,U1:()=>c,bA:()=>l,en:()=>f});var n=r(473);function i(){var t=new n.WT(9);return n.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function s(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function a(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],h=e[5],o=e[6],u=e[7],c=e[8],l=c*a-h*u,f=-c*s+h*o,d=u*s-a*o,m=r*l+n*f+i*d;return m?(m=1/m,t[0]=l*m,t[1]=(-c*n+i*u)*m,t[2]=(h*n-i*a)*m,t[3]=f*m,t[4]=(c*r-i*o)*m,t[5]=(-h*r+i*s)*m,t[6]=d*m,t[7]=(-u*r+n*o)*m,t[8]=(a*r-n*s)*m,t):null}function h(t){var e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],a=t[5],h=t[6],o=t[7],u=t[8];return e*(u*s-a*o)+r*(-u*i+a*h)+n*(o*i-s*h)}function o(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],h=e[4],o=e[5],u=e[6],c=e[7],l=e[8],f=r[0],d=r[1],m=r[2],M=r[3],p=r[4],x=r[5],y=r[6],g=r[7],b=r[8];return t[0]=f*n+d*a+m*u,t[1]=f*i+d*h+m*c,t[2]=f*s+d*o+m*l,t[3]=M*n+p*a+x*u,t[4]=M*i+p*h+x*c,t[5]=M*s+p*o+x*l,t[6]=y*n+g*a+b*u,t[7]=y*i+g*h+b*c,t[8]=y*s+g*o+b*l,t}function u(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],h=e[4],o=e[5],u=e[6],c=e[7],l=e[8],f=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=h,t[5]=o,t[6]=f*n+d*a+u,t[7]=f*i+d*h+c,t[8]=f*s+d*o+l,t}function c(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],h=e[4],o=e[5],u=e[6],c=e[7],l=e[8],f=Math.sin(r),d=Math.cos(r);return t[0]=d*n+f*a,t[1]=d*i+f*h,t[2]=d*s+f*o,t[3]=d*a-f*n,t[4]=d*h-f*i,t[5]=d*o-f*s,t[6]=u,t[7]=c,t[8]=l,t}function l(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function f(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r+r,h=n+n,o=i+i,u=r*a,c=n*a,l=n*h,f=i*a,d=i*h,m=i*o,M=s*a,p=s*h,x=s*o;return t[0]=1-l-m,t[3]=c-x,t[6]=f+p,t[1]=c+x,t[4]=1-u-m,t[7]=d-M,t[2]=f-p,t[5]=d+M,t[8]=1-u-l,t}},4219:(t,e,r)=>{r.d(e,{c:()=>i,iu:()=>s,kK:()=>a,fF:()=>h});var n=r(473);function i(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function s(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function a(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function h(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}var o,u;o=new n.WT(2),n.WT!=Float32Array&&(o[0]=0,o[1]=0),u=o},7964:(t,e,r)=>{r.d(e,{Ue:()=>i,al:()=>s,Fv:()=>a,AK:()=>h,kC:()=>o,fF:()=>u,kK:()=>c,VC:()=>l,lM:()=>f,uD:()=>d,jI:()=>m,EU:()=>M,Zh:()=>x});var n=r(473);function i(){var t=new n.WT(3);return n.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function s(t,e,r){var i=new n.WT(3);return i[0]=t,i[1]=e,i[2]=r,i}function a(t,e){var r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function h(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function o(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],h=r[1],o=r[2];return t[0]=i*o-s*h,t[1]=s*a-n*o,t[2]=n*h-i*a,t}function u(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,t}function c(t,e,r){var n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t}function l(t,e,r){var n=r[0],i=r[1],s=r[2],a=r[3],h=e[0],o=e[1],u=e[2],c=i*u-s*o,l=s*h-n*u,f=n*o-i*h,d=i*f-s*l,m=s*c-n*f,M=n*l-i*c,p=2*a;return c*=p,l*=p,f*=p,d*=2,m*=2,M*=2,t[0]=h+c+d,t[1]=o+l+m,t[2]=u+f+M,t}function f(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function d(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function m(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function M(t,e){var r=t[0],n=t[1],i=t[2],s=e[0],a=e[1],o=e[2],u=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(s*s+a*a+o*o),c=u&&h(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}var p,x=function(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)};p=i()},2493:(t,e,r)=>{r.d(e,{d9:()=>i,al:()=>s,JG:()=>a,t8:()=>h,IH:()=>o,bA:()=>u,kE:()=>c,we:()=>l,Fv:()=>f,AK:()=>d,t7:()=>m,fF:()=>M,VC:()=>p,I6:()=>x,fS:()=>y});var n=r(473);function i(t){var e=new n.WT(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(t,e,r,i){var s=new n.WT(4);return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function h(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function o(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function u(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function c(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function l(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function f(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=s*a,t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function m(t,e,r,n){var i=e[0],s=e[1],a=e[2],h=e[3];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=a+n*(r[2]-a),t[3]=h+n*(r[3]-h),t}function M(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,t}function p(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],h=r[1],o=r[2],u=r[3],c=u*n+h*s-o*i,l=u*i+o*n-a*s,f=u*s+a*i-h*n,d=-a*n-h*i-o*s;return t[0]=c*u+d*-a+l*-o-f*-h,t[1]=l*u+d*-h+f*-a-c*-o,t[2]=f*u+d*-o+c*-h-l*-a,t[3]=e[3],t}function x(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function y(t,e){var r=t[0],i=t[1],s=t[2],a=t[3],h=e[0],o=e[1],u=e[2],c=e[3];return Math.abs(r-h)<=n.Ib*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-o)<=n.Ib*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-u)<=n.Ib*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(a-c)<=n.Ib*Math.max(1,Math.abs(a),Math.abs(c))}var g,b;g=new n.WT(4),n.WT!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0),b=g},4175:(t,e,r)=>{r.d(e,{Xx:()=>h,KM:()=>l,Mh:()=>j,F7:()=>T,JO:()=>z,du:()=>it});const n=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});var i=r(3855);const s=new i.Z,a=new i.Z;class h{constructor(t=[0,0,0],e=[0,0,0],r=null){r=r||s.copy(t).add(e).scale(.5),this.center=new i.Z(r),this.halfDiagonal=new i.Z(e).subtract(this.center),this.minimum=new i.Z(t),this.maximum=new i.Z(e)}clone(){return new h(this.minimum,this.maximum,this.center)}equals(t){return this===t||Boolean(t)&&this.minimum.equals(t.minimum)&&this.maximum.equals(t.maximum)}transform(t){return this.center.transformAsPoint(t),this.halfDiagonal.transform(t),this.minimum.transform(t),this.maximum.transform(t),this}intersectPlane(t){const{halfDiagonal:e}=this,r=a.from(t.normal),i=e.x*Math.abs(r.x)+e.y*Math.abs(r.y)+e.z*Math.abs(r.z),s=this.center.dot(r)+t.distance;return s-i>0?n.INSIDE:s+i<0?n.OUTSIDE:n.INTERSECTING}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=s.from(t).subtract(this.center),{halfDiagonal:r}=this;let n,i=0;return n=Math.abs(e.x)-r.x,n>0&&(i+=n*n),n=Math.abs(e.y)-r.y,n>0&&(i+=n*n),n=Math.abs(e.z)-r.z,n>0&&(i+=n*n),i}}function o(t,e){var r=e[0],n=e[1],i=e[2],s=e[4],a=e[5],h=e[6],o=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(s,a,h),t[2]=Math.hypot(o,u,c),t}const u=new i.Z,c=new i.Z;class l{constructor(t=[0,0,0],e=0){this.radius=-0,this.center=new i.Z,this.fromCenterRadius(t,e)}fromCenterRadius(t,e){return this.center.from(t),this.radius=e,this}fromCornerPoints(t,e){return e=u.from(e),this.center=(new i.Z).from(t).add(e).scale(.5),this.radius=this.center.distance(e),this}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.radius===t.radius}clone(){return new l(this.center,this.radius)}union(t){const e=this.center,r=this.radius,n=t.center,i=t.radius,s=u.copy(n).subtract(e),a=s.magnitude();if(r>=a+i)return this.clone();if(i>=a+r)return t.clone();const h=.5*(r+a+i);return c.copy(s).scale((-r+h)/a).add(e),this.center.copy(c),this.radius=h,this}expand(t){const e=(t=u.from(t)).subtract(this.center).magnitude();return e>this.radius&&(this.radius=e),this}transform(t){this.center.transform(t);const e=o(u,t);return this.radius=Math.max(e[0],Math.max(e[1],e[2]))*this.radius,this}distanceSquaredTo(t){const e=this.distanceTo(t);return e*e}distanceTo(t){const e=(t=u.from(t)).subtract(this.center);return Math.max(0,e.len()-this.radius)}intersectPlane(t){const e=this.center,r=this.radius,i=t.normal.dot(e)+t.distance;return i<-r?n.OUTSIDE:i<r?n.INTERSECTING:n.INSIDE}}var f=r(540),d=r(7696);const m=new i.Z,M=new i.Z,p=new i.Z,x=new i.Z,y=new i.Z,g=new i.Z,b=new i.Z,w=0,E=1,v=2,Z=3,S=4,I=5,N=6,O=7,A=8;class T{constructor(t=[0,0,0],e=[0,0,0,0,0,0,0,0,0]){this.center=(new i.Z).from(t),this.halfAxes=new f.Z(e)}get halfSize(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new i.Z(t).len(),new i.Z(e).len(),new i.Z(r).len()]}get quaternion(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),n=new i.Z(t).normalize(),s=new i.Z(e).normalize(),a=new i.Z(r).normalize();return(new d.Z).fromMatrix3(new f.Z([...n,...s,...a]))}fromCenterHalfSizeQuaternion(t,e,r){const n=new d.Z(r),s=(new f.Z).fromQuaternion(n);return s[0]=s[0]*e[0],s[1]=s[1]*e[0],s[2]=s[2]*e[0],s[3]=s[3]*e[1],s[4]=s[4]*e[1],s[5]=s[5]*e[1],s[6]=s[6]*e[2],s[7]=s[7]*e[2],s[8]=s[8]*e[2],this.center=(new i.Z).from(t),this.halfAxes=s,this}clone(){return new T(this.center,this.halfAxes)}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}getBoundingSphere(t=new l){const e=this.halfAxes,r=e.getColumn(0,p),n=e.getColumn(1,x),i=e.getColumn(2,y),s=m.copy(r).add(n).add(i);return t.center.copy(this.center),t.radius=s.magnitude(),t}intersectPlane(t){const e=this.center,r=t.normal,i=this.halfAxes,s=r.x,a=r.y,h=r.z,o=Math.abs(s*i[w]+a*i[E]+h*i[v])+Math.abs(s*i[Z]+a*i[S]+h*i[I])+Math.abs(s*i[N]+a*i[O]+h*i[A]),u=r.dot(e)+t.distance;return u<=-o?n.OUTSIDE:u>=o?n.INSIDE:n.INTERSECTING}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=M.from(t).subtract(this.center),r=this.halfAxes,n=r.getColumn(0,p),i=r.getColumn(1,x),s=r.getColumn(2,y),a=n.magnitude(),h=i.magnitude(),o=s.magnitude();n.normalize(),i.normalize(),s.normalize();let u,c=0;return u=Math.abs(e.dot(n))-a,u>0&&(c+=u*u),u=Math.abs(e.dot(i))-h,u>0&&(c+=u*u),u=Math.abs(e.dot(s))-o,u>0&&(c+=u*u),c}computePlaneDistances(t,e,r=[-0,-0]){let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const s=this.center,a=this.halfAxes,h=a.getColumn(0,p),o=a.getColumn(1,x),u=a.getColumn(2,y),c=g.copy(h).add(o).add(u).add(s),l=b.copy(c).subtract(t);let f=e.dot(l);return n=Math.min(f,n),i=Math.max(f,i),c.copy(s).add(h).add(o).subtract(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),c.copy(s).add(h).subtract(o).add(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),c.copy(s).add(h).subtract(o).subtract(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),s.copy(c).subtract(h).add(o).add(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),s.copy(c).subtract(h).add(o).subtract(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),s.copy(c).subtract(h).subtract(o).add(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),s.copy(c).subtract(h).subtract(o).subtract(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),r[0]=n,r[1]=i,r}transform(t){this.center.transformAsPoint(t);const e=this.halfAxes.getColumn(0,p);e.transformAsPoint(t);const r=this.halfAxes.getColumn(1,x);r.transformAsPoint(t);const n=this.halfAxes.getColumn(2,y);return n.transformAsPoint(t),this.halfAxes=new f.Z([...e,...r,...n]),this}getTransform(){throw new Error("not implemented")}}var k=r(394),L=r(4034);const P=new i.Z,R=new i.Z;class z{constructor(t=[0,0,1],e=0){this.normal=new i.Z,this.distance=-0,this.fromNormalDistance(t,e)}fromNormalDistance(t,e){return(0,k.Z)(Number.isFinite(e)),this.normal.from(t).normalize(),this.distance=e,this}fromPointNormal(t,e){t=P.from(t),this.normal.from(e).normalize();const r=-this.normal.dot(t);return this.distance=r,this}fromCoefficients(t,e,r,n){return this.normal.set(t,e,r),(0,k.Z)((0,L.fS)(this.normal.len(),1)),this.distance=n,this}clone(t){return new z(this.normal,this.distance)}equals(t){return(0,L.fS)(this.distance,t.distance)&&(0,L.fS)(this.normal,t.normal)}getPointDistance(t){return this.normal.dot(t)+this.distance}transform(t){const e=R.copy(this.normal).transformAsVector(t).normalize(),r=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(r,e)}projectPointOntoPlane(t,e=[0,0,0]){t=P.from(t);const r=this.getPointDistance(t),n=R.copy(this.normal).scale(r);return t.subtract(n).to(e)}}const C=[new i.Z([1,0,0]),new i.Z([0,1,0]),new i.Z([0,0,1])],q=new i.Z,F=new i.Z;new z(new i.Z(1,0,0),0);class j{static get MASK_OUTSIDE(){return 4294967295}static get MASK_INSIDE(){return 0}static get MASK_INDETERMINATE(){return 2147483647}constructor(t=[]){this.planes=t,(0,k.Z)(this.planes.every((t=>t instanceof z)))}fromBoundingSphere(t){this.planes.length=2*C.length;const e=t.center,r=t.radius;let n=0;for(const t of C){let i=this.planes[n],s=this.planes[n+1];i||(i=this.planes[n]=new z),s||(s=this.planes[n+1]=new z);const a=q.copy(t).scale(-r).add(e);t.dot(a);i.fromPointNormal(a,t);const h=q.copy(t).scale(r).add(e),o=F.copy(t).negate();o.dot(h);s.fromPointNormal(h,o),n+=2}return this}computeVisibility(t){(0,k.Z)(t);let e=n.INSIDE;for(const r of this.planes){switch(t.intersectPlane(r)){case n.OUTSIDE:return n.OUTSIDE;case n.INTERSECTING:e=n.INTERSECTING}}return e}computeVisibilityWithPlaneMask(t,e){if((0,k.Z)(t,"boundingVolume is required."),(0,k.Z)(Number.isFinite(e),"parentPlaneMask is required."),e===j.MASK_OUTSIDE||e===j.MASK_INSIDE)return e;let r=j.MASK_INSIDE;const i=this.planes;for(let s=0;s<this.planes.length;++s){const a=s<31?1<<s:0;if(s<31&&0==(e&a))continue;const h=i[s],o=t.intersectPlane(h);if(o===n.OUTSIDE)return j.MASK_OUTSIDE;o===n.INTERSECTING&&(r|=a)}return r}}new i.Z,new i.Z,new i.Z,new i.Z,new i.Z;new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,Math.PI;var W=r(9057);const D=new f.Z,U=new f.Z,V=new f.Z,_=new f.Z,K=new f.Z;function B(t,e={}){const r=W.Z.EPSILON20;let n=0,i=0;const s=U,a=V;s.identity(),a.copy(t);const h=r*function(t){let e=0;for(let r=0;r<9;++r){const n=t[r];e+=n*n}return Math.sqrt(e)}(a);for(;i<10&&Y(a)>h;)J(a,_),K.copy(_).transpose(),a.multiplyRight(_),a.multiplyLeft(K),s.multiplyRight(_),++n>2&&(++i,n=0);return e.unitary=s.toTarget(e.unitary),e.diagonal=a.toTarget(e.diagonal),e}const G=[1,0,0],X=[2,2,1];function Y(t){let e=0;for(let r=0;r<3;++r){const n=t[D.getElementIndex(X[r],G[r])];e+=2*n*n}return Math.sqrt(e)}function J(t,e){const r=W.Z.EPSILON15;let n=0,i=1;for(let e=0;e<3;++e){const r=Math.abs(t[D.getElementIndex(X[e],G[e])]);r>n&&(i=e,n=r)}const s=G[i],a=X[i];let h=1,o=0;if(Math.abs(t[D.getElementIndex(a,s)])>r){const e=(t[D.getElementIndex(a,a)]-t[D.getElementIndex(s,s)])/2/t[D.getElementIndex(a,s)];let r;r=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)),h=1/Math.sqrt(1+r*r),o=r*h}return f.Z.IDENTITY.to(e),e[D.getElementIndex(s,s)]=e[D.getElementIndex(a,a)]=h,e[D.getElementIndex(a,s)]=o,e[D.getElementIndex(s,a)]=-o,e}const Q=new i.Z,H=new i.Z,$=new i.Z,tt=new i.Z,et=new i.Z,rt=new f.Z,nt={diagonal:new f.Z,unitary:new f.Z};function it(t,e=new T){if(!t||0===t.length)return e.halfAxes=new f.Z([0,0,0,0,0,0,0,0,0]),e.center=new i.Z,e;const r=t.length,n=new i.Z(0,0,0);for(const e of t)n.add(e);const s=1/r;n.multiplyByScalar(s);let a=0,h=0,o=0,u=0,c=0,l=0;for(const e of t){const t=Q.copy(e).subtract(n);a+=t.x*t.x,h+=t.x*t.y,o+=t.x*t.z,u+=t.y*t.y,c+=t.y*t.z,l+=t.z*t.z}a*=s,h*=s,o*=s,u*=s,c*=s,l*=s;const d=rt;d[0]=a,d[1]=h,d[2]=o,d[3]=h,d[4]=u,d[5]=c,d[6]=o,d[7]=c,d[8]=l;const{unitary:m}=B(d,nt),M=e.halfAxes.copy(m);let p=M.getColumn(0,$),x=M.getColumn(1,tt),y=M.getColumn(2,et),g=-Number.MAX_VALUE,b=-Number.MAX_VALUE,w=-Number.MAX_VALUE,E=Number.MAX_VALUE,v=Number.MAX_VALUE,Z=Number.MAX_VALUE;for(const e of t)Q.copy(e),g=Math.max(Q.dot(p),g),b=Math.max(Q.dot(x),b),w=Math.max(Q.dot(y),w),E=Math.min(Q.dot(p),E),v=Math.min(Q.dot(x),v),Z=Math.min(Q.dot(y),Z);p=p.multiplyByScalar(.5*(E+g)),x=x.multiplyByScalar(.5*(v+b)),y=y.multiplyByScalar(.5*(Z+w)),e.center.copy(p).add(x).add(y);const S=H.set(g-E,b-v,w-Z).multiplyByScalar(.5),I=new f.Z([S[0],0,0,0,S[1],0,0,0,S[2]]);return e.halfAxes.multiplyRight(I),e}},7712:(t,e,r)=>{r.d(e,{H:()=>F});var n=r(3855),i=r(394),s=r(9057),a=r(3467),h=r(4034),o="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function u(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function c(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var l,f;l=new o(3),o!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),f=l;const d=6378137,m=6378137,M=6356752.314245179,p=(Math.max(d,m,M),t=>t),x=new n.Z;function y(t,e,r=p){return(0,h.kJ)(t)?(e[0]=r(t[0]),e[1]=r(t[1]),e[2]=t[2]):"longitude"in t?(e[0]=r(t.longitude),e[1]=r(t.latitude),e[2]=t.height):(e[0]=r(t.x),e[1]=r(t.y),e[2]=t.z),e}function g(t,e,r=p){return(0,h.kJ)(e)?(e[0]=r(t[0]),e[1]=r(t[1]),e[2]=t[2]):"longitude"in e?(e.longitude=r(t[0]),e.latitude=r(t[1]),e.height=t[2]):(e.x=r(t[0]),e.y=r(t[1]),e.z=t[2]),e}const b=new n.Z,w=new n.Z,E=new n.Z;const v=new n.Z,Z={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},S={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},I={east:new n.Z,north:new n.Z,up:new n.Z,west:new n.Z,south:new n.Z,down:new n.Z},N=new n.Z,O=new n.Z,A=new n.Z;function T(t,e,r,n,s,a){const o=Z[e]&&Z[e][r];let u,c,l;(0,i.Z)(o&&(!n||n===o));const f=v.copy(s);if((0,h.fS)(f.x,0,1e-14)&&(0,h.fS)(f.y,0,1e-14)){const t=Math.sign(f.z);u=N.fromArray(S[e]),"east"!==e&&"west"!==e&&u.scale(t),c=O.fromArray(S[r]),"east"!==r&&"west"!==r&&c.scale(t),l=A.fromArray(S[n]),"east"!==n&&"west"!==n&&l.scale(t)}else{const{up:i,east:s,north:a}=I;s.set(-f.y,f.x,0).normalize(),t.geodeticSurfaceNormal(f,i),a.copy(i).cross(s);const{down:h,west:o,south:d}=I;h.copy(i).scale(-1),o.copy(s).scale(-1),d.copy(a).scale(-1),u=I[e],c=I[r],l=I[n]}return a[0]=u.x,a[1]=u.y,a[2]=u.z,a[3]=0,a[4]=c.x,a[5]=c.y,a[6]=c.z,a[7]=0,a[8]=l.x,a[9]=l.y,a[10]=l.z,a[11]=0,a[12]=f.x,a[13]=f.y,a[14]=f.z,a[15]=1,a}const k=new n.Z,L=new n.Z,P=new n.Z,R=new n.Z,z=new n.Z,C=new n.Z;let q;class F{static get WGS84(){return q=q||new F(d,m,M),q}constructor(t=0,e=0,r=0){(0,i.Z)(t>=0),(0,i.Z)(e>=0),(0,i.Z)(r>=0),this.radii=new n.Z(t,e,r),this.radiiSquared=new n.Z(t*t,e*e,r*r),this.radiiToTheFourth=new n.Z(t*t*t*t,e*e*e*e,r*r*r*r),this.oneOverRadii=new n.Z(0===t?0:1/t,0===e?0:1/e,0===r?0:1/r),this.oneOverRadiiSquared=new n.Z(0===t?0:1/(t*t),0===e?0:1/(e*e),0===r?0:1/(r*r)),this.minimumRadius=Math.min(t,e,r),this.maximumRadius=Math.max(t,e,r),this.centerToleranceSquared=s.Z.EPSILON1,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(t){return this===t||Boolean(t&&this.radii.equals(t.radii))}toString(){return this.radii.toString()}cartographicToCartesian(t,e=[0,0,0]){const r=L,n=P,[,,i]=t;this.geodeticSurfaceNormalCartographic(t,r),n.copy(this.radiiSquared).scale(r);const s=Math.sqrt(r.dot(n));return n.scale(1/s),r.scale(i),n.add(r),n.to(e)}cartesianToCartographic(t,e=[0,0,0]){C.from(t);const r=this.scaleToGeodeticSurface(C,R);if(!r)return;const n=this.geodeticSurfaceNormal(r,L),i=z;i.copy(C).subtract(r);const s=Math.atan2(n.y,n.x),a=Math.asin(n.z),o=Math.sign(c(i,C))*u(i);return g([s,a,o],e,h.vc._cartographicRadians?p:h.Ux)}eastNorthUpToFixedFrame(t,e=new a.Z){return T(this,"east","north","up",t,e)}localFrameToFixedFrame(t,e,r,n,i=new a.Z){return T(this,t,e,r,n,i)}geocentricSurfaceNormal(t,e=[0,0,0]){return k.from(t).normalize().to(e)}geodeticSurfaceNormalCartographic(t,e=[0,0,0]){const r=function(t,e=x){return y(t,e,h.vc._cartographicRadians?p:h.Yr)}(t),n=r[0],i=r[1],s=Math.cos(i);return k.set(s*Math.cos(n),s*Math.sin(n),Math.sin(i)).normalize(),k.to(e)}geodeticSurfaceNormal(t,e=[0,0,0]){return k.from(t).scale(this.oneOverRadiiSquared).normalize().to(e)}scaleToGeodeticSurface(t,e){return function(t,e,r=new n.Z){const{oneOverRadii:i,oneOverRadiiSquared:a,centerToleranceSquared:h}=e;b.from(t);const o=t.x,u=t.y,c=t.z,l=i.x,f=i.y,d=i.z,m=o*o*l*l,M=u*u*f*f,p=c*c*d*d,x=m+M+p,y=Math.sqrt(1/x);if(!Number.isFinite(y))return;const g=w;if(g.copy(t).scale(y),x<h)return g.to(r);const v=a.x,Z=a.y,S=a.z,I=E;I.set(g.x*v*2,g.y*Z*2,g.z*S*2);let N,O,A,T,k=(1-y)*t.len()/(.5*I.len()),L=0;do{k-=L,N=1/(1+k*v),O=1/(1+k*Z),A=1/(1+k*S);const t=N*N,e=O*O,r=A*A;T=m*t+M*e+p*r-1,L=T/(-2*(m*(t*N)*v+M*(e*O)*Z+p*(r*A)*S))}while(Math.abs(T)>s.Z.EPSILON12);return b.scale([N,O,A]).to(r)}(t,this,e)}scaleToGeocentricSurface(t,e=[0,0,0]){R.from(t);const r=R.x,n=R.y,i=R.z,s=this.oneOverRadiiSquared,a=1/Math.sqrt(r*r*s.x+n*n*s.y+i*i*s.z);return R.multiplyScalar(a).to(e)}transformPositionToScaledSpace(t,e=[0,0,0]){return R.from(t).scale(this.oneOverRadii).to(e)}transformPositionFromScaledSpace(t,e=[0,0,0]){return R.from(t).scale(this.radii).to(e)}getSurfaceNormalIntersectionWithZAxis(t,e=0,r=[0,0,0]){(0,i.Z)((0,h.fS)(this.radii.x,this.radii.y,s.Z.EPSILON15)),(0,i.Z)(this.radii.z>0),R.from(t);const n=R.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(n)>=this.radii.z-e))return R.set(0,0,n).to(r)}}},5215:(t,e,r)=>{r.d(e,{wG:()=>n,WZ:()=>F,GU:()=>_,dj:()=>C,ct:()=>V,OT:()=>a,ap:()=>s,Ny:()=>i});const n={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function i(t,e,r={}){const n=function(t,e={}){return Math.sign(s(t,e))}(t,r);return n!==e&&(function(t,e){const{start:r=0,end:n=t.length,size:i=2}=e,s=(n-r)/i,a=Math.floor(s/2);for(let e=0;e<a;++e){const n=r+e*i,a=r+(s-1-e)*i;for(let e=0;e<i;++e){const r=t[n+e];t[n+e]=t[a+e],t[a+e]=r}}}(t,r),!0)}function s(t,e={}){const{start:r=0,end:n=t.length}=e,i=e.size||2;let s=0;for(let e=r,a=n-i;e<n;e+=i)s+=(t[e]-t[a])*(t[e+1]+t[a+1]),a=e;return s/2}function a(t,e,r,n){r=r||2;const i=e&&e.length,s=i?e[0]*r:t.length;let a=h(t,0,s,r,!0,n&&n[0]);const c=[];if(!a||a.next===a.prev)return c;let l,f,d,p,x,g,b;if(i&&(a=function(t,e,r,n,i){const s=[];let a,u,c,l,f;for(a=0,u=e.length;a<u;a++)c=e[a]*n,l=a<u-1?e[a+1]*n:t.length,f=h(t,c,l,n,!1,i&&i[a+1]),f===f.next&&(f.steiner=!0),s.push(y(f));for(s.sort(m),a=0;a<s.length;a++)M(s[a],r),r=o(r,r.next);return r}(t,e,a,r,n)),t.length>80*r){p=f=t[0],x=d=t[1];for(let e=r;e<s;e+=r)g=t[e],b=t[e+1],g<p&&(p=g),b<x&&(x=b),g>f&&(f=g),b>d&&(d=b);l=Math.max(f-p,d-x),l=0!==l?1/l:0}return u(a,c,r,p,x,l),c}function h(t,e,r,n,i,a){let h,o;if(void 0===a&&(a=s(t,{start:e,end:r,size:n})),i===a<0)for(h=e;h<r;h+=n)o=O(h,t[h],t[h+1],o);else for(h=r-n;h>=e;h-=n)o=O(h,t[h],t[h+1],o);return o&&E(o,o.next)&&(A(o),o=o.next),o}function o(t,e){if(!t)return t;e||(e=t);let r,n=t;do{if(r=!1,n.steiner||!E(n,n.next)&&0!==w(n.prev,n,n.next))n=n.next;else{if(A(n),n=e=n.prev,n===n.next)break;r=!0}}while(r||n!==e);return e}function u(t,e,r,n,i,s,a){if(!t)return;!a&&s&&function(t,e,r,n){let i=t;do{null===i.z&&(i.z=x(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,r,n,i,s,a,h,o,u=1;do{for(i=t,t=null,o=null,n=0;i;){for(n++,a=i,s=0,r=0;r<u&&(s++,a=a.nextZ,a);r++);for(h=u;s>0||h>0&&a;)0!==s&&(0===h||!a||i.z<=a.z)?(e=i,i=i.nextZ,s--):(e=a,a=a.nextZ,h--),o?o.nextZ=e:t=e,e.prevZ=o,o=e;i=a}o.nextZ=null,u*=2}while(n>1)}(i)}(t,n,i,s);let h,m,M=t;for(;t.prev!==t.next;)if(h=t.prev,m=t.next,s?l(t,n,i,s):c(t))e.push(h.i/r),e.push(t.i/r),e.push(m.i/r),A(t),t=m.next,M=m.next;else if((t=m)===M){a?1===a?u(t=f(o(t),e,r),e,r,n,i,s,2):2===a&&d(t,e,r,n,i,s):u(o(t),e,r,n,i,s,1);break}}function c(t){const e=t.prev,r=t,n=t.next;if(w(e,r,n)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(g(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&w(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(t,e,r,n){const i=t.prev,s=t,a=t.next;if(w(i,s,a)>=0)return!1;const h=i.x<s.x?i.x<a.x?i.x:a.x:s.x<a.x?s.x:a.x,o=i.y<s.y?i.y<a.y?i.y:a.y:s.y<a.y?s.y:a.y,u=i.x>s.x?i.x>a.x?i.x:a.x:s.x>a.x?s.x:a.x,c=i.y>s.y?i.y>a.y?i.y:a.y:s.y>a.y?s.y:a.y,l=x(h,o,e,r,n),f=x(u,c,e,r,n);let d=t.prevZ,m=t.nextZ;for(;d&&d.z>=l&&m&&m.z<=f;){if(d!==t.prev&&d!==t.next&&g(i.x,i.y,s.x,s.y,a.x,a.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,m!==t.prev&&m!==t.next&&g(i.x,i.y,s.x,s.y,a.x,a.y,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;d&&d.z>=l;){if(d!==t.prev&&d!==t.next&&g(i.x,i.y,s.x,s.y,a.x,a.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;m&&m.z<=f;){if(m!==t.prev&&m!==t.next&&g(i.x,i.y,s.x,s.y,a.x,a.y,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function f(t,e,r){let n=t;do{const i=n.prev,s=n.next.next;!E(i,s)&&v(i,n,n.next,s)&&I(i,s)&&I(s,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(s.i/r),A(n),A(n.next),n=t=s),n=n.next}while(n!==t);return o(n)}function d(t,e,r,n,i,s){let a=t;do{let t=a.next.next;for(;t!==a.prev;){if(a.i!==t.i&&b(a,t)){let h=N(a,t);return a=o(a,a.next),h=o(h,h.next),u(a,e,r,n,i,s),void u(h,e,r,n,i,s)}t=t.next}a=a.next}while(a!==t)}function m(t,e){return t.x-e.x}function M(t,e){if(e=function(t,e){let r=e;const n=t.x,i=t.y;let s,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){const t=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(t<=n&&t>a){if(a=t,t===n){if(i===r.y)return r;if(i===r.next.y)return r.next}s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!s)return null;if(n===a)return s;const h=s,o=s.x,u=s.y;let c,l=1/0;r=s;do{n>=r.x&&r.x>=o&&n!==r.x&&g(i<u?n:a,i,o,u,i<u?a:n,i,r.x,r.y)&&(c=Math.abs(i-r.y)/(n-r.x),I(r,t)&&(c<l||c===l&&(r.x>s.x||r.x===s.x&&p(s,r)))&&(s=r,l=c)),r=r.next}while(r!==h);return s}(t,e),e){const r=N(e,t);o(e,e.next),o(r,r.next)}}function p(t,e){return w(t.prev,t,e.prev)<0&&w(e.next,t,t.next)<0}function x(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function y(t){let e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function g(t,e,r,n,i,s,a,h){return(i-a)*(e-h)-(t-a)*(s-h)>=0&&(t-a)*(n-h)-(r-a)*(e-h)>=0&&(r-a)*(s-h)-(i-a)*(n-h)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(I(t,e)&&I(e,t)&&function(t,e){let r=t,n=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(w(t.prev,t,e.prev)||w(t,e.prev,e))||E(t,e)&&w(t.prev,t,t.next)>0&&w(e.prev,e,e.next)>0)}function w(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function E(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,r,n){const i=S(w(t,e,r)),s=S(w(t,e,n)),a=S(w(r,n,t)),h=S(w(r,n,e));return i!==s&&a!==h||(!(0!==i||!Z(t,r,e))||(!(0!==s||!Z(t,n,e))||(!(0!==a||!Z(r,t,n))||!(0!==h||!Z(r,e,n)))))}function Z(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function S(t){return t>0?1:t<0?-1:0}function I(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function N(t,e){const r=new T(t.i,t.x,t.y),n=new T(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function O(t,e,r,n){const i=new T(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function T(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k(t,e,r,n,i=[]){let s,a;if(8&r)s=(n[3]-t[1])/(e[1]-t[1]),a=3;else if(4&r)s=(n[1]-t[1])/(e[1]-t[1]),a=1;else if(2&r)s=(n[2]-t[0])/(e[0]-t[0]),a=2;else{if(!(1&r))return null;s=(n[0]-t[0])/(e[0]-t[0]),a=0}for(let r=0;r<t.length;r++)i[r]=(1&a)===r?n[a]:s*(e[r]-t[r])+t[r];return i}function L(t,e){let r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}function P(t,e){const r=e.length,n=t.length;if(n>0){let i=!0;for(let s=0;s<r;s++)if(t[n-r+s]!==e[s]){i=!1;break}if(i)return!1}for(let i=0;i<r;i++)t[n+i]=e[i];return!0}function R(t,e){const r=e.length;for(let n=0;n<r;n++)t[n]=e[n]}function z(t,e,r,n,i=[]){const s=n+e*r;for(let e=0;e<r;e++)i[e]=t[s+e];return i}function C(t,e={}){const{size:r=2,broken:n=!1,gridResolution:i=10,gridOffset:s=[0,0],startIndex:a=0,endIndex:h=t.length}=e,o=(h-a)/r;let u=[];const c=[u],l=z(t,0,r,a);let f,d;const m=W(l,i,s,[]),M=[];P(u,l);for(let e=1;e<o;e++){for(f=z(t,e,r,a,f),d=L(f,m);d;){k(l,f,d,m,M);const t=L(M,m);t&&(k(l,M,t,m,M),d=t),P(u,M),R(l,M),D(m,i,d),n&&u.length>r&&(u=[],c.push(u),P(u,l)),d=L(f,m)}P(u,f),R(l,f)}return n?c:c[0]}function q(t,e){for(let r=0;r<e.length;r++)t.push(e[r]);return t}function F(t,e,r={}){if(!t.length)return[];const{size:n=2,gridResolution:i=10,gridOffset:s=[0,0],edgeTypes:a=!1}=r,h=[],o=[{pos:t,types:a&&new Array(t.length/n).fill(1),holes:e||[]}],u=[[],[]];let c=[];for(;o.length;){const{pos:t,types:e,holes:r}=o.shift();U(t,n,r[0]||t.length,u),c=W(u[0],i,s,c);const l=L(u[1],c);if(l){let i=j(t,e,n,0,r[0]||t.length,c,l);const s={pos:i[0].pos,types:i[0].types,holes:[]},h={pos:i[1].pos,types:i[1].types,holes:[]};o.push(s,h);for(let o=0;o<r.length;o++)i=j(t,e,n,r[o],r[o+1]||t.length,c,l),i[0]&&(s.holes.push(s.pos.length),s.pos=q(s.pos,i[0].pos),a&&(s.types=q(s.types,i[0].types))),i[1]&&(h.holes.push(h.pos.length),h.pos=q(h.pos,i[1].pos),a&&(h.types=q(h.types,i[1].types)))}else{const n={positions:t};a&&(n.edgeTypes=e),r.length&&(n.holeIndices=r),h.push(n)}}return h}function j(t,e,r,n,i,s,a){const h=(i-n)/r,o=[],u=[],c=[],l=[],f=[];let d,m,M;const p=z(t,h-1,r,n);let x=Math.sign(8&a?p[1]-s[3]:p[0]-s[2]),y=e&&e[h-1],g=0,b=0;for(let i=0;i<h;i++)d=z(t,i,r,n,d),m=Math.sign(8&a?d[1]-s[3]:d[0]-s[2]),M=e&&e[n/r+i],m&&x&&x!==m&&(k(p,d,a,s,f),P(o,f)&&c.push(y),P(u,f)&&l.push(y)),m<=0?(P(o,d)&&c.push(M),g-=m):c.length&&(c[c.length-1]=0),m>=0?(P(u,d)&&l.push(M),b+=m):l.length&&(l[l.length-1]=0),R(p,d),x=m,y=M;return[g?{pos:o,types:e&&c}:null,b?{pos:u,types:e&&l}:null]}function W(t,e,r,n){const i=Math.floor((t[0]-r[0])/e)*e+r[0],s=Math.floor((t[1]-r[1])/e)*e+r[1];return n[0]=i,n[1]=s,n[2]=i+e,n[3]=s+e,n}function D(t,e,r){8&r?(t[1]+=e,t[3]+=e):4&r?(t[1]-=e,t[3]-=e):2&r?(t[0]+=e,t[2]+=e):1&r&&(t[0]-=e,t[2]-=e)}function U(t,e,r,n){let i=1/0,s=-1/0,a=1/0,h=-1/0;for(let n=0;n<r;n+=e){const e=t[n],r=t[n+1];i=e<i?e:i,s=e>s?e:s,a=r<a?r:a,h=r>h?r:h}return n[0][0]=i,n[0][1]=a,n[1][0]=s,n[1][1]=h,n}function V(t,e={}){const{size:r=2,startIndex:n=0,endIndex:i=t.length,normalize:s=!0}=e,a=t.slice(n,i);G(a,r,0,i-n);const h=C(a,{size:r,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(s)for(const t of h)X(t,r);return h}function _(t,e,r={}){const{size:n=2,normalize:i=!0,edgeTypes:s=!1}=r;e=e||[];const a=[],h=[];let o=0,u=0;for(let i=0;i<=e.length;i++){const s=e[i]||t.length,c=u,l=K(t,n,o,s);for(let e=l;e<s;e++)a[u++]=t[e];for(let e=o;e<l;e++)a[u++]=t[e];G(a,n,c,u),B(a,n,c,u,r.maxLatitude),o=s,h[i]=u}h.pop();const c=F(a,h,{size:n,gridResolution:360,gridOffset:[-180,-180],edgeTypes:s});if(i)for(const t of c)X(t.positions,n);return c}function K(t,e,r,n){let i=-1,s=-1;for(let a=r+1;a<n;a+=e){const e=Math.abs(t[a]);e>i&&(i=e,s=a-1)}return s}function B(t,e,r,n,i=85.051129){const s=t[r],a=t[n-e];if(Math.abs(s-a)>180){const n=z(t,0,e,r);n[0]+=360*Math.round((a-s)/360),P(t,n),n[1]=Math.sign(n[1])*i,P(t,n),n[0]=s,P(t,n)}}function G(t,e,r,n){let i,s=t[0];for(let a=r;a<n;a+=e){i=t[a];const e=i-s;(e>180||e<-180)&&(i-=360*Math.round(e/360)),t[a]=s=i}}function X(t,e){let r;const n=t.length/e;for(let i=0;i<n&&(r=t[i*e],(r+180)%360==0);i++);const i=360*-Math.round(r/360);if(0!==i)for(let r=0;r<n;r++)t[r*e]+=i}},7682:(t,e,r)=>{r.d(e,{DW:()=>W,eG:()=>O,Lu:()=>L,Xg:()=>C,sj:()=>P,zX:()=>F,ro:()=>N,Bf:()=>I,wl:()=>T,lf:()=>A,w5:()=>Z,QA:()=>D,CT:()=>z,es:()=>S,aW:()=>R});var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var s,a;s=new i(4),i!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0,s[3]=0),a=s;function h(t,e){const r=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,t}([],e,t);return function(t,e,r){t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r}(r,r,1/r[3]),r}function o(t,e){const r=t%e;return r<0?e+r:r}const u=Math.log2||function(t){return Math.log(t)*Math.LOG2E};function c(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],h=e[4],o=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],m=e[11],M=e[12],p=e[13],x=e[14],y=e[15],g=r[0],b=r[1],w=r[2],E=r[3];return t[0]=g*n+b*h+w*l+E*M,t[1]=g*i+b*o+w*f+E*p,t[2]=g*s+b*u+w*d+E*x,t[3]=g*a+b*c+w*m+E*y,g=r[4],b=r[5],w=r[6],E=r[7],t[4]=g*n+b*h+w*l+E*M,t[5]=g*i+b*o+w*f+E*p,t[6]=g*s+b*u+w*d+E*x,t[7]=g*a+b*c+w*m+E*y,g=r[8],b=r[9],w=r[10],E=r[11],t[8]=g*n+b*h+w*l+E*M,t[9]=g*i+b*o+w*f+E*p,t[10]=g*s+b*u+w*d+E*x,t[11]=g*a+b*c+w*m+E*y,g=r[12],b=r[13],w=r[14],E=r[15],t[12]=g*n+b*h+w*l+E*M,t[13]=g*i+b*o+w*f+E*p,t[14]=g*s+b*u+w*d+E*x,t[15]=g*a+b*c+w*m+E*y,t}function l(t,e,r){var n,i,s,a,h,o,u,c,l,f,d,m,M=r[0],p=r[1],x=r[2];return e===t?(t[12]=e[0]*M+e[4]*p+e[8]*x+e[12],t[13]=e[1]*M+e[5]*p+e[9]*x+e[13],t[14]=e[2]*M+e[6]*p+e[10]*x+e[14],t[15]=e[3]*M+e[7]*p+e[11]*x+e[15]):(n=e[0],i=e[1],s=e[2],a=e[3],h=e[4],o=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],m=e[11],t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=h,t[5]=o,t[6]=u,t[7]=c,t[8]=l,t[9]=f,t[10]=d,t[11]=m,t[12]=n*M+h*p+l*x+e[12],t[13]=i*M+o*p+f*x+e[13],t[14]=s*M+u*p+d*x+e[14],t[15]=a*M+c*p+m*x+e[15]),t}function f(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e){var r=t[0],i=t[1],s=t[2],a=t[3],h=t[4],o=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],m=t[11],M=t[12],p=t[13],x=t[14],y=t[15],g=e[0],b=e[1],w=e[2],E=e[3],v=e[4],Z=e[5],S=e[6],I=e[7],N=e[8],O=e[9],A=e[10],T=e[11],k=e[12],L=e[13],P=e[14],R=e[15];return Math.abs(r-g)<=n*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(i-b)<=n*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(s-w)<=n*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(a-E)<=n*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(h-v)<=n*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(o-Z)<=n*Math.max(1,Math.abs(o),Math.abs(Z))&&Math.abs(u-S)<=n*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(c-I)<=n*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(l-N)<=n*Math.max(1,Math.abs(l),Math.abs(N))&&Math.abs(f-O)<=n*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(d-A)<=n*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(m-T)<=n*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(M-k)<=n*Math.max(1,Math.abs(M),Math.abs(k))&&Math.abs(p-L)<=n*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(x-P)<=n*Math.max(1,Math.abs(x),Math.abs(P))&&Math.abs(y-R)<=n*Math.max(1,Math.abs(y),Math.abs(R))}function m(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function M(t,e,r,n){var i=e[0],s=e[1];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t}!function(){var t=function(){var t=new i(2);return i!=Float32Array&&(t[0]=0,t[1]=0),t}()}();var p=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t};!function(){var t=function(){var t=new i(3);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();function x(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const y=Math.PI,g=y/4,b=y/180,w=180/y,E=512,v=4003e4;function Z([t,e]){x(Number.isFinite(t)),x(Number.isFinite(e)&&e>=-90&&e<=90,"invalid latitude");const r=e*b;return[E*(t*b+y)/(2*y),E*(y+Math.log(Math.tan(g+.5*r)))/(2*y)]}function S([t,e]){const r=t/E*(2*y)-y,n=2*(Math.atan(Math.exp(e/E*(2*y)-y))-g);return[r*w,n*w]}function I({latitude:t}){x(Number.isFinite(t));const e=Math.cos(t*b);return function(t){return u(t)}(v*e)-9}function N({latitude:t,longitude:e,highPrecision:r=!1}){x(Number.isFinite(t)&&Number.isFinite(e));const n={},i=Math.cos(t*b),s=512/360,a=s/i,h=12790407194604047e-21/i;if(n.unitsPerMeter=[h,h,h],n.metersPerUnit=[1/h,1/h,1/h],n.unitsPerDegree=[s,a,h],n.degreesPerUnit=[.703125,1/a,1/h],r){const e=b*Math.tan(t*b)/i,r=s*e/2,o=12790407194604047e-21*e,u=o/a*h;n.unitsPerDegree2=[0,r,o],n.unitsPerMeter2=[u,0,u]}return n}function O(t,e){const[r,n,i]=t,[s,a,h]=e,{unitsPerMeter:o,unitsPerMeter2:u}=N({longitude:r,latitude:n,highPrecision:!0}),c=Z(t);c[0]+=s*(o[0]+u[0]*a),c[1]+=a*(o[1]+u[1]*a);const l=S(c),f=(i||0)+(h||0);return Number.isFinite(i)||Number.isFinite(h)?[l[0],l[1],f]:l}function A({height:t,pitch:e,bearing:r,altitude:n,scale:i,center:s=null}){const a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return l(a,a,[0,0,-n]),function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[4],a=e[5],h=e[6],o=e[7],u=e[8],c=e[9],l=e[10],f=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+u*n,t[5]=a*i+c*n,t[6]=h*i+l*n,t[7]=o*i+f*n,t[8]=u*i-s*n,t[9]=c*i-a*n,t[10]=l*i-h*n,t[11]=f*i-o*n}(a,a,-e*b),function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],h=e[2],o=e[3],u=e[4],c=e[5],l=e[6],f=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+u*n,t[1]=a*i+c*n,t[2]=h*i+l*n,t[3]=o*i+f*n,t[4]=u*i-s*n,t[5]=c*i-a*n,t[6]=l*i-h*n,t[7]=f*i-o*n}(a,a,r*b),f(a,a,[i/=t,i,i]),s&&l(a,a,function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}([],s)),a}function T({width:t,height:e,fovy:r=L(1.5),altitude:n,pitch:i=0,nearZMultiplier:s=1,farZMultiplier:a=1}){void 0!==n&&(r=L(n));const h=.5*r*b,o=P(r),u=i*b,c=Math.sin(h)*o/Math.sin(Math.min(Math.max(Math.PI/2-u-h,.01),Math.PI-.01));return{fov:2*h,aspect:t/e,focalDistance:o,near:s,far:(Math.sin(u)*c+o)*a}}function k({width:t,height:e,pitch:r,altitude:n,fovy:i,nearZMultiplier:s,farZMultiplier:a}){const{fov:h,aspect:o,near:u,far:c}=T({width:t,height:e,altitude:n,fovy:i,pitch:r,nearZMultiplier:s,farZMultiplier:a}),l=function(t,e,r,n,i){var s,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(n-i),t[10]=(i+n)*s,t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n),t}([],h,o,u,c);return l}function L(t){return 2*Math.atan(.5/t)*w}function P(t){return.5/Math.tan(.5*t*b)}function R(t,e){const[r,n,i=0]=t;return x(Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(i)),h(e,[r,n,i,1])}function z(t,e,r=0){const[n,i,s]=t;if(x(Number.isFinite(n)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(s)){return h(e,[n,i,s,1])}const a=h(e,[n,i,0,1]),o=h(e,[n,i,1,1]),u=a[2],c=o[2];return M([],a,o,u===c?0:((r||0)-u)/(c-u))}function C({width:t,height:e,bounds:r,minExtent:n=0,maxZoom:i=24,padding:s=0,offset:a=[0,0]}){const[[h,o],[c,l]]=r;if(Number.isFinite(s)){s={top:s,bottom:s,left:s,right:s}}else x(Number.isFinite(s.top)&&Number.isFinite(s.bottom)&&Number.isFinite(s.left)&&Number.isFinite(s.right));const f=new W({width:t,height:e,longitude:0,latitude:0,zoom:0}),d=f.project([h,l]),m=f.project([c,o]),M=[Math.max(Math.abs(m[0]-d[0]),n),Math.max(Math.abs(m[1]-d[1]),n)],p=[t-s.left-s.right-2*Math.abs(a[0]),e-s.top-s.bottom-2*Math.abs(a[1])];x(p[0]>0&&p[1]>0);const y=p[0]/M[0],g=p[1]/M[1],b=(s.right-s.left)/2/y,w=(s.bottom-s.top)/2/g,E=[(m[0]+d[0])/2+b,(m[1]+d[1])/2+w],v=f.unproject(E),Z=Math.min(i,f.zoom+u(Math.abs(Math.min(y,g))));return x(Number.isFinite(Z)),{longitude:v[0],latitude:v[1],zoom:Z}}const q=Math.PI/180;function F(t,e=0){const{width:r,height:n,unproject:i}=t,s={targetZ:e},a=i([0,n],s),h=i([r,n],s);let o,u;return(t.fovy?.5*t.fovy*q:Math.atan(.5/t.altitude))>(90-t.pitch)*q-.01?(o=j(t,0,e),u=j(t,r,e)):(o=i([0,0],s),u=i([r,0],s)),[a,h,u,o]}function j(t,e,r){const{pixelUnprojectionMatrix:n}=t,i=h(n,[e,0,1,1]),s=h(n,[e,t.height,1,1]),a=S(M([],i,s,(r*t.distanceScales.unitsPerMeter[2]-i[2])/(s[2]-i[2])));return a[2]=r,a}class W{constructor({width:t,height:e,latitude:r=0,longitude:n=0,zoom:i=0,pitch:s=0,bearing:a=0,altitude:h=null,fovy:o=null,position:u=null,nearZMultiplier:c=.02,farZMultiplier:l=1.01}={width:1,height:1}){t=t||1,e=e||1,null===o&&null===h?o=L(h=1.5):null===o?o=L(h):null===h&&(h=P(o));const f=function(t){return Math.pow(2,t)}(i);h=Math.max(.75,h);const d=N({longitude:n,latitude:r}),m=Z([n,r]);m[2]=0,u&&function(t,e,r){t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2]}(m,m,p([],u,d.unitsPerMeter)),this.projectionMatrix=k({width:t,height:e,pitch:s,fovy:o,nearZMultiplier:c,farZMultiplier:l}),this.viewMatrix=A({height:e,scale:f,center:m,pitch:s,bearing:a,altitude:h}),this.width=t,this.height=e,this.scale=f,this.latitude=r,this.longitude=n,this.zoom=i,this.pitch=s,this.bearing=a,this.altitude=h,this.fovy=o,this.center=m,this.meterOffset=u||[0,0,0],this.distanceScales=d,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}_initMatrices(){const{width:t,height:e,projectionMatrix:r,viewMatrix:n}=this,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];c(i,i,r),c(i,i,n),this.viewProjectionMatrix=i;const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];f(s,s,[t/2,-e/2,1]),l(s,s,[1,-1,0]),c(s,s,i);const a=function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],h=e[5],o=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],m=e[12],M=e[13],p=e[14],x=e[15],y=r*h-n*a,g=r*o-i*a,b=r*u-s*a,w=n*o-i*h,E=n*u-s*h,v=i*u-s*o,Z=c*M-l*m,S=c*p-f*m,I=c*x-d*m,N=l*p-f*M,O=l*x-d*M,A=f*x-d*p,T=y*A-g*O+b*N+w*I-E*S+v*Z;return T?(T=1/T,t[0]=(h*A-o*O+u*N)*T,t[1]=(i*O-n*A-s*N)*T,t[2]=(M*v-p*E+x*w)*T,t[3]=(f*E-l*v-d*w)*T,t[4]=(o*I-a*A-u*S)*T,t[5]=(r*A-i*I+s*S)*T,t[6]=(p*b-m*v-x*g)*T,t[7]=(c*v-f*b+d*g)*T,t[8]=(a*O-h*I+u*Z)*T,t[9]=(n*I-r*O-s*Z)*T,t[10]=(m*E-M*b+x*y)*T,t[11]=(l*b-c*E-d*y)*T,t[12]=(h*S-a*N-o*Z)*T,t[13]=(r*N-n*S+i*Z)*T,t[14]=(M*g-m*w-p*y)*T,t[15]=(c*w-l*g+f*y)*T,t):null}([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],s);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=s,this.pixelUnprojectionMatrix=a}equals(t){return t instanceof W&&(t.width===this.width&&t.height===this.height&&d(t.projectionMatrix,this.projectionMatrix)&&d(t.viewMatrix,this.viewMatrix))}project(t,{topLeft:e=!0}={}){const r=R(this.projectPosition(t),this.pixelProjectionMatrix),[n,i]=r,s=e?i:this.height-i;return 2===t.length?[n,s]:[n,s,r[2]]}unproject(t,{topLeft:e=!0,targetZ:r}={}){const[n,i,s]=t,a=e?i:this.height-i,h=r&&r*this.distanceScales.unitsPerMeter[2],o=z([n,a,s],this.pixelUnprojectionMatrix,h),[u,c,l]=this.unprojectPosition(o);return Number.isFinite(s)?[u,c,l]:Number.isFinite(r)?[u,c,r]:[u,c]}projectPosition(t){const[e,r]=Z(t);return[e,r,(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(t){const[e,r]=S(t);return[e,r,(t[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(t){return Z(t)}unprojectFlat(t){return S(t)}getMapCenterByLngLatPosition({lngLat:t,pos:e}){const r=z(e,this.pixelUnprojectionMatrix),n=m([],Z(t),function(t,e){return t[0]=-e[0],t[1]=-e[1],t}([],r));return S(m([],this.center,n))}getLocationAtPoint({lngLat:t,pos:e}){return this.getMapCenterByLngLatPosition({lngLat:t,pos:e})}fitBounds(t,e={}){const{width:r,height:n}=this,{longitude:i,latitude:s,zoom:a}=C(Object.assign({width:r,height:n,bounds:t},e));return new W({width:r,height:n,longitude:i,latitude:s,zoom:a})}getBounds(t){const e=this.getBoundingRegion(t),r=Math.min(...e.map((t=>t[0]))),n=Math.max(...e.map((t=>t[0])));return[[r,Math.min(...e.map((t=>t[1])))],[n,Math.max(...e.map((t=>t[1])))]]}getBoundingRegion(t={}){return F(this,t.z||0)}}function D({width:t,height:e,longitude:r,latitude:n,zoom:i,pitch:s=0,bearing:a=0}){(r<-180||r>180)&&(r=o(r+180,360)-180),(a<-180||a>180)&&(a=o(a+180,360)-180);const h=u(e/512);if(i<=h)i=h,n=0;else{const t=e/2/Math.pow(2,i),r=S([0,t])[1];if(n<r)n=r;else{const e=S([0,512-t])[1];n>e&&(n=e)}}return{width:t,height:e,longitude:r,latitude:n,zoom:i,pitch:s,bearing:a}}}}]);