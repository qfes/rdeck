(self.webpackChunkrdeck=self.webpackChunkrdeck||[]).push([[627],{6357:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});var i=r(4034),s=r(394);class n extends(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Array)){get ELEMENTS(){return(0,s.Z)(!1),0}clone(){return(new this.constructor).copy(this)}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}fromArray(t,e=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}to(t){return t===this?this:(0,i.kJ)(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toArray(t=[],e=0){for(let r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(i.vc)}formatString(t){let e="";for(let r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+(0,i.Bw)(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!(0,i.fS)(this[e],t[e]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,e,r){void 0===r&&(r=e,e=t,t=this);for(let i=0;i<this.ELEMENTS;++i){const s=t[i];this[i]=s+r*(e[i]-s)}return this.check()}min(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}max(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}clamp(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}add(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=e[t];return this.check()}subtract(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=e[t];return this.check()}scale(t){if(Array.isArray(t))return this.multiply(t);for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}sub(t){return this.subtract(t)}setScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}addScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}divideScalar(t){return this.scale(1/t)}clampScalar(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}multiplyByScalar(t){return this.scale(t)}get elements(){return this}check(){if(i.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}}},1e3:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var i=r(6357),s=r(6281),n=r(4034),h=r(394);class o extends i.Z{get ELEMENTS(){return(0,h.Z)(!1),0}get RANK(){return(0,h.Z)(!1),0}toString(){let t="[";if(n.vc.printRowMajor){t+="row-major:";for(let e=0;e<this.RANK;++e)for(let r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+e])}else{t+="column-major:";for(let e=0;e<this.ELEMENTS;++e)t+=" ".concat(this[e])}return t+="]",t}getElementIndex(t,e){return e*this.RANK+t}getElement(t,e){return this[e*this.RANK+t]}setElement(t,e,r){return this[e*this.RANK+t]=(0,s.u5)(r),this}getColumn(t,e=new Array(this.RANK).fill(-0)){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)e[t]=this[r+t];return e}setColumn(t,e){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)this[r+t]=e[t];return this}}},9521:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var i=r(6357),s=r(6281),n=r(394);class h extends i.Z{get ELEMENTS(){return(0,n.Z)(!1),0}copy(t){return(0,n.Z)(!1),this}get x(){return this[0]}set x(t){this[0]=(0,s.u5)(t)}get y(){return this[1]}set y(t){this[1]=(0,s.u5)(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let e=0;for(let r=0;r<this.ELEMENTS;++r){const i=this[r]-t[r];e+=i*i}return(0,s.u5)(e)}dot(t){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return(0,s.u5)(e)}normalize(){const t=this.magnitude();if(0!==t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}multiply(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e[t];return this.check()}divide(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return(0,n.Z)(t>=0&&t<this.ELEMENTS,"index is out of range"),(0,s.u5)(this[t])}setComponent(t,e){return(0,n.Z)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}addVectors(t,e){return this.copy(t).add(e)}subVectors(t,e){return this.copy(t).subtract(e)}multiplyVectors(t,e){return this.copy(t).multiply(e)}addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}},540:(t,e,r)=>{"use strict";r.d(e,{Z:()=>d});var i=r(1e3),s=r(6281),n=r(1031),h=r(5600),o=r(1437),a=r(7160);const c=Object.freeze([1,0,0,0,1,0,0,0,1]),u=Object.freeze([0,0,0,0,0,0,0,0,0]),l=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),f={};class d extends i.Z{static get IDENTITY(){return f.IDENTITY=f.IDENTITY||Object.freeze(new d(c)),f.IDENTITY}static get ZERO(){return f.ZERO=f.ZERO||Object.freeze(new d(u)),f.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return l}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}set(t,e,r,i,s,n,h,o,a){return this[0]=t,this[1]=e,this[2]=r,this[3]=i,this[4]=s,this[5]=n,this[6]=h,this[7]=o,this[8]=a,this.check()}setRowMajor(t,e,r,i,s,n,h,o,a){return this[0]=t,this[1]=i,this[2]=h,this[3]=e,this[4]=s,this[5]=o,this[6]=r,this[7]=n,this[8]=a,this.check()}determinant(){return h.GH(this)}identity(){return this.copy(c)}fromQuaternion(t){return h.en(this,t),this.check()}transpose(){return h.p4(this,this),this.check()}invert(){return h.U_(this,this),this.check()}multiplyLeft(t){return h.Jp(this,t,this),this.check()}multiplyRight(t){return h.Jp(this,this,t),this.check()}rotate(t){return h.U1(this,this,t),this.check()}scale(t){return Array.isArray(t)?h.bA(this,this,t):h.bA(this,this,[t,t,t]),this.check()}translate(t){return h.Iu(this,this,t),this.check()}transform(t,e){switch(t.length){case 2:e=o.kK(e||[-0,-0],t,this);break;case 3:e=a.kK(e||[-0,-0,-0],t,this);break;case 4:e=(0,n._x)(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,s.IL)(e,t.length),e}transformVector(t,e){return(0,s.x9)("Matrix3.transformVector"),this.transform(t,e)}transformVector2(t,e){return(0,s.x9)("Matrix3.transformVector"),this.transform(t,e)}transformVector3(t,e){return(0,s.x9)("Matrix3.transformVector"),this.transform(t,e)}}},5451:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var i=r(6281),s=r(1e3),n=r(1031),h=r(5975),o=r(1437),a=r(7160),c=r(8333);const u=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),l=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),f=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),d={};class m extends s.Z{static get IDENTITY(){return d.IDENTITY=d.IDENTITY||Object.freeze(new m(u)),d.IDENTITY}static get ZERO(){return d.ZERO=d.ZERO||Object.freeze(new m(l)),d.ZERO}get INDICES(){return f}get ELEMENTS(){return 16}get RANK(){return 4}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,e,r,i,s,n,h,o,a,c,u,l,f,d,m,p){return this[0]=t,this[1]=e,this[2]=r,this[3]=i,this[4]=s,this[5]=n,this[6]=h,this[7]=o,this[8]=a,this[9]=c,this[10]=u,this[11]=l,this[12]=f,this[13]=d,this[14]=m,this[15]=p,this.check()}setRowMajor(t,e,r,i,s,n,h,o,a,c,u,l,f,d,m,p){return this[0]=t,this[1]=s,this[2]=a,this[3]=f,this[4]=e,this[5]=n,this[6]=c,this[7]=d,this[8]=r,this[9]=h,this[10]=u,this[11]=m,this[12]=i,this[13]=o,this[14]=l,this[15]=p,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(u)}fromQuaternion(t){return h.en(this,t),this.check()}frustum({left:t,right:e,bottom:r,top:i,near:s,far:n}){return n===1/0?m._computeInfinitePerspectiveOffCenter(this,t,e,r,i,s):h.oy(this,t,e,r,i,s,n),this.check()}static _computeInfinitePerspectiveOffCenter(t,e,r,i,s,n){const h=2*n/(r-e),o=2*n/(s-i),a=(r+e)/(r-e),c=(s+i)/(s-i),u=-2*n;return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=a,t[9]=c,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=u,t[15]=0,t}lookAt(t,e,r){return 1===arguments.length&&({eye:t,center:e,up:r}=t),e=e||[0,0,0],r=r||[0,1,0],h.zB(this,t,e,r),this.check()}ortho({left:t,right:e,bottom:r,top:i,near:s=.1,far:n=500}){return h.M5(this,t,e,r,i,s,n),this.check()}orthographic({fovy:t=45*Math.PI/180,aspect:e=1,focalDistance:r=1,near:i=.1,far:s=500}){if(t>2*Math.PI)throw Error("radians");const n=t/2,h=r*Math.tan(n),o=h*e;return(new m).ortho({left:-o,right:o,bottom:-h,top:h,near:i,far:s})}perspective({fovy:t,fov:e=45*Math.PI/180,aspect:r=1,near:i=.1,far:s=500}={}){if((t=t||e)>2*Math.PI)throw Error("radians");return h.G3(this,t,r,i,s),this.check()}determinant(){return h.GH(this)}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=null){const r=this.getScale(e||[-0,-0,-0]),i=1/r[0],s=1/r[1],n=1/r[2];return t[0]=this[0]*i,t[1]=this[1]*s,t[2]=this[2]*n,t[3]=0,t[4]=this[4]*i,t[5]=this[5]*s,t[6]=this[6]*n,t[7]=0,t[8]=this[8]*i,t[9]=this[9]*s,t[10]=this[10]*n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=null){const r=this.getScale(e||[-0,-0,-0]),i=1/r[0],s=1/r[1],n=1/r[2];return t[0]=this[0]*i,t[1]=this[1]*s,t[2]=this[2]*n,t[3]=this[4]*i,t[4]=this[5]*s,t[5]=this[6]*n,t[6]=this[8]*i,t[7]=this[9]*s,t[8]=this[10]*n,t}transpose(){return h.p4(this,this),this.check()}invert(){return h.U_(this,this),this.check()}multiplyLeft(t){return h.Jp(this,t,this),this.check()}multiplyRight(t){return h.Jp(this,this,t),this.check()}rotateX(t){return h.lM(this,this,t),this.check()}rotateY(t){return h.uD(this,this,t),this.check()}rotateZ(t){return h.jI(this,this,t),this.check()}rotateXYZ([t,e,r]){return this.rotateX(t).rotateY(e).rotateZ(r)}rotateAxis(t,e){return h.U1(this,this,t,e),this.check()}scale(t){return Array.isArray(t)?h.bA(this,this,t):h.bA(this,this,[t,t,t]),this.check()}translate(t){return h.Iu(this,this,t),this.check()}transform(t,e){return 4===t.length?(e=c.fF(e||[-0,-0,-0,-0],t,this),(0,i.IL)(e,4),e):this.transformAsPoint(t,e)}transformAsPoint(t,e){const{length:r}=t;switch(r){case 2:e=o.fF(e||[-0,-0],t,this);break;case 3:e=a.fF(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,i.IL)(e,t.length),e}transformAsVector(t,e){switch(t.length){case 2:e=(0,n.pb)(e||[-0,-0],t,this);break;case 3:e=(0,n.pL)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,i.IL)(e,t.length),e}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,e,r){return this.identity().translate([t,e,r])}transformPoint(t,e){return(0,i.x9)("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,e)}transformVector(t,e){return(0,i.x9)("Matrix4.transformVector","3.0"),this.transformAsPoint(t,e)}transformDirection(t,e){return(0,i.x9)("Matrix4.transformDirection","3.0"),this.transformAsVector(t,e)}}},3037:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var i=r(6357),s=r(6281),n=r(394),h=r(2945),o=r(8333);const a=[0,0,0,1];class c extends i.Z{constructor(t=0,e=0,r=0,i=1){super(-0,-0,-0,-0),Array.isArray(t)&&1===arguments.length?this.copy(t):this.set(t,e,r,i)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,e,r,i){return this[0]=t,this[1]=e,this[2]=r,this[3]=i,this.check()}fromMatrix3(t){return h.bz(this,t),this.check()}identity(){return h.yR(this),this.check()}fromAxisRotation(t,e){return h.yY(this,t,e),this.check()}setAxisAngle(t,e){return this.fromAxisRotation(t,e)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=(0,s.u5)(t)}get y(){return this[1]}set y(t){this[1]=(0,s.u5)(t)}get z(){return this[2]}set z(t){this[2]=(0,s.u5)(t)}get w(){return this[3]}set w(t){this[3]=(0,s.u5)(t)}len(){return h.kE(this)}lengthSquared(){return h.we(this)}dot(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return h.AK(this,t)}rotationTo(t,e){return h.b0(this,t,e),this.check()}add(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return h.IH(this,this,t),this.check()}calculateW(){return h.ZY(this,this),this.check()}conjugate(){return h.Kx(this,this),this.check()}invert(){return h.U_(this,this),this.check()}lerp(t,e,r){return h.t7(this,t,e,r),this.check()}multiplyRight(t,e){return(0,n.Z)(!e),h.Jp(this,this,t),this.check()}multiplyLeft(t,e){return(0,n.Z)(!e),h.Jp(this,t,this),this.check()}normalize(){const t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}rotateX(t){return h.lM(this,this,t),this.check()}rotateY(t){return h.uD(this,this,t),this.check()}rotateZ(t){return h.jI(this,this,t),this.check()}scale(t){return h.bA(this,this,t),this.check()}slerp(t,e,r){switch(arguments.length){case 1:({start:t=a,target:e,ratio:r}=arguments[0]);break;case 2:[e,r]=arguments,t=this}return h.ZA(this,t,e,r),this.check()}transformVector4(t,e=t){return o.VC(e,t,this),(0,s.IL)(e,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,e){return this.setAxisAngle(t,e)}premultiply(t,e){return this.multiplyLeft(t,e)}multiply(t,e){return this.multiplyRight(t,e)}}},7069:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var i=r(9521),s=r(4034),n=r(6281),h=r(1437),o=r(1031);class a extends i.Z{constructor(t=0,e=0){super(2),(0,s.kJ)(t)&&1===arguments.length?this.copy(t):(s.vc.debug&&((0,n.u5)(t),(0,n.u5)(e)),this[0]=t,this[1]=e)}set(t,e){return this[0]=t,this[1]=e,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this.check()}fromObject(t){return s.vc.debug&&((0,n.u5)(t.x),(0,n.u5)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return h.fF(this,this,t),this.check()}transformAsVector(t){return(0,o.pb)(this,this,t),this.check()}transformByMatrix3(t){return h.kK(this,this,t),this.check()}transformByMatrix2x3(t){return h.iu(this,this,t),this.check()}transformByMatrix2(t){return h.c(this,this,t),this.check()}}},3855:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var i=r(9521),s=r(4034),n=r(6281),h=r(7160),o=r(1031);const a=[0,0,0],c={};class u extends i.Z{static get ZERO(){return c.ZERO=c.ZERO||Object.freeze(new u(0,0,0,0))}constructor(t=0,e=0,r=0){super(-0,-0,-0),1===arguments.length&&(0,s.kJ)(t)?this.copy(t):(s.vc.debug&&((0,n.u5)(t),(0,n.u5)(e),(0,n.u5)(r)),this[0]=t,this[1]=e,this[2]=r)}set(t,e,r){return this[0]=t,this[1]=e,this[2]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return s.vc.debug&&((0,n.u5)(t.x),(0,n.u5)(t.y),(0,n.u5)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=(0,n.u5)(t)}angle(t){return h.EU(this,t)}cross(t){return h.kC(this,this,t),this.check()}rotateX({radians:t,origin:e=a}){return h.lM(this,this,e,t),this.check()}rotateY({radians:t,origin:e=a}){return h.uD(this,this,e,t),this.check()}rotateZ({radians:t,origin:e=a}){return h.jI(this,this,e,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return h.fF(this,this,t),this.check()}transformAsVector(t){return(0,o.pL)(this,this,t),this.check()}transformByMatrix3(t){return h.kK(this,this,t),this.check()}transformByMatrix2(t){return(0,o.eQ)(this,this,t),this.check()}transformByQuaternion(t){return h.VC(this,this,t),this.check()}}},394:(t,e,r)=>{"use strict";function i(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}r.d(e,{Z:()=>i})},4034:(t,e,r)=>{"use strict";r.d(e,{vc:()=>n,Bw:()=>h,kJ:()=>o,Yr:()=>c,Ux:()=>u,RW:()=>l,uZ:()=>f,t7:()=>d,fS:()=>m});const i=1/Math.PI*180,s=1/180*Math.PI,n={};function h(t,{precision:e=n.precision||4}={}){return t=function(t){return Math.round(t/n.EPSILON)*n.EPSILON}(t),"".concat(parseFloat(t.toPrecision(e)))}function o(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function a(t,e,r){if(o(t)){r=r||((i=t).clone?i.clone():new Array(i.length));for(let i=0;i<r.length&&i<t.length;++i)r[i]=e(t[i],i,r);return r}var i;return e(t)}function c(t){return function(t,e){return a(t,(t=>t*s),e)}(t)}function u(t){return l(t)}function l(t,e){return a(t,(t=>t*i),e)}function f(t,e,r){return a(t,(t=>Math.max(e,Math.min(r,t))))}function d(t,e,r){return o(t)?t.map(((t,i)=>d(t,e[i],r))):r*e+(1-r)*t}function m(t,e,r){const i=n.EPSILON;r&&(n.EPSILON=r);try{if(t===e)return!0;if(o(t)&&o(e)){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!m(t[r],e[r]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):!(!Number.isFinite(t)||!Number.isFinite(e))&&Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{n.EPSILON=i}}n.EPSILON=1e-12,n.debug=!1,n.precision=4,n.printTypes=!1,n.printDegrees=!1,n.printRowMajor=!0},1031:(t,e,r)=>{"use strict";function i(t,e,r){const i=e[0],s=e[1],n=r[3]*i+r[7]*s||1;return t[0]=(r[0]*i+r[4]*s)/n,t[1]=(r[1]*i+r[5]*s)/n,t}function s(t,e,r){const i=e[0],s=e[1],n=e[2],h=r[3]*i+r[7]*s+r[11]*n||1;return t[0]=(r[0]*i+r[4]*s+r[8]*n)/h,t[1]=(r[1]*i+r[5]*s+r[9]*n)/h,t[2]=(r[2]*i+r[6]*s+r[10]*n)/h,t}function n(t,e,r){const i=e[0],s=e[1];return t[0]=r[0]*i+r[2]*s,t[1]=r[1]*i+r[3]*s,t[2]=e[2],t}function h(t,e,r){const i=e[0],s=e[1],n=e[2];return t[0]=r[0]*i+r[3]*s+r[6]*n,t[1]=r[1]*i+r[4]*s+r[7]*n,t[2]=r[2]*i+r[5]*s+r[8]*n,t[3]=e[3],t}r.d(e,{pb:()=>i,pL:()=>s,eQ:()=>n,_x:()=>h})},6281:(t,e,r)=>{"use strict";r.d(e,{u5:()=>s,IL:()=>n,x9:()=>o});var i=r(4034);function s(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function n(t,e,r=""){if(i.vc.debug&&!function(t,e){if(t.length!==e)return!1;for(let e=0;e<t.length;++e)if(!Number.isFinite(t[e]))return!1;return!0}(t,e))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return t}const h={};function o(t,e){h[t]||(h[t]=!0,console.warn("".concat(t," has been removed in version ").concat(e,", see upgrade guide for more information")))}},2872:(t,e,r)=>{"use strict";r.d(e,{Xx:()=>o,KM:()=>l,Mh:()=>F,F7:()=>A,JO:()=>v});const i=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});var s=r(3855);const n=new s.Z,h=new s.Z;class o{constructor(t=[0,0,0],e=[0,0,0],r=null){r=r||n.copy(t).add(e).scale(.5),this.center=new s.Z(r),this.halfDiagonal=new s.Z(e).subtract(this.center),this.minimum=new s.Z(t),this.maximum=new s.Z(e)}clone(){return new o(this.minimum,this.maximum,this.center)}equals(t){return this===t||Boolean(t)&&this.minimum.equals(t.minimum)&&this.maximum.equals(t.maximum)}transform(t){return this.center.transformAsPoint(t),this.halfDiagonal.transform(t),this.minimum.transform(t),this.maximum.transform(t),this}intersectPlane(t){const{halfDiagonal:e}=this,r=h.from(t.normal),s=e.x*Math.abs(r.x)+e.y*Math.abs(r.y)+e.z*Math.abs(r.z),n=this.center.dot(r)+t.distance;return n-s>0?i.INSIDE:n+s<0?i.OUTSIDE:i.INTERSECTING}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=n.from(t).subtract(this.center),{halfDiagonal:r}=this;let i,s=0;return i=Math.abs(e.x)-r.x,i>0&&(s+=i*i),i=Math.abs(e.y)-r.y,i>0&&(s+=i*i),i=Math.abs(e.z)-r.z,i>0&&(s+=i*i),s}}var a=r(5975);const c=new s.Z,u=new s.Z;class l{constructor(t=[0,0,0],e=0){this.radius=-0,this.center=new s.Z,this.fromCenterRadius(t,e)}fromCenterRadius(t,e){return this.center.from(t),this.radius=e,this}fromCornerPoints(t,e){return e=c.from(e),this.center=(new s.Z).from(t).add(e).scale(.5),this.radius=this.center.distance(e),this}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.radius===t.radius}clone(){return new l(this.center,this.radius)}union(t){const e=this.center,r=this.radius,i=t.center,s=t.radius,n=c.copy(i).subtract(e),h=n.magnitude();if(r>=h+s)return this.clone();if(s>=h+r)return t.clone();const o=.5*(r+h+s);return u.copy(n).scale((-r+o)/h).add(e),this.center.copy(u),this.radius=o,this}expand(t){const e=(t=c.from(t)).subtract(this.center).magnitude();return e>this.radius&&(this.radius=e),this}transform(t){this.center.transform(t);const e=a.Q$(c,t);return this.radius=Math.max(e[0],Math.max(e[1],e[2]))*this.radius,this}distanceSquaredTo(t){return(t=c.from(t)).subtract(this.center).lengthSquared()-this.radius*this.radius}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}intersectPlane(t){const e=this.center,r=this.radius,s=t.normal.dot(e)+t.distance;return s<-r?i.OUTSIDE:s<r?i.INTERSECTING:i.INSIDE}}var f=r(540),d=r(3037);const m=new s.Z,p=new s.Z,g=new s.Z,M=new s.Z,w=new s.Z,E=new s.Z,y=new s.Z,b=0,Z=1,S=2,x=3,N=4,O=5,I=6,k=7,T=8;class A{constructor(t=[0,0,0],e=[0,0,0,0,0,0,0,0,0]){this.center=(new s.Z).from(t),this.halfAxes=new f.Z(e)}get halfSize(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new s.Z(t).len(),new s.Z(e).len(),new s.Z(r).len()]}get quaternion(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),i=new s.Z(t).normalize(),n=new s.Z(e).normalize(),h=new s.Z(r).normalize();return(new d.Z).fromMatrix3(new f.Z([...i,...n,...h]))}fromCenterHalfSizeQuaternion(t,e,r){const i=new d.Z(r),n=(new f.Z).fromQuaternion(i);return n[0]=n[0]*e[0],n[1]=n[1]*e[0],n[2]=n[2]*e[0],n[3]=n[3]*e[1],n[4]=n[4]*e[1],n[5]=n[5]*e[1],n[6]=n[6]*e[2],n[7]=n[7]*e[2],n[8]=n[8]*e[2],this.center=(new s.Z).from(t),this.halfAxes=n,this}clone(){return new A(this.center,this.halfAxes)}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}getBoundingSphere(t=new l){const e=this.halfAxes,r=e.getColumn(0,g),i=e.getColumn(1,M),s=e.getColumn(2,w),n=m.copy(r).add(i).add(s);return t.center.copy(this.center),t.radius=n.magnitude(),t}intersectPlane(t){const e=this.center,r=t.normal,s=this.halfAxes,n=r.x,h=r.y,o=r.z,a=Math.abs(n*s[b]+h*s[Z]+o*s[S])+Math.abs(n*s[x]+h*s[N]+o*s[O])+Math.abs(n*s[I]+h*s[k]+o*s[T]),c=r.dot(e)+t.distance;return c<=-a?i.OUTSIDE:c>=a?i.INSIDE:i.INTERSECTING}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=p.from(t).subtract(this.center),r=this.halfAxes,i=r.getColumn(0,g),s=r.getColumn(1,M),n=r.getColumn(2,w),h=i.magnitude(),o=s.magnitude(),a=n.magnitude();i.normalize(),s.normalize(),n.normalize();let c,u=0;return c=Math.abs(e.dot(i))-h,c>0&&(u+=c*c),c=Math.abs(e.dot(s))-o,c>0&&(u+=c*c),c=Math.abs(e.dot(n))-a,c>0&&(u+=c*c),u}computePlaneDistances(t,e,r=[-0,-0]){let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;const n=this.center,h=this.halfAxes,o=h.getColumn(0,g),a=h.getColumn(1,M),c=h.getColumn(2,w),u=E.copy(o).add(a).add(c).add(n),l=y.copy(u).subtract(t);let f=e.dot(l);return i=Math.min(f,i),s=Math.max(f,s),u.copy(n).add(o).add(a).subtract(c),l.copy(u).subtract(t),f=e.dot(l),i=Math.min(f,i),s=Math.max(f,s),u.copy(n).add(o).subtract(a).add(c),l.copy(u).subtract(t),f=e.dot(l),i=Math.min(f,i),s=Math.max(f,s),u.copy(n).add(o).subtract(a).subtract(c),l.copy(u).subtract(t),f=e.dot(l),i=Math.min(f,i),s=Math.max(f,s),n.copy(u).subtract(o).add(a).add(c),l.copy(u).subtract(t),f=e.dot(l),i=Math.min(f,i),s=Math.max(f,s),n.copy(u).subtract(o).add(a).subtract(c),l.copy(u).subtract(t),f=e.dot(l),i=Math.min(f,i),s=Math.max(f,s),n.copy(u).subtract(o).subtract(a).add(c),l.copy(u).subtract(t),f=e.dot(l),i=Math.min(f,i),s=Math.max(f,s),n.copy(u).subtract(o).subtract(a).subtract(c),l.copy(u).subtract(t),f=e.dot(l),i=Math.min(f,i),s=Math.max(f,s),r[0]=i,r[1]=s,r}transform(t){this.center.transformAsPoint(t);const e=this.halfAxes.getColumn(0,g);e.transformAsPoint(t);const r=this.halfAxes.getColumn(1,M);r.transformAsPoint(t);const i=this.halfAxes.getColumn(2,w);return i.transformAsPoint(t),this.halfAxes=new f.Z([...e,...r,...i]),this}getTransform(){throw new Error("not implemented")}}var L=r(394),R=r(4034);const P=new s.Z,z=new s.Z;class v{constructor(t=[0,0,1],e=0){this.normal=new s.Z,this.distance=-0,this.fromNormalDistance(t,e)}fromNormalDistance(t,e){return(0,L.Z)(Number.isFinite(e)),this.normal.from(t).normalize(),this.distance=e,this}fromPointNormal(t,e){t=P.from(t),this.normal.from(e).normalize();const r=-this.normal.dot(t);return this.distance=r,this}fromCoefficients(t,e,r,i){return this.normal.set(t,e,r),(0,L.Z)((0,R.fS)(this.normal.len(),1)),this.distance=i,this}clone(t){return new v(this.normal,this.distance)}equals(t){return(0,R.fS)(this.distance,t.distance)&&(0,R.fS)(this.normal,t.normal)}getPointDistance(t){return this.normal.dot(t)+this.distance}transform(t){const e=z.copy(this.normal).transformAsVector(t).normalize(),r=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(r,e)}projectPointOntoPlane(t,e=[0,0,0]){t=P.from(t);const r=this.getPointDistance(t),i=z.copy(this.normal).scale(r);return t.subtract(i).to(e)}}const C=[new s.Z([1,0,0]),new s.Z([0,1,0]),new s.Z([0,0,1])],j=new s.Z,q=new s.Z;new v(new s.Z(1,0,0),0);class F{static get MASK_OUTSIDE(){return 4294967295}static get MASK_INSIDE(){return 0}static get MASK_INDETERMINATE(){return 2147483647}constructor(t=[]){this.planes=t,(0,L.Z)(this.planes.every((t=>t instanceof v)))}fromBoundingSphere(t){this.planes.length=2*C.length;const e=t.center,r=t.radius;let i=0;for(const t of C){let s=this.planes[i],n=this.planes[i+1];s||(s=this.planes[i]=new v),n||(n=this.planes[i+1]=new v);const h=j.copy(t).scale(-r).add(e);t.dot(h);s.fromPointNormal(h,t);const o=j.copy(t).scale(r).add(e),a=q.copy(t).negate();a.dot(o);n.fromPointNormal(o,a),i+=2}return this}computeVisibility(t){(0,L.Z)(t);let e=i.INSIDE;for(const r of this.planes){switch(t.intersectPlane(r)){case i.OUTSIDE:return i.OUTSIDE;case i.INTERSECTING:e=i.INTERSECTING}}return e}computeVisibilityWithPlaneMask(t,e){if((0,L.Z)(t,"boundingVolume is required."),(0,L.Z)(Number.isFinite(e),"parentPlaneMask is required."),e===F.MASK_OUTSIDE||e===F.MASK_INSIDE)return e;let r=F.MASK_INSIDE;const s=this.planes;for(let n=0;n<this.planes.length;++n){const h=n<31?1<<n:0;if(n<31&&0==(e&h))continue;const o=s[n],a=t.intersectPlane(o);if(a===i.OUTSIDE)return F.MASK_OUTSIDE;a===i.INTERSECTING&&(r|=h)}return r}}new s.Z,new s.Z,new s.Z,new s.Z,new s.Z;new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,Math.PI;new f.Z,new f.Z,new f.Z,new f.Z,new f.Z;new s.Z,new s.Z,new s.Z,new s.Z,new s.Z,new f.Z,new f.Z,new f.Z},2003:(t,e,r)=>{"use strict";r.d(e,{H:()=>C});var i=r(3855),s=r(394);const n=.1,h=1e-12,o=1e-15;Math.PI,Math.PI,Math.PI,Math.PI;var a=r(5451),c=r(4034),u=r(7160);const l=6378137,f=6378137,d=6356752.314245179,m=(Math.max(l,f,d),t=>t),p=new i.Z;function g(t,e,r=m){return(0,c.kJ)(t)?(e[0]=r(t[0]),e[1]=r(t[1]),e[2]=t[2]):"longitude"in t?(e[0]=r(t.longitude),e[1]=r(t.latitude),e[2]=t.height):(e[0]=r(t.x),e[1]=r(t.y),e[2]=t.z),e}function M(t,e,r=m){return(0,c.kJ)(e)?(e[0]=r(t[0]),e[1]=r(t[1]),e[2]=t[2]):"longitude"in e?(e.longitude=r(t[0]),e.latitude=r(t[1]),e.height=t[2]):(e.x=r(t[0]),e.y=r(t[1]),e.z=t[2]),e}const w=new i.Z,E=new i.Z,y=new i.Z;const b=new i.Z,Z={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},S={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},x={east:new i.Z,north:new i.Z,up:new i.Z,west:new i.Z,south:new i.Z,down:new i.Z},N=new i.Z,O=new i.Z,I=new i.Z;function k(t,e,r,i,n,h){const o=Z[e]&&Z[e][r];let a,u,l;(0,s.Z)(o&&(!i||i===o));const f=b.copy(n);if((0,c.fS)(f.x,0,1e-14)&&(0,c.fS)(f.y,0,1e-14)){const t=Math.sign(f.z);a=N.fromArray(S[e]),"east"!==e&&"west"!==e&&a.scale(t),u=O.fromArray(S[r]),"east"!==r&&"west"!==r&&u.scale(t),l=I.fromArray(S[i]),"east"!==i&&"west"!==i&&l.scale(t)}else{const{up:s,east:n,north:h}=x;n.set(-f.y,f.x,0).normalize(),t.geodeticSurfaceNormal(f,s),h.copy(s).cross(n);const{down:o,west:c,south:d}=x;o.copy(s).scale(-1),c.copy(n).scale(-1),d.copy(h).scale(-1),a=x[e],u=x[r],l=x[i]}return h[0]=a.x,h[1]=a.y,h[2]=a.z,h[3]=0,h[4]=u.x,h[5]=u.y,h[6]=u.z,h[7]=0,h[8]=l.x,h[9]=l.y,h[10]=l.z,h[11]=0,h[12]=f.x,h[13]=f.y,h[14]=f.z,h[15]=1,h}const T=new i.Z,A=new i.Z,L=new i.Z,R=new i.Z,P=new i.Z,z=new i.Z;let v;class C{static get WGS84(){return v=v||new C(l,f,d),v}constructor(t=0,e=0,r=0){(0,s.Z)(t>=0),(0,s.Z)(e>=0),(0,s.Z)(r>=0),this.radii=new i.Z(t,e,r),this.radiiSquared=new i.Z(t*t,e*e,r*r),this.radiiToTheFourth=new i.Z(t*t*t*t,e*e*e*e,r*r*r*r),this.oneOverRadii=new i.Z(0===t?0:1/t,0===e?0:1/e,0===r?0:1/r),this.oneOverRadiiSquared=new i.Z(0===t?0:1/(t*t),0===e?0:1/(e*e),0===r?0:1/(r*r)),this.minimumRadius=Math.min(t,e,r),this.maximumRadius=Math.max(t,e,r),this.centerToleranceSquared=n,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(t){return this===t||Boolean(t&&this.radii.equals(t.radii))}toString(){return this.radii.toString()}cartographicToCartesian(t,e=[0,0,0]){const r=A,i=L,[,,s]=t;this.geodeticSurfaceNormalCartographic(t,r),i.copy(this.radiiSquared).scale(r);const n=Math.sqrt(r.dot(i));return i.scale(1/n),r.scale(s),i.add(r),i.to(e)}cartesianToCartographic(t,e=[0,0,0]){z.from(t);const r=this.scaleToGeodeticSurface(z,R);if(!r)return;const i=this.geodeticSurfaceNormal(r,A),s=P;s.copy(z).subtract(r);const n=Math.atan2(i.y,i.x),h=Math.asin(i.z),o=Math.sign(u.AK(s,z))*u.kE(s);return M([n,h,o],e,c.vc._cartographicRadians?m:c.Ux)}eastNorthUpToFixedFrame(t,e=new a.Z){return k(this,"east","north","up",t,e)}localFrameToFixedFrame(t,e,r,i,s=new a.Z){return k(this,t,e,r,i,s)}geocentricSurfaceNormal(t,e=[0,0,0]){return T.from(t).normalize().to(e)}geodeticSurfaceNormalCartographic(t,e=[0,0,0]){const r=function(t,e=p){return g(t,e,c.vc._cartographicRadians?m:c.Yr)}(t),i=r[0],s=r[1],n=Math.cos(s);return T.set(n*Math.cos(i),n*Math.sin(i),Math.sin(s)).normalize(),T.to(e)}geodeticSurfaceNormal(t,e=[0,0,0]){return T.from(t).scale(this.oneOverRadiiSquared).normalize().to(e)}scaleToGeodeticSurface(t,e){return function(t,e,r=new i.Z){const{oneOverRadii:s,oneOverRadiiSquared:n,centerToleranceSquared:o}=e;w.from(t);const a=t.x,c=t.y,u=t.z,l=s.x,f=s.y,d=s.z,m=a*a*l*l,p=c*c*f*f,g=u*u*d*d,M=m+p+g,b=Math.sqrt(1/M);if(!Number.isFinite(b))return;const Z=E;if(Z.copy(t).scale(b),M<o)return Z.to(r);const S=n.x,x=n.y,N=n.z,O=y;O.set(Z.x*S*2,Z.y*x*2,Z.z*N*2);let I,k,T,A,L=(1-b)*t.len()/(.5*O.len()),R=0;do{L-=R,I=1/(1+L*S),k=1/(1+L*x),T=1/(1+L*N);const t=I*I,e=k*k,r=T*T;A=m*t+p*e+g*r-1,R=A/(-2*(m*(t*I)*S+p*(e*k)*x+g*(r*T)*N))}while(Math.abs(A)>h);return w.scale([I,k,T]).to(r)}(t,this,e)}scaleToGeocentricSurface(t,e=[0,0,0]){R.from(t);const r=R.x,i=R.y,s=R.z,n=this.oneOverRadiiSquared,h=1/Math.sqrt(r*r*n.x+i*i*n.y+s*s*n.z);return R.multiplyScalar(h).to(e)}transformPositionToScaledSpace(t,e=[0,0,0]){return R.from(t).scale(this.oneOverRadii).to(e)}transformPositionFromScaledSpace(t,e=[0,0,0]){return R.from(t).scale(this.radii).to(e)}getSurfaceNormalIntersectionWithZAxis(t,e=0,r=[0,0,0]){(0,s.Z)((0,c.fS)(this.radii.x,this.radii.y,o)),(0,s.Z)(this.radii.z>0),R.from(t);const i=R.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(i)>=this.radii.z-e))return R.set(0,0,i).to(r)}}},5215:(t,e,r)=>{"use strict";r.d(e,{wG:()=>i,WZ:()=>f,GU:()=>w,dj:()=>u,ct:()=>M,Ny:()=>s});const i={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function s(t,e,r={}){return function(t,e={}){return Math.sign(function(t,e={}){const{start:r=0,end:i=t.length}=e,s=e.size||2;let n=0;for(let e=r,h=i-s;e<i;e+=s)n+=(t[e]-t[h])*(t[e+1]+t[h+1]),h=e;return n/2}(t,e))}(t,r)!==e&&(function(t,e){const{start:r=0,end:i=t.length,size:s=2}=e,n=(i-r)/s,h=Math.floor(n/2);for(let e=0;e<h;++e){const i=r+e*s,h=r+(n-1-e)*s;for(let e=0;e<s;++e){const r=t[i+e];t[i+e]=t[h+e],t[h+e]=r}}}(t,r),!0)}function n(t,e,r,i,s=[]){let n,h;if(8&r)n=(i[3]-t[1])/(e[1]-t[1]),h=3;else if(4&r)n=(i[1]-t[1])/(e[1]-t[1]),h=1;else if(2&r)n=(i[2]-t[0])/(e[0]-t[0]),h=2;else{if(!(1&r))return null;n=(i[0]-t[0])/(e[0]-t[0]),h=0}for(let r=0;r<t.length;r++)s[r]=(1&h)===r?i[h]:n*(e[r]-t[r])+t[r];return s}function h(t,e){let r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}function o(t,e){const r=e.length,i=t.length;if(i>0){let s=!0;for(let n=0;n<r;n++)if(t[i-r+n]!==e[n]){s=!1;break}if(s)return!1}for(let s=0;s<r;s++)t[i+s]=e[s];return!0}function a(t,e){const r=e.length;for(let i=0;i<r;i++)t[i]=e[i]}function c(t,e,r,i,s=[]){const n=i+e*r;for(let e=0;e<r;e++)s[e]=t[n+e];return s}function u(t,e={}){const{size:r=2,broken:i=!1,gridResolution:s=10,gridOffset:u=[0,0],startIndex:l=0,endIndex:f=t.length}=e,d=(f-l)/r;let g=[];const M=[g],w=c(t,0,r,l);let E,y;const b=m(w,s,u,[]),Z=[];o(g,w);for(let e=1;e<d;e++){for(E=c(t,e,r,l,E),y=h(E,b);y;){n(w,E,y,b,Z);const t=h(Z,b);t&&(n(w,Z,t,b,Z),y=t),o(g,Z),a(w,Z),p(b,s,y),i&&g.length>r&&(g=[],M.push(g),o(g,w)),y=h(E,b)}o(g,E),a(w,E)}return i?M:M[0]}function l(t,e){for(let r=0;r<e.length;r++)t.push(e[r]);return t}function f(t,e,r={}){if(!t.length)return[];const{size:i=2,gridResolution:s=10,gridOffset:n=[0,0],edgeTypes:o=!1}=r,a=[],c=[{pos:t,types:o&&new Array(t.length/i).fill(1),holes:e||[]}],u=[[],[]];let f=[];for(;c.length;){const{pos:t,types:e,holes:r}=c.shift();g(t,i,r[0]||t.length,u),f=m(u[0],s,n,f);const p=h(u[1],f);if(p){let s=d(t,e,i,0,r[0]||t.length,f,p);const n={pos:s[0].pos,types:s[0].types,holes:[]},h={pos:s[1].pos,types:s[1].types,holes:[]};c.push(n,h);for(let a=0;a<r.length;a++)s=d(t,e,i,r[a],r[a+1]||t.length,f,p),s[0]&&(n.holes.push(n.pos.length),n.pos=l(n.pos,s[0].pos),o&&(n.types=l(n.types,s[0].types))),s[1]&&(h.holes.push(h.pos.length),h.pos=l(h.pos,s[1].pos),o&&(h.types=l(h.types,s[1].types)))}else{const i={positions:t};o&&(i.edgeTypes=e),r.length&&(i.holeIndices=r),a.push(i)}}return a}function d(t,e,r,i,s,h,u){const l=(s-i)/r,f=[],d=[],m=[],p=[],g=[];let M,w,E;const y=c(t,l-1,r,i);let b=Math.sign(8&u?y[1]-h[3]:y[0]-h[2]),Z=e&&e[l-1],S=0,x=0;for(let s=0;s<l;s++)M=c(t,s,r,i,M),w=Math.sign(8&u?M[1]-h[3]:M[0]-h[2]),E=e&&e[i/r+s],w&&b&&b!==w&&(n(y,M,u,h,g),o(f,g)&&m.push(Z),o(d,g)&&p.push(Z)),w<=0?(o(f,M)&&m.push(E),S-=w):m.length&&(m[m.length-1]=0),w>=0?(o(d,M)&&p.push(E),x+=w):p.length&&(p[p.length-1]=0),a(y,M),b=w,Z=E;return[S?{pos:f,types:e&&m}:null,x?{pos:d,types:e&&p}:null]}function m(t,e,r,i){const s=Math.floor((t[0]-r[0])/e)*e+r[0],n=Math.floor((t[1]-r[1])/e)*e+r[1];return i[0]=s,i[1]=n,i[2]=s+e,i[3]=n+e,i}function p(t,e,r){8&r?(t[1]+=e,t[3]+=e):4&r?(t[1]-=e,t[3]-=e):2&r?(t[0]+=e,t[2]+=e):1&r&&(t[0]-=e,t[2]-=e)}function g(t,e,r,i){let s=1/0,n=-1/0,h=1/0,o=-1/0;for(let i=0;i<r;i+=e){const e=t[i],r=t[i+1];s=e<s?e:s,n=e>n?e:n,h=r<h?r:h,o=r>o?r:o}return i[0][0]=s,i[0][1]=h,i[1][0]=n,i[1][1]=o,i}function M(t,e={}){const{size:r=2,startIndex:i=0,endIndex:s=t.length,normalize:n=!0}=e,h=t.slice(i,s);b(h,r,0,s-i);const o=u(h,{size:r,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(n)for(const t of o)Z(t,r);return o}function w(t,e,r={}){const{size:i=2,normalize:s=!0,edgeTypes:n=!1}=r;e=e||[];const h=[],o=[];let a=0,c=0;for(let s=0;s<=e.length;s++){const n=e[s]||t.length,u=c,l=E(t,i,a,n);for(let e=l;e<n;e++)h[c++]=t[e];for(let e=a;e<l;e++)h[c++]=t[e];b(h,i,u,c),y(h,i,u,c,r.maxLatitude),a=n,o[s]=c}o.pop();const u=f(h,o,{size:i,gridResolution:360,gridOffset:[-180,-180],edgeTypes:n});if(s)for(const t of u)Z(t.positions,i);return u}function E(t,e,r,i){let s=-1,n=-1;for(let h=r+1;h<i;h+=e){const e=Math.abs(t[h]);e>s&&(s=e,n=h-1)}return n}function y(t,e,r,i,s=85.051129){const n=t[r],h=t[i-e];if(Math.abs(n-h)>180){const i=c(t,0,e,r);i[0]+=360*Math.round((h-n)/360),o(t,i),i[1]=Math.sign(i[1])*s,o(t,i),i[0]=n,o(t,i)}}function b(t,e,r,i){let s,n=t[0];for(let h=r;h<i;h+=e){s=t[h];const e=s-n;(e>180||e<-180)&&(s-=360*Math.round(e/360)),t[h]=n=s}}function Z(t,e){let r;const i=t.length/e;for(let s=0;s<i&&(r=t[s*e],(r+180)%360==0);s++);const s=360*-Math.round(r/360);if(0!==s)for(let r=0;r<i;r++)t[r*e]+=s}},7013:(t,e,r)=>{"use strict";r.d(e,{DW:()=>R,eG:()=>b,Xg:()=>k,zX:()=>A,ro:()=>y,Bf:()=>E,wl:()=>S,lf:()=>Z,w5:()=>M,QA:()=>v,CT:()=>I,es:()=>w,aW:()=>O});var i=r(8333);function s(t,e){const r=i.fF([],e,t);return i.bA(r,r,1/r[3]),r}function n(t,e){const r=t%e;return r<0?e+r:r}const h=Math.log2||function(t){return Math.log(t)*Math.LOG2E};var o=r(5975),a=r(1437),c=r(7160);function u(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const l=Math.PI,f=l/4,d=l/180,m=180/l,p=512,g=4003e4;function M([t,e]){u(Number.isFinite(t)),u(Number.isFinite(e)&&e>=-90&&e<=90,"invalid latitude");const r=e*d;return[p*(t*d+l)/(2*l),p*(l+Math.log(Math.tan(f+.5*r)))/(2*l)]}function w([t,e]){const r=t/p*(2*l)-l,i=2*(Math.atan(Math.exp(e/p*(2*l)-l))-f);return[r*m,i*m]}function E({latitude:t}){u(Number.isFinite(t));const e=Math.cos(t*d);return h(g*e)-9}function y({latitude:t,longitude:e,highPrecision:r=!1}){u(Number.isFinite(t)&&Number.isFinite(e));const i={},s=Math.cos(t*d),n=512/360,h=n/s,o=12790407194604047e-21/s;if(i.unitsPerMeter=[o,o,o],i.metersPerUnit=[1/o,1/o,1/o],i.unitsPerDegree=[n,h,o],i.degreesPerUnit=[.703125,1/h,1/o],r){const e=d*Math.tan(t*d)/s,r=n*e/2,a=12790407194604047e-21*e,c=a/h*o;i.unitsPerDegree2=[0,r,a],i.unitsPerMeter2=[c,0,c]}return i}function b(t,e){const[r,i,s]=t,[n,h,o]=e,{unitsPerMeter:a,unitsPerMeter2:c}=y({longitude:r,latitude:i,highPrecision:!0}),u=M(t);u[0]+=n*(a[0]+c[0]*h),u[1]+=h*(a[1]+c[1]*h);const l=w(u),f=(s||0)+(o||0);return Number.isFinite(s)||Number.isFinite(o)?[l[0],l[1],f]:l}function Z({height:t,pitch:e,bearing:r,altitude:i,scale:s,center:n=null}){const h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return o.Iu(h,h,[0,0,-i]),o.lM(h,h,-e*d),o.jI(h,h,r*d),s/=t,o.bA(h,h,[s,s,s]),n&&o.Iu(h,h,c.tk([],n)),h}function S({width:t,height:e,fovy:r=x(1.5),altitude:i,pitch:s=0,nearZMultiplier:n=1,farZMultiplier:h=1}){void 0!==i&&(r=x(i));const o=.5*r*d,a=N(r),c=s*d,u=Math.sin(o)*a/Math.sin(Math.min(Math.max(Math.PI/2-c-o,.01),Math.PI-.01));return{fov:2*o,aspect:t/e,focalDistance:a,near:n,far:(Math.sin(c)*u+a)*h}}function x(t){return 2*Math.atan(.5/t)*m}function N(t){return.5/Math.tan(.5*t*d)}function O(t,e){const[r,i,n=0]=t;return u(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(n)),s(e,[r,i,n,1])}function I(t,e,r=0){const[i,n,h]=t;if(u(Number.isFinite(i)&&Number.isFinite(n),"invalid pixel coordinate"),Number.isFinite(h)){return s(e,[i,n,h,1])}const o=s(e,[i,n,0,1]),c=s(e,[i,n,1,1]),l=o[2],f=c[2],d=l===f?0:((r||0)-l)/(f-l);return a.t7([],o,c,d)}function k({width:t,height:e,bounds:r,minExtent:i=0,maxZoom:s=24,padding:n=0,offset:o=[0,0]}){const[[a,c],[l,f]]=r;if(Number.isFinite(n)){n={top:n,bottom:n,left:n,right:n}}else u(Number.isFinite(n.top)&&Number.isFinite(n.bottom)&&Number.isFinite(n.left)&&Number.isFinite(n.right));const d=new R({width:t,height:e,longitude:0,latitude:0,zoom:0}),m=d.project([a,f]),p=d.project([l,c]),g=[Math.max(Math.abs(p[0]-m[0]),i),Math.max(Math.abs(p[1]-m[1]),i)],M=[t-n.left-n.right-2*Math.abs(o[0]),e-n.top-n.bottom-2*Math.abs(o[1])];u(M[0]>0&&M[1]>0);const w=M[0]/g[0],E=M[1]/g[1],y=(n.right-n.left)/2/w,b=(n.bottom-n.top)/2/E,Z=[(p[0]+m[0])/2+y,(p[1]+m[1])/2+b],S=d.unproject(Z),x=Math.min(s,d.zoom+h(Math.abs(Math.min(w,E))));return u(Number.isFinite(x)),{longitude:S[0],latitude:S[1],zoom:x}}const T=Math.PI/180;function A(t,e=0){const{width:r,height:i,unproject:s}=t,n={targetZ:e},h=s([0,i],n),o=s([r,i],n);let a,c;return(t.fovy?.5*t.fovy*T:Math.atan(.5/t.altitude))>(90-t.pitch)*T-.01?(a=L(t,0,e),c=L(t,r,e)):(a=s([0,0],n),c=s([r,0],n)),[h,o,c,a]}function L(t,e,r){const{pixelUnprojectionMatrix:i}=t,n=s(i,[e,0,1,1]),h=s(i,[e,t.height,1,1]),o=(r*t.distanceScales.unitsPerMeter[2]-n[2])/(h[2]-n[2]),c=w(a.t7([],n,h,o));return c[2]=r,c}class R{constructor({width:t,height:e,latitude:r=0,longitude:i=0,zoom:s=0,pitch:n=0,bearing:h=0,altitude:a=null,fovy:u=null,position:l=null,nearZMultiplier:f=.02,farZMultiplier:d=1.01}={width:1,height:1}){t=t||1,e=e||1,null===u&&null===a?u=x(a=1.5):null===u?u=x(a):null===a&&(a=N(u));const m=function(t){return Math.pow(2,t)}(s);a=Math.max(.75,a);const p=y({longitude:i,latitude:r}),g=M([i,r]);g[2]=0,l&&c.IH(g,g,c.dC([],l,p.unitsPerMeter)),this.projectionMatrix=function({width:t,height:e,pitch:r,altitude:i,fovy:s,nearZMultiplier:n,farZMultiplier:h}){const{fov:a,aspect:c,near:u,far:l}=S({width:t,height:e,altitude:i,fovy:s,pitch:r,nearZMultiplier:n,farZMultiplier:h});return o.G3([],a,c,u,l)}({width:t,height:e,pitch:n,fovy:u,nearZMultiplier:f,farZMultiplier:d}),this.viewMatrix=Z({height:e,scale:m,center:g,pitch:n,bearing:h,altitude:a}),this.width=t,this.height=e,this.scale=m,this.latitude=r,this.longitude=i,this.zoom=s,this.pitch=n,this.bearing=h,this.altitude=a,this.fovy=u,this.center=g,this.meterOffset=l||[0,0,0],this.distanceScales=p,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}_initMatrices(){const{width:t,height:e,projectionMatrix:r,viewMatrix:i}=this,s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];o.Jp(s,s,r),o.Jp(s,s,i),this.viewProjectionMatrix=s;const n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];o.bA(n,n,[t/2,-e/2,1]),o.Iu(n,n,[1,-1,0]),o.Jp(n,n,s);const h=o.U_([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n);if(!h)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=n,this.pixelUnprojectionMatrix=h}equals(t){return t instanceof R&&(t.width===this.width&&t.height===this.height&&o.fS(t.projectionMatrix,this.projectionMatrix)&&o.fS(t.viewMatrix,this.viewMatrix))}project(t,{topLeft:e=!0}={}){const r=O(this.projectPosition(t),this.pixelProjectionMatrix),[i,s]=r,n=e?s:this.height-s;return 2===t.length?[i,n]:[i,n,r[2]]}unproject(t,{topLeft:e=!0,targetZ:r}={}){const[i,s,n]=t,h=e?s:this.height-s,o=r&&r*this.distanceScales.unitsPerMeter[2],a=I([i,h,n],this.pixelUnprojectionMatrix,o),[c,u,l]=this.unprojectPosition(a);return Number.isFinite(n)?[c,u,l]:Number.isFinite(r)?[c,u,r]:[c,u]}projectPosition(t){const[e,r]=M(t);return[e,r,(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(t){const[e,r]=w(t);return[e,r,(t[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(t){return M(t)}unprojectFlat(t){return w(t)}getMapCenterByLngLatPosition({lngLat:t,pos:e}){const r=I(e,this.pixelUnprojectionMatrix),i=M(t),s=a.IH([],i,a.tk([],r));return w(a.IH([],this.center,s))}getLocationAtPoint({lngLat:t,pos:e}){return this.getMapCenterByLngLatPosition({lngLat:t,pos:e})}fitBounds(t,e={}){const{width:r,height:i}=this,{longitude:s,latitude:n,zoom:h}=k(Object.assign({width:r,height:i,bounds:t},e));return new R({width:r,height:i,longitude:s,latitude:n,zoom:h})}getBounds(t){const e=this.getBoundingRegion(t),r=Math.min(...e.map((t=>t[0]))),i=Math.max(...e.map((t=>t[0])));return[[r,Math.min(...e.map((t=>t[1])))],[i,Math.max(...e.map((t=>t[1])))]]}getBoundingRegion(t={}){return A(this,t.z||0)}}const P=85.05113,z=-85.05113;function v({width:t,height:e,longitude:r,latitude:i,zoom:s,pitch:o=0,bearing:a=0}){(r<-180||r>180)&&(r=n(r+180,360)-180),(a<-180||a>180)&&(a=n(a+180,360)-180);let c=new R({width:t,height:e,longitude:r,latitude:i,zoom:s}),u=c.project([r,P])[1],l=c.project([r,z])[1],f=0;return l-u<e&&(s+=h(e/(l-u)),c=new R({width:t,height:e,longitude:r,latitude:i,zoom:s}),u=c.project([r,P])[1],l=c.project([r,z])[1]),u>0?f=u:l<e&&(f=l-e),f&&(i=c.unproject([t/2,e/2+f])[1]),{width:t,height:e,longitude:r,latitude:i,zoom:s,pitch:o,bearing:a}}}}]);