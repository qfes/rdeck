"use strict";(self.webpackChunkrdeck=self.webpackChunkrdeck||[]).push([[627],{6357:(t,e,r)=>{r.d(e,{Z:()=>s});var n=r(4034),i=r(394);class s extends(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Array)){get ELEMENTS(){return(0,i.Z)(!1),0}clone(){return(new this.constructor).copy(this)}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}fromArray(t,e=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}to(t){return t===this?this:(0,n.kJ)(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toArray(t=[],e=0){for(let r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(n.vc)}formatString(t){let e="";for(let r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+(0,n.Bw)(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(!(0,n.fS)(this[e],t[e]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,e,r){void 0===r&&(r=e,e=t,t=this);for(let n=0;n<this.ELEMENTS;++n){const i=t[n];this[n]=i+r*(e[n]-i)}return this.check()}min(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}max(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}clamp(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}add(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=e[t];return this.check()}subtract(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=e[t];return this.check()}scale(t){if(Array.isArray(t))return this.multiply(t);for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}sub(t){return this.subtract(t)}setScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}addScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}divideScalar(t){return this.scale(1/t)}clampScalar(t,e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}multiplyByScalar(t){return this.scale(t)}get elements(){return this}check(){if(n.vc.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}}},1e3:(t,e,r)=>{r.d(e,{Z:()=>h});var n=r(6357),i=r(6281),s=r(4034),o=r(394);class h extends n.Z{get ELEMENTS(){return(0,o.Z)(!1),0}get RANK(){return(0,o.Z)(!1),0}toString(){let t="[";if(s.vc.printRowMajor){t+="row-major:";for(let e=0;e<this.RANK;++e)for(let r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+e])}else{t+="column-major:";for(let e=0;e<this.ELEMENTS;++e)t+=" ".concat(this[e])}return t+="]",t}getElementIndex(t,e){return e*this.RANK+t}getElement(t,e){return this[e*this.RANK+t]}setElement(t,e,r){return this[e*this.RANK+t]=(0,i.u5)(r),this}getColumn(t,e=new Array(this.RANK).fill(-0)){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)e[t]=this[r+t];return e}setColumn(t,e){const r=t*this.RANK;for(let t=0;t<this.RANK;++t)this[r+t]=e[t];return this}}},2678:(t,e,r)=>{r.d(e,{Z:()=>o});var n=r(6357),i=r(6281),s=r(394);class o extends n.Z{get ELEMENTS(){return(0,s.Z)(!1),0}copy(t){return(0,s.Z)(!1),this}get x(){return this[0]}set x(t){this[0]=(0,i.u5)(t)}get y(){return this[1]}set y(t){this[1]=(0,i.u5)(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let e=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-t[r];e+=n*n}return(0,i.u5)(e)}dot(t){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return(0,i.u5)(e)}normalize(){const t=this.magnitude();if(0!==t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}multiply(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e[t];return this.check()}divide(...t){for(const e of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return(0,s.Z)(t>=0&&t<this.ELEMENTS,"index is out of range"),(0,i.u5)(this[t])}setComponent(t,e){return(0,s.Z)(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}addVectors(t,e){return this.copy(t).add(e)}subVectors(t,e){return this.copy(t).subtract(e)}multiplyVectors(t,e){return this.copy(t).multiply(e)}addScaledVector(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}},540:(t,e,r)=>{r.d(e,{Z:()=>d});var n=r(1e3),i=r(6281),s=r(1031),o=r(2125),h=r(4219),a=r(7964);const u=Object.freeze([1,0,0,0,1,0,0,0,1]),c=Object.freeze([0,0,0,0,0,0,0,0,0]),l=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),f={};class d extends n.Z{static get IDENTITY(){return f.IDENTITY=f.IDENTITY||Object.freeze(new d(u)),f.IDENTITY}static get ZERO(){return f.ZERO=f.ZERO||Object.freeze(new d(c)),f.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return l}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}set(t,e,r,n,i,s,o,h,a){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=i,this[5]=s,this[6]=o,this[7]=h,this[8]=a,this.check()}setRowMajor(t,e,r,n,i,s,o,h,a){return this[0]=t,this[1]=n,this[2]=o,this[3]=e,this[4]=i,this[5]=h,this[6]=r,this[7]=s,this[8]=a,this.check()}determinant(){return o.GH(this)}identity(){return this.copy(u)}fromQuaternion(t){return o.en(this,t),this.check()}transpose(){return o.p4(this,this),this.check()}invert(){return o.U_(this,this),this.check()}multiplyLeft(t){return o.Jp(this,t,this),this.check()}multiplyRight(t){return o.Jp(this,this,t),this.check()}rotate(t){return o.U1(this,this,t),this.check()}scale(t){return Array.isArray(t)?o.bA(this,this,t):o.bA(this,this,[t,t,t]),this.check()}translate(t){return o.Iu(this,this,t),this.check()}transform(t,e){switch(t.length){case 2:e=h.kK(e||[-0,-0],t,this);break;case 3:e=a.kK(e||[-0,-0,-0],t,this);break;case 4:e=(0,s._x)(e||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,i.IL)(e,t.length),e}transformVector(t,e){return(0,i.x9)("Matrix3.transformVector"),this.transform(t,e)}transformVector2(t,e){return(0,i.x9)("Matrix3.transformVector"),this.transform(t,e)}transformVector3(t,e){return(0,i.x9)("Matrix3.transformVector"),this.transform(t,e)}}},3467:(t,e,r)=>{r.d(e,{Z:()=>p});var n=r(6281),i=r(1e3),s=r(1031),o=r(473);function h(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],h=e[4],a=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],m=e[11],x=e[12],p=e[13],y=e[14],M=e[15],g=r[0],E=r[1],w=r[2],v=r[3];return t[0]=g*n+E*h+w*l+v*x,t[1]=g*i+E*a+w*f+v*p,t[2]=g*s+E*u+w*d+v*y,t[3]=g*o+E*c+w*m+v*M,g=r[4],E=r[5],w=r[6],v=r[7],t[4]=g*n+E*h+w*l+v*x,t[5]=g*i+E*a+w*f+v*p,t[6]=g*s+E*u+w*d+v*y,t[7]=g*o+E*c+w*m+v*M,g=r[8],E=r[9],w=r[10],v=r[11],t[8]=g*n+E*h+w*l+v*x,t[9]=g*i+E*a+w*f+v*p,t[10]=g*s+E*u+w*d+v*y,t[11]=g*o+E*c+w*m+v*M,g=r[12],E=r[13],w=r[14],v=r[15],t[12]=g*n+E*h+w*l+v*x,t[13]=g*i+E*a+w*f+v*p,t[14]=g*s+E*u+w*d+v*y,t[15]=g*o+E*c+w*m+v*M,t}function a(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}var u=r(4219),c=r(7964),l=r(2493);const f=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),d=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),m=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),x={};class p extends i.Z{static get IDENTITY(){return x.IDENTITY=x.IDENTITY||Object.freeze(new p(f)),x.IDENTITY}static get ZERO(){return x.ZERO=x.ZERO||Object.freeze(new p(d)),x.ZERO}get INDICES(){return m}get ELEMENTS(){return 16}get RANK(){return 4}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,e,r,n,i,s,o,h,a,u,c,l,f,d,m,x){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=i,this[5]=s,this[6]=o,this[7]=h,this[8]=a,this[9]=u,this[10]=c,this[11]=l,this[12]=f,this[13]=d,this[14]=m,this[15]=x,this.check()}setRowMajor(t,e,r,n,i,s,o,h,a,u,c,l,f,d,m,x){return this[0]=t,this[1]=i,this[2]=a,this[3]=f,this[4]=e,this[5]=s,this[6]=u,this[7]=d,this[8]=r,this[9]=o,this[10]=c,this[11]=m,this[12]=n,this[13]=h,this[14]=l,this[15]=x,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(f)}fromQuaternion(t){return function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r+r,h=n+n,a=i+i,u=r*o,c=n*o,l=n*h,f=i*o,d=i*h,m=i*a,x=s*o,p=s*h,y=s*a;t[0]=1-l-m,t[1]=c+y,t[2]=f-p,t[3]=0,t[4]=c-y,t[5]=1-u-m,t[6]=d+x,t[7]=0,t[8]=f+p,t[9]=d-x,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,t),this.check()}frustum({left:t,right:e,bottom:r,top:n,near:i,far:s}){return s===1/0?p._computeInfinitePerspectiveOffCenter(this,t,e,r,n,i):function(t,e,r,n,i,s,o){var h=1/(r-e),a=1/(i-n),u=1/(s-o);t[0]=2*s*h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*a,t[6]=0,t[7]=0,t[8]=(r+e)*h,t[9]=(i+n)*a,t[10]=(o+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*u,t[15]=0}(this,t,e,r,n,i,s),this.check()}static _computeInfinitePerspectiveOffCenter(t,e,r,n,i,s){const o=2*s/(r-e),h=2*s/(i-n),a=(r+e)/(r-e),u=(i+n)/(i-n),c=-2*s;return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=a,t[9]=u,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=c,t[15]=0,t}lookAt(t,e,r){return 1===arguments.length&&({eye:t,center:e,up:r}=t),function(t,e,r,n){var i,s,h,a,u,c,l,f,d,m,x=e[0],p=e[1],y=e[2],M=n[0],g=n[1],E=n[2],w=r[0],v=r[1],Z=r[2];Math.abs(x-w)<o.Ib&&Math.abs(p-v)<o.Ib&&Math.abs(y-Z)<o.Ib?function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(t):(l=x-w,f=p-v,d=y-Z,i=g*(d*=m=1/Math.hypot(l,f,d))-E*(f*=m),s=E*(l*=m)-M*d,h=M*f-g*l,(m=Math.hypot(i,s,h))?(i*=m=1/m,s*=m,h*=m):(i=0,s=0,h=0),a=f*h-d*s,u=d*i-l*h,c=l*s-f*i,(m=Math.hypot(a,u,c))?(a*=m=1/m,u*=m,c*=m):(a=0,u=0,c=0),t[0]=i,t[1]=a,t[2]=l,t[3]=0,t[4]=s,t[5]=u,t[6]=f,t[7]=0,t[8]=h,t[9]=c,t[10]=d,t[11]=0,t[12]=-(i*x+s*p+h*y),t[13]=-(a*x+u*p+c*y),t[14]=-(l*x+f*p+d*y),t[15]=1)}(this,t,e=e||[0,0,0],r=r||[0,1,0]),this.check()}ortho({left:t,right:e,bottom:r,top:n,near:i=.1,far:s=500}){return function(t,e,r,n,i,s,o){var h=1/(e-r),a=1/(n-i),u=1/(s-o);t[0]=-2*h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*h,t[13]=(i+n)*a,t[14]=(o+s)*u,t[15]=1}(this,t,e,r,n,i,s),this.check()}orthographic({fovy:t=45*Math.PI/180,aspect:e=1,focalDistance:r=1,near:n=.1,far:i=500}){if(t>2*Math.PI)throw Error("radians");const s=t/2,o=r*Math.tan(s),h=o*e;return(new p).ortho({left:-h,right:h,bottom:-o,top:o,near:n,far:i})}perspective({fovy:t,fov:e=45*Math.PI/180,aspect:r=1,near:n=.1,far:i=500}={}){if((t=t||e)>2*Math.PI)throw Error("radians");return function(t,e,r,n,i){var s,o=1/Math.tan(e/2);t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(n-i),t[10]=(i+n)*s,t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n)}(this,t,r,n,i),this.check()}determinant(){return e=(t=this)[0],r=t[1],n=t[2],i=t[3],s=t[4],o=t[5],h=t[6],a=t[7],u=t[8],c=t[9],l=t[10],f=t[11],d=t[12],m=t[13],x=t[14],p=t[15],(e*o-r*s)*(l*p-f*x)-(e*h-n*s)*(c*p-f*m)+(e*a-i*s)*(c*x-l*m)+(r*h-n*o)*(u*p-f*d)-(r*a-i*o)*(u*x-l*d)+(n*a-i*h)*(u*m-c*d);var t,e,r,n,i,s,o,h,a,u,c,l,f,d,m,x,p}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=null){const r=this.getScale(e||[-0,-0,-0]),n=1/r[0],i=1/r[1],s=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*s,t[3]=0,t[4]=this[4]*n,t[5]=this[5]*i,t[6]=this[6]*s,t[7]=0,t[8]=this[8]*n,t[9]=this[9]*i,t[10]=this[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t=[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=null){const r=this.getScale(e||[-0,-0,-0]),n=1/r[0],i=1/r[1],s=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*s,t[3]=this[4]*n,t[4]=this[5]*i,t[5]=this[6]*s,t[6]=this[8]*n,t[7]=this[9]*i,t[8]=this[10]*s,t}transpose(){return function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],s=e[6],o=e[7],h=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=i,t[13]=o,t[14]=h}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15]}(this,this),this.check()}invert(){var t,e,r,n,i,s,o,h,a,u,c,l,f,d,m,x,p,y,M,g,E,w,v,Z,b,S,I,N,O,A,T;return t=this,r=(e=this)[0],n=e[1],i=e[2],s=e[3],o=e[4],h=e[5],a=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],m=e[12],x=e[13],p=e[14],y=e[15],(T=(M=r*h-n*o)*(A=f*y-d*p)-(g=r*a-i*o)*(O=l*y-d*x)+(E=r*u-s*o)*(N=l*p-f*x)+(w=n*a-i*h)*(I=c*y-d*m)-(v=n*u-s*h)*(S=c*p-f*m)+(Z=i*u-s*a)*(b=c*x-l*m))&&(T=1/T,t[0]=(h*A-a*O+u*N)*T,t[1]=(i*O-n*A-s*N)*T,t[2]=(x*Z-p*v+y*w)*T,t[3]=(f*v-l*Z-d*w)*T,t[4]=(a*I-o*A-u*S)*T,t[5]=(r*A-i*I+s*S)*T,t[6]=(p*E-m*Z-y*g)*T,t[7]=(c*Z-f*E+d*g)*T,t[8]=(o*O-h*I+u*b)*T,t[9]=(n*I-r*O-s*b)*T,t[10]=(m*v-x*E+y*M)*T,t[11]=(l*E-c*v-d*M)*T,t[12]=(h*S-o*N-a*b)*T,t[13]=(r*N-n*S+i*b)*T,t[14]=(x*g-m*w-p*M)*T,t[15]=(c*w-l*g+f*M)*T),this.check()}multiplyLeft(t){return h(this,t,this),this.check()}multiplyRight(t){return h(this,this,t),this.check()}rotateX(t){var e,r,n,i,s,o,h,a,u,c,l,f,d;return e=this,r=this,n=t,i=Math.sin(n),s=Math.cos(n),o=r[4],h=r[5],a=r[6],u=r[7],c=r[8],l=r[9],f=r[10],d=r[11],r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=o*s+c*i,e[5]=h*s+l*i,e[6]=a*s+f*i,e[7]=u*s+d*i,e[8]=c*s-o*i,e[9]=l*s-h*i,e[10]=f*s-a*i,e[11]=d*s-u*i,this.check()}rotateY(t){var e,r,n,i,s,o,h,a,u,c,l,f,d;return e=this,r=this,n=t,i=Math.sin(n),s=Math.cos(n),o=r[0],h=r[1],a=r[2],u=r[3],c=r[8],l=r[9],f=r[10],d=r[11],r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*s-c*i,e[1]=h*s-l*i,e[2]=a*s-f*i,e[3]=u*s-d*i,e[8]=o*i+c*s,e[9]=h*i+l*s,e[10]=a*i+f*s,e[11]=u*i+d*s,this.check()}rotateZ(t){var e,r,n,i,s,o,h,a,u,c,l,f,d;return e=this,r=this,n=t,i=Math.sin(n),s=Math.cos(n),o=r[0],h=r[1],a=r[2],u=r[3],c=r[4],l=r[5],f=r[6],d=r[7],r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*s+c*i,e[1]=h*s+l*i,e[2]=a*s+f*i,e[3]=u*s+d*i,e[4]=c*s-o*i,e[5]=l*s-h*i,e[6]=f*s-a*i,e[7]=d*s-u*i,this.check()}rotateXYZ([t,e,r]){return this.rotateX(t).rotateY(e).rotateZ(r)}rotateAxis(t,e){return function(t,e,r,n){var i,s,h,a,u,c,l,f,d,m,x,p,y,M,g,E,w,v,Z,b,S,I,N,O,A=n[0],T=n[1],k=n[2],L=Math.hypot(A,T,k);L<o.Ib||(A*=L=1/L,T*=L,k*=L,i=Math.sin(r),h=1-(s=Math.cos(r)),a=e[0],u=e[1],c=e[2],l=e[3],f=e[4],d=e[5],m=e[6],x=e[7],p=e[8],y=e[9],M=e[10],g=e[11],E=A*A*h+s,w=T*A*h+k*i,v=k*A*h-T*i,Z=A*T*h-k*i,b=T*T*h+s,S=k*T*h+A*i,I=A*k*h+T*i,N=T*k*h-A*i,O=k*k*h+s,t[0]=a*E+f*w+p*v,t[1]=u*E+d*w+y*v,t[2]=c*E+m*w+M*v,t[3]=l*E+x*w+g*v,t[4]=a*Z+f*b+p*S,t[5]=u*Z+d*b+y*S,t[6]=c*Z+m*b+M*S,t[7]=l*Z+x*b+g*S,t[8]=a*I+f*N+p*O,t[9]=u*I+d*N+y*O,t[10]=c*I+m*N+M*O,t[11]=l*I+x*N+g*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]))}(this,this,t,e),this.check()}scale(t){return Array.isArray(t)?a(this,this,t):a(this,this,[t,t,t]),this.check()}translate(t){var e,r,n,i,s,o,h,a,u,c,l,f,d,m,x,p,y,M;return e=this,r=this,p=(n=t)[0],y=n[1],M=n[2],r===e?(e[12]=r[0]*p+r[4]*y+r[8]*M+r[12],e[13]=r[1]*p+r[5]*y+r[9]*M+r[13],e[14]=r[2]*p+r[6]*y+r[10]*M+r[14],e[15]=r[3]*p+r[7]*y+r[11]*M+r[15]):(i=r[0],s=r[1],o=r[2],h=r[3],a=r[4],u=r[5],c=r[6],l=r[7],f=r[8],d=r[9],m=r[10],x=r[11],e[0]=i,e[1]=s,e[2]=o,e[3]=h,e[4]=a,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=m,e[11]=x,e[12]=i*p+a*y+f*M+r[12],e[13]=s*p+u*y+d*M+r[13],e[14]=o*p+c*y+m*M+r[14],e[15]=h*p+l*y+x*M+r[15]),this.check()}transform(t,e){return 4===t.length?(e=l.fF(e||[-0,-0,-0,-0],t,this),(0,n.IL)(e,4),e):this.transformAsPoint(t,e)}transformAsPoint(t,e){const{length:r}=t;switch(r){case 2:e=u.fF(e||[-0,-0],t,this);break;case 3:e=c.fF(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,n.IL)(e,t.length),e}transformAsVector(t,e){switch(t.length){case 2:e=(0,s.pb)(e||[-0,-0],t,this);break;case 3:e=(0,s.pL)(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return(0,n.IL)(e,t.length),e}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,e,r){return this.identity().translate([t,e,r])}transformPoint(t,e){return(0,n.x9)("Matrix4.transformPoint","3.0"),this.transformAsPoint(t,e)}transformVector(t,e){return(0,n.x9)("Matrix4.transformVector","3.0"),this.transformAsPoint(t,e)}transformDirection(t,e){return(0,n.x9)("Matrix4.transformDirection","3.0"),this.transformAsVector(t,e)}}},7696:(t,e,r)=>{r.d(e,{Z:()=>T});var n=r(6357),i=r(6281),s=r(394),o=r(473),h=r(2125),a=r(7964),u=r(2493);function c(){var t=new o.WT(4);return o.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function l(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function f(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],h=r[0],a=r[1],u=r[2],c=r[3];return t[0]=n*c+o*h+i*u-s*a,t[1]=i*c+o*a+s*h-n*u,t[2]=s*c+o*u+n*a-i*h,t[3]=o*c-n*h-i*a-s*u,t}function d(t,e,r,n){var i,s,h,a,u,c=e[0],l=e[1],f=e[2],d=e[3],m=r[0],x=r[1],p=r[2],y=r[3];return(s=c*m+l*x+f*p+d*y)<0&&(s=-s,m=-m,x=-x,p=-p,y=-y),1-s>o.Ib?(i=Math.acos(s),h=Math.sin(i),a=Math.sin((1-n)*i)/h,u=Math.sin(n*i)/h):(a=1-n,u=n),t[0]=a*c+u*m,t[1]=a*l+u*x,t[2]=a*f+u*p,t[3]=a*d+u*y,t}function m(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var s=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*s+s]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*s+o]-e[3*o+s])*r,t[s]=(e[3*s+i]+e[3*i+s])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}u.d9,u.al,u.JG,u.t8;var x,p,y,M,g,E,w=u.IH,v=u.bA,Z=u.AK,b=u.t7,S=u.kE,I=u.we,N=u.Fv,O=(u.I6,u.fS,x=a.Ue(),p=a.al(1,0,0),y=a.al(0,1,0),function(t,e,r){var n=a.AK(e,r);return n<-.999999?(a.kC(x,p,e),a.Zh(x)<1e-6&&a.kC(x,y,e),a.Fv(x,x),l(t,x,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(a.kC(x,e,r),t[0]=x[0],t[1]=x[1],t[2]=x[2],t[3]=1+n,N(t,t))});M=c(),g=c(),E=h.Ue();const A=[0,0,0,1];class T extends n.Z{constructor(t=0,e=0,r=0,n=1){super(-0,-0,-0,-0),Array.isArray(t)&&1===arguments.length?this.copy(t):this.set(t,e,r,n)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,e,r,n){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this.check()}fromMatrix3(t){return m(this,t),this.check()}identity(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.check()}fromAxisRotation(t,e){return l(this,t,e),this.check()}setAxisAngle(t,e){return this.fromAxisRotation(t,e)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=(0,i.u5)(t)}get y(){return this[1]}set y(t){this[1]=(0,i.u5)(t)}get z(){return this[2]}set z(t){this[2]=(0,i.u5)(t)}get w(){return this[3]}set w(t){this[3]=(0,i.u5)(t)}len(){return S(this)}lengthSquared(){return I(this)}dot(t,e){if(void 0!==e)throw new Error("Quaternion.dot only takes one argument");return Z(this,t)}rotationTo(t,e){return O(this,t,e),this.check()}add(t,e){if(void 0!==e)throw new Error("Quaternion.add only takes one argument");return w(this,this,t),this.check()}calculateW(){var t,e,r,n,i;return t=this,r=(e=this)[0],n=e[1],i=e[2],t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),this.check()}conjugate(){var t,e;return e=this,(t=this)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.check()}invert(){return function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r*r+n*n+i*i+s*s,h=o?1/o:0;t[0]=-r*h,t[1]=-n*h,t[2]=-i*h,t[3]=s*h}(this,this),this.check()}lerp(t,e,r){return b(this,t,e,r),this.check()}multiplyRight(t,e){return(0,s.Z)(!e),f(this,this,t),this.check()}multiplyLeft(t,e){return(0,s.Z)(!e),f(this,t,this),this.check()}normalize(){const t=this.len(),e=t>0?1/t:0;return this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,0===t&&(this[3]=1),this.check()}rotateX(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],o=e[3],h=Math.sin(r),a=Math.cos(r);t[0]=n*a+o*h,t[1]=i*a+s*h,t[2]=s*a-i*h,t[3]=o*a-n*h}(this,this,t),this.check()}rotateY(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],o=e[3],h=Math.sin(r),a=Math.cos(r);t[0]=n*a-s*h,t[1]=i*a+o*h,t[2]=s*a+n*h,t[3]=o*a-i*h}(this,this,t),this.check()}rotateZ(t){return function(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],o=e[3],h=Math.sin(r),a=Math.cos(r);t[0]=n*a+i*h,t[1]=i*a-n*h,t[2]=s*a+o*h,t[3]=o*a-s*h}(this,this,t),this.check()}scale(t){return v(this,this,t),this.check()}slerp(t,e,r){switch(arguments.length){case 1:({start:t=A,target:e,ratio:r}=arguments[0]);break;case 2:[e,r]=arguments,t=this}return d(this,t,e,r),this.check()}transformVector4(t,e=t){return u.VC(e,t,this),(0,i.IL)(e,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,e){return this.setAxisAngle(t,e)}premultiply(t,e){return this.multiplyLeft(t,e)}multiply(t,e){return this.multiplyRight(t,e)}}},7069:(t,e,r)=>{r.d(e,{Z:()=>a});var n=r(2678),i=r(4034),s=r(6281),o=r(4219),h=r(1031);class a extends n.Z{constructor(t=0,e=0){super(2),(0,i.kJ)(t)&&1===arguments.length?this.copy(t):(i.vc.debug&&((0,s.u5)(t),(0,s.u5)(e)),this[0]=t,this[1]=e)}set(t,e){return this[0]=t,this[1]=e,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this.check()}fromObject(t){return i.vc.debug&&((0,s.u5)(t.x),(0,s.u5)(t.y)),this[0]=t.x,this[1]=t.y,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return o.fF(this,this,t),this.check()}transformAsVector(t){return(0,h.pb)(this,this,t),this.check()}transformByMatrix3(t){return o.kK(this,this,t),this.check()}transformByMatrix2x3(t){return o.iu(this,this,t),this.check()}transformByMatrix2(t){return o.c(this,this,t),this.check()}}},3855:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(2678),i=r(4034),s=r(6281),o=r(7964),h=r(1031);const a=[0,0,0],u={};class c extends n.Z{static get ZERO(){return u.ZERO=u.ZERO||Object.freeze(new c(0,0,0,0))}constructor(t=0,e=0,r=0){super(-0,-0,-0),1===arguments.length&&(0,i.kJ)(t)?this.copy(t):(i.vc.debug&&((0,s.u5)(t),(0,s.u5)(e),(0,s.u5)(r)),this[0]=t,this[1]=e,this[2]=r)}set(t,e,r){return this[0]=t,this[1]=e,this[2]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return i.vc.debug&&((0,s.u5)(t.x),(0,s.u5)(t.y),(0,s.u5)(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=(0,s.u5)(t)}angle(t){return o.EU(this,t)}cross(t){return o.kC(this,this,t),this.check()}rotateX({radians:t,origin:e=a}){return o.lM(this,this,e,t),this.check()}rotateY({radians:t,origin:e=a}){return o.uD(this,this,e,t),this.check()}rotateZ({radians:t,origin:e=a}){return o.jI(this,this,e,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return o.fF(this,this,t),this.check()}transformAsVector(t){return(0,h.pL)(this,this,t),this.check()}transformByMatrix3(t){return o.kK(this,this,t),this.check()}transformByMatrix2(t){return(0,h.eQ)(this,this,t),this.check()}transformByQuaternion(t){return o.VC(this,this,t),this.check()}}},394:(t,e,r)=>{function n(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}r.d(e,{Z:()=>n})},4034:(t,e,r)=>{r.d(e,{Bw:()=>o,RW:()=>l,Ux:()=>c,Yr:()=>u,fS:()=>m,kJ:()=>h,t7:()=>d,uZ:()=>f,vc:()=>s});const n=1/Math.PI*180,i=1/180*Math.PI,s={};function o(t,{precision:e=s.precision||4}={}){return t=function(t){return Math.round(t/s.EPSILON)*s.EPSILON}(t),"".concat(parseFloat(t.toPrecision(e)))}function h(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function a(t,e,r){if(h(t)){r=r||((n=t).clone?n.clone():new Array(n.length));for(let n=0;n<r.length&&n<t.length;++n)r[n]=e(t[n],n,r);return r}var n;return e(t)}function u(t){return function(t,e){return a(t,(t=>t*i),e)}(t)}function c(t){return l(t)}function l(t,e){return a(t,(t=>t*n),e)}function f(t,e,r){return a(t,(t=>Math.max(e,Math.min(r,t))))}function d(t,e,r){return h(t)?t.map(((t,n)=>d(t,e[n],r))):r*e+(1-r)*t}function m(t,e,r){const n=s.EPSILON;r&&(s.EPSILON=r);try{if(t===e)return!0;if(h(t)&&h(e)){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!m(t[r],e[r]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):!(!Number.isFinite(t)||!Number.isFinite(e))&&Math.abs(t-e)<=s.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{s.EPSILON=n}}s.EPSILON=1e-12,s.debug=!1,s.precision=4,s.printTypes=!1,s.printDegrees=!1,s.printRowMajor=!0},1031:(t,e,r)=>{function n(t,e,r){const n=e[0],i=e[1],s=r[3]*n+r[7]*i||1;return t[0]=(r[0]*n+r[4]*i)/s,t[1]=(r[1]*n+r[5]*i)/s,t}function i(t,e,r){const n=e[0],i=e[1],s=e[2],o=r[3]*n+r[7]*i+r[11]*s||1;return t[0]=(r[0]*n+r[4]*i+r[8]*s)/o,t[1]=(r[1]*n+r[5]*i+r[9]*s)/o,t[2]=(r[2]*n+r[6]*i+r[10]*s)/o,t}function s(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t[2]=e[2],t}function o(t,e,r){const n=e[0],i=e[1],s=e[2];return t[0]=r[0]*n+r[3]*i+r[6]*s,t[1]=r[1]*n+r[4]*i+r[7]*s,t[2]=r[2]*n+r[5]*i+r[8]*s,t[3]=e[3],t}r.d(e,{_x:()=>o,eQ:()=>s,pL:()=>i,pb:()=>n})},9057:(t,e,r)=>{r.d(e,{Z:()=>n});const n={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},6281:(t,e,r)=>{r.d(e,{IL:()=>s,u5:()=>i,x9:()=>h});var n=r(4034);function i(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function s(t,e,r=""){if(n.vc.debug&&!function(t,e){if(t.length!==e)return!1;for(let e=0;e<t.length;++e)if(!Number.isFinite(t[e]))return!1;return!0}(t,e))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return t}const o={};function h(t,e){o[t]||(o[t]=!0,console.warn("".concat(t," has been removed in version ").concat(e,", see upgrade guide for more information")))}},473:(t,e,r)=>{r.d(e,{Ib:()=>n,WT:()=>i});var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},2125:(t,e,r)=>{r.d(e,{GH:()=>h,Iu:()=>u,Jp:()=>a,U1:()=>c,U_:()=>o,Ue:()=>i,bA:()=>l,en:()=>f,p4:()=>s});var n=r(473);function i(){var t=new n.WT(9);return n.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function s(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function o(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=e[4],h=e[5],a=e[6],u=e[7],c=e[8],l=c*o-h*u,f=-c*s+h*a,d=u*s-o*a,m=r*l+n*f+i*d;return m?(m=1/m,t[0]=l*m,t[1]=(-c*n+i*u)*m,t[2]=(h*n-i*o)*m,t[3]=f*m,t[4]=(c*r-i*a)*m,t[5]=(-h*r+i*s)*m,t[6]=d*m,t[7]=(-u*r+n*a)*m,t[8]=(o*r-n*s)*m,t):null}function h(t){var e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],o=t[5],h=t[6],a=t[7],u=t[8];return e*(u*s-o*a)+r*(-u*i+o*h)+n*(a*i-s*h)}function a(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],h=e[4],a=e[5],u=e[6],c=e[7],l=e[8],f=r[0],d=r[1],m=r[2],x=r[3],p=r[4],y=r[5],M=r[6],g=r[7],E=r[8];return t[0]=f*n+d*o+m*u,t[1]=f*i+d*h+m*c,t[2]=f*s+d*a+m*l,t[3]=x*n+p*o+y*u,t[4]=x*i+p*h+y*c,t[5]=x*s+p*a+y*l,t[6]=M*n+g*o+E*u,t[7]=M*i+g*h+E*c,t[8]=M*s+g*a+E*l,t}function u(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],h=e[4],a=e[5],u=e[6],c=e[7],l=e[8],f=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=o,t[4]=h,t[5]=a,t[6]=f*n+d*o+u,t[7]=f*i+d*h+c,t[8]=f*s+d*a+l,t}function c(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3],h=e[4],a=e[5],u=e[6],c=e[7],l=e[8],f=Math.sin(r),d=Math.cos(r);return t[0]=d*n+f*o,t[1]=d*i+f*h,t[2]=d*s+f*a,t[3]=d*o-f*n,t[4]=d*h-f*i,t[5]=d*a-f*s,t[6]=u,t[7]=c,t[8]=l,t}function l(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function f(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r+r,h=n+n,a=i+i,u=r*o,c=n*o,l=n*h,f=i*o,d=i*h,m=i*a,x=s*o,p=s*h,y=s*a;return t[0]=1-l-m,t[3]=c-y,t[6]=f+p,t[1]=c+y,t[4]=1-u-m,t[7]=d-x,t[2]=f-p,t[5]=d+x,t[8]=1-u-l,t}},4219:(t,e,r)=>{r.d(e,{c:()=>i,fF:()=>h,iu:()=>s,kK:()=>o});var n=r(473);function i(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function s(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function o(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function h(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}var a,u;a=new n.WT(2),n.WT!=Float32Array&&(a[0]=0,a[1]=0),u=a},7964:(t,e,r)=>{r.d(e,{AK:()=>h,EU:()=>x,Fv:()=>o,Ue:()=>i,VC:()=>l,Zh:()=>y,al:()=>s,fF:()=>u,jI:()=>m,kC:()=>a,kK:()=>c,lM:()=>f,uD:()=>d});var n=r(473);function i(){var t=new n.WT(3);return n.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function s(t,e,r){var i=new n.WT(3);return i[0]=t,i[1]=e,i[2]=r,i}function o(t,e){var r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function h(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function a(t,e,r){var n=e[0],i=e[1],s=e[2],o=r[0],h=r[1],a=r[2];return t[0]=i*a-s*h,t[1]=s*o-n*a,t[2]=n*h-i*o,t}function u(t,e,r){var n=e[0],i=e[1],s=e[2],o=r[3]*n+r[7]*i+r[11]*s+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/o,t}function c(t,e,r){var n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t}function l(t,e,r){var n=r[0],i=r[1],s=r[2],o=r[3],h=e[0],a=e[1],u=e[2],c=i*u-s*a,l=s*h-n*u,f=n*a-i*h,d=i*f-s*l,m=s*c-n*f,x=n*l-i*c,p=2*o;return c*=p,l*=p,f*=p,d*=2,m*=2,x*=2,t[0]=h+c+d,t[1]=a+l+m,t[2]=u+f+x,t}function f(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function d(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function m(t,e,r,n){var i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function x(t,e){var r=t[0],n=t[1],i=t[2],s=e[0],o=e[1],a=e[2],u=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(s*s+o*o+a*a),c=u&&h(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}var p,y=function(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)};p=i()},2493:(t,e,r)=>{r.d(e,{AK:()=>d,Fv:()=>f,I6:()=>y,IH:()=>a,JG:()=>o,VC:()=>p,al:()=>s,bA:()=>u,d9:()=>i,fF:()=>x,fS:()=>M,kE:()=>c,t7:()=>m,t8:()=>h,we:()=>l});var n=r(473);function i(t){var e=new n.WT(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(t,e,r,i){var s=new n.WT(4);return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function h(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function a(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function u(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function c(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function l(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function f(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=r*r+n*n+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=s*o,t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function m(t,e,r,n){var i=e[0],s=e[1],o=e[2],h=e[3];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t[2]=o+n*(r[2]-o),t[3]=h+n*(r[3]-h),t}function x(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*o,t}function p(t,e,r){var n=e[0],i=e[1],s=e[2],o=r[0],h=r[1],a=r[2],u=r[3],c=u*n+h*s-a*i,l=u*i+a*n-o*s,f=u*s+o*i-h*n,d=-o*n-h*i-a*s;return t[0]=c*u+d*-o+l*-a-f*-h,t[1]=l*u+d*-h+f*-o-c*-a,t[2]=f*u+d*-a+c*-h-l*-o,t[3]=e[3],t}function y(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function M(t,e){var r=t[0],i=t[1],s=t[2],o=t[3],h=e[0],a=e[1],u=e[2],c=e[3];return Math.abs(r-h)<=n.Ib*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-a)<=n.Ib*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(s-u)<=n.Ib*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(o-c)<=n.Ib*Math.max(1,Math.abs(o),Math.abs(c))}var g,E;g=new n.WT(4),n.WT!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0),E=g},4175:(t,e,r)=>{r.d(e,{Xx:()=>h,KM:()=>l,Mh:()=>W,F7:()=>T,JO:()=>z,du:()=>it});const n=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});var i=r(3855);const s=new i.Z,o=new i.Z;class h{constructor(t=[0,0,0],e=[0,0,0],r=null){r=r||s.copy(t).add(e).scale(.5),this.center=new i.Z(r),this.halfDiagonal=new i.Z(e).subtract(this.center),this.minimum=new i.Z(t),this.maximum=new i.Z(e)}clone(){return new h(this.minimum,this.maximum,this.center)}equals(t){return this===t||Boolean(t)&&this.minimum.equals(t.minimum)&&this.maximum.equals(t.maximum)}transform(t){return this.center.transformAsPoint(t),this.halfDiagonal.transform(t),this.minimum.transform(t),this.maximum.transform(t),this}intersectPlane(t){const{halfDiagonal:e}=this,r=o.from(t.normal),i=e.x*Math.abs(r.x)+e.y*Math.abs(r.y)+e.z*Math.abs(r.z),s=this.center.dot(r)+t.distance;return s-i>0?n.INSIDE:s+i<0?n.OUTSIDE:n.INTERSECTING}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=s.from(t).subtract(this.center),{halfDiagonal:r}=this;let n,i=0;return n=Math.abs(e.x)-r.x,n>0&&(i+=n*n),n=Math.abs(e.y)-r.y,n>0&&(i+=n*n),n=Math.abs(e.z)-r.z,n>0&&(i+=n*n),i}}function a(t,e){var r=e[0],n=e[1],i=e[2],s=e[4],o=e[5],h=e[6],a=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(s,o,h),t[2]=Math.hypot(a,u,c),t}const u=new i.Z,c=new i.Z;class l{constructor(t=[0,0,0],e=0){this.radius=-0,this.center=new i.Z,this.fromCenterRadius(t,e)}fromCenterRadius(t,e){return this.center.from(t),this.radius=e,this}fromCornerPoints(t,e){return e=u.from(e),this.center=(new i.Z).from(t).add(e).scale(.5),this.radius=this.center.distance(e),this}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.radius===t.radius}clone(){return new l(this.center,this.radius)}union(t){const e=this.center,r=this.radius,n=t.center,i=t.radius,s=u.copy(n).subtract(e),o=s.magnitude();if(r>=o+i)return this.clone();if(i>=o+r)return t.clone();const h=.5*(r+o+i);return c.copy(s).scale((-r+h)/o).add(e),this.center.copy(c),this.radius=h,this}expand(t){const e=(t=u.from(t)).subtract(this.center).magnitude();return e>this.radius&&(this.radius=e),this}transform(t){this.center.transform(t);const e=a(u,t);return this.radius=Math.max(e[0],Math.max(e[1],e[2]))*this.radius,this}distanceSquaredTo(t){const e=this.distanceTo(t);return e*e}distanceTo(t){const e=(t=u.from(t)).subtract(this.center);return Math.max(0,e.len()-this.radius)}intersectPlane(t){const e=this.center,r=this.radius,i=t.normal.dot(e)+t.distance;return i<-r?n.OUTSIDE:i<r?n.INTERSECTING:n.INSIDE}}var f=r(540),d=r(7696);const m=new i.Z,x=new i.Z,p=new i.Z,y=new i.Z,M=new i.Z,g=new i.Z,E=new i.Z,w=0,v=1,Z=2,b=3,S=4,I=5,N=6,O=7,A=8;class T{constructor(t=[0,0,0],e=[0,0,0,0,0,0,0,0,0]){this.center=(new i.Z).from(t),this.halfAxes=new f.Z(e)}get halfSize(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new i.Z(t).len(),new i.Z(e).len(),new i.Z(r).len()]}get quaternion(){const t=this.halfAxes.getColumn(0),e=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),n=new i.Z(t).normalize(),s=new i.Z(e).normalize(),o=new i.Z(r).normalize();return(new d.Z).fromMatrix3(new f.Z([...n,...s,...o]))}fromCenterHalfSizeQuaternion(t,e,r){const n=new d.Z(r),s=(new f.Z).fromQuaternion(n);return s[0]=s[0]*e[0],s[1]=s[1]*e[0],s[2]=s[2]*e[0],s[3]=s[3]*e[1],s[4]=s[4]*e[1],s[5]=s[5]*e[1],s[6]=s[6]*e[2],s[7]=s[7]*e[2],s[8]=s[8]*e[2],this.center=(new i.Z).from(t),this.halfAxes=s,this}clone(){return new T(this.center,this.halfAxes)}equals(t){return this===t||Boolean(t)&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}getBoundingSphere(t=new l){const e=this.halfAxes,r=e.getColumn(0,p),n=e.getColumn(1,y),i=e.getColumn(2,M),s=m.copy(r).add(n).add(i);return t.center.copy(this.center),t.radius=s.magnitude(),t}intersectPlane(t){const e=this.center,r=t.normal,i=this.halfAxes,s=r.x,o=r.y,h=r.z,a=Math.abs(s*i[w]+o*i[v]+h*i[Z])+Math.abs(s*i[b]+o*i[S]+h*i[I])+Math.abs(s*i[N]+o*i[O]+h*i[A]),u=r.dot(e)+t.distance;return u<=-a?n.OUTSIDE:u>=a?n.INSIDE:n.INTERSECTING}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const e=x.from(t).subtract(this.center),r=this.halfAxes,n=r.getColumn(0,p),i=r.getColumn(1,y),s=r.getColumn(2,M),o=n.magnitude(),h=i.magnitude(),a=s.magnitude();n.normalize(),i.normalize(),s.normalize();let u,c=0;return u=Math.abs(e.dot(n))-o,u>0&&(c+=u*u),u=Math.abs(e.dot(i))-h,u>0&&(c+=u*u),u=Math.abs(e.dot(s))-a,u>0&&(c+=u*u),c}computePlaneDistances(t,e,r=[-0,-0]){let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const s=this.center,o=this.halfAxes,h=o.getColumn(0,p),a=o.getColumn(1,y),u=o.getColumn(2,M),c=g.copy(h).add(a).add(u).add(s),l=E.copy(c).subtract(t);let f=e.dot(l);return n=Math.min(f,n),i=Math.max(f,i),c.copy(s).add(h).add(a).subtract(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),c.copy(s).add(h).subtract(a).add(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),c.copy(s).add(h).subtract(a).subtract(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),s.copy(c).subtract(h).add(a).add(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),s.copy(c).subtract(h).add(a).subtract(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),s.copy(c).subtract(h).subtract(a).add(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),s.copy(c).subtract(h).subtract(a).subtract(u),l.copy(c).subtract(t),f=e.dot(l),n=Math.min(f,n),i=Math.max(f,i),r[0]=n,r[1]=i,r}transform(t){this.center.transformAsPoint(t);const e=this.halfAxes.getColumn(0,p);e.transformAsPoint(t);const r=this.halfAxes.getColumn(1,y);r.transformAsPoint(t);const n=this.halfAxes.getColumn(2,M);return n.transformAsPoint(t),this.halfAxes=new f.Z([...e,...r,...n]),this}getTransform(){throw new Error("not implemented")}}var k=r(394),L=r(4034);const P=new i.Z,R=new i.Z;class z{constructor(t=[0,0,1],e=0){this.normal=new i.Z,this.distance=-0,this.fromNormalDistance(t,e)}fromNormalDistance(t,e){return(0,k.Z)(Number.isFinite(e)),this.normal.from(t).normalize(),this.distance=e,this}fromPointNormal(t,e){t=P.from(t),this.normal.from(e).normalize();const r=-this.normal.dot(t);return this.distance=r,this}fromCoefficients(t,e,r,n){return this.normal.set(t,e,r),(0,k.Z)((0,L.fS)(this.normal.len(),1)),this.distance=n,this}clone(t){return new z(this.normal,this.distance)}equals(t){return(0,L.fS)(this.distance,t.distance)&&(0,L.fS)(this.normal,t.normal)}getPointDistance(t){return this.normal.dot(t)+this.distance}transform(t){const e=R.copy(this.normal).transformAsVector(t).normalize(),r=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(r,e)}projectPointOntoPlane(t,e=[0,0,0]){t=P.from(t);const r=this.getPointDistance(t),n=R.copy(this.normal).scale(r);return t.subtract(n).to(e)}}const C=[new i.Z([1,0,0]),new i.Z([0,1,0]),new i.Z([0,0,1])],q=new i.Z,F=new i.Z;new z(new i.Z(1,0,0),0);class W{static get MASK_OUTSIDE(){return 4294967295}static get MASK_INSIDE(){return 0}static get MASK_INDETERMINATE(){return 2147483647}constructor(t=[]){this.planes=t,(0,k.Z)(this.planes.every((t=>t instanceof z)))}fromBoundingSphere(t){this.planes.length=2*C.length;const e=t.center,r=t.radius;let n=0;for(const t of C){let i=this.planes[n],s=this.planes[n+1];i||(i=this.planes[n]=new z),s||(s=this.planes[n+1]=new z);const o=q.copy(t).scale(-r).add(e);t.dot(o);i.fromPointNormal(o,t);const h=q.copy(t).scale(r).add(e),a=F.copy(t).negate();a.dot(h);s.fromPointNormal(h,a),n+=2}return this}computeVisibility(t){(0,k.Z)(t);let e=n.INSIDE;for(const r of this.planes){switch(t.intersectPlane(r)){case n.OUTSIDE:return n.OUTSIDE;case n.INTERSECTING:e=n.INTERSECTING}}return e}computeVisibilityWithPlaneMask(t,e){if((0,k.Z)(t,"boundingVolume is required."),(0,k.Z)(Number.isFinite(e),"parentPlaneMask is required."),e===W.MASK_OUTSIDE||e===W.MASK_INSIDE)return e;let r=W.MASK_INSIDE;const i=this.planes;for(let s=0;s<this.planes.length;++s){const o=s<31?1<<s:0;if(s<31&&0==(e&o))continue;const h=i[s],a=t.intersectPlane(h);if(a===n.OUTSIDE)return W.MASK_OUTSIDE;a===n.INTERSECTING&&(r|=o)}return r}}new i.Z,new i.Z,new i.Z,new i.Z,new i.Z;new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,new i.Z,Math.PI;var D=r(9057);const j=new f.Z,V=new f.Z,U=new f.Z,_=new f.Z,K=new f.Z;function B(t,e={}){const r=D.Z.EPSILON20;let n=0,i=0;const s=V,o=U;s.identity(),o.copy(t);const h=r*function(t){let e=0;for(let r=0;r<9;++r){const n=t[r];e+=n*n}return Math.sqrt(e)}(o);for(;i<10&&Y(o)>h;)J(o,_),K.copy(_).transpose(),o.multiplyRight(_),o.multiplyLeft(K),s.multiplyRight(_),++n>2&&(++i,n=0);return e.unitary=s.toTarget(e.unitary),e.diagonal=o.toTarget(e.diagonal),e}const G=[1,0,0],X=[2,2,1];function Y(t){let e=0;for(let r=0;r<3;++r){const n=t[j.getElementIndex(X[r],G[r])];e+=2*n*n}return Math.sqrt(e)}function J(t,e){const r=D.Z.EPSILON15;let n=0,i=1;for(let e=0;e<3;++e){const r=Math.abs(t[j.getElementIndex(X[e],G[e])]);r>n&&(i=e,n=r)}const s=G[i],o=X[i];let h=1,a=0;if(Math.abs(t[j.getElementIndex(o,s)])>r){const e=(t[j.getElementIndex(o,o)]-t[j.getElementIndex(s,s)])/2/t[j.getElementIndex(o,s)];let r;r=e<0?-1/(-e+Math.sqrt(1+e*e)):1/(e+Math.sqrt(1+e*e)),h=1/Math.sqrt(1+r*r),a=r*h}return f.Z.IDENTITY.to(e),e[j.getElementIndex(s,s)]=e[j.getElementIndex(o,o)]=h,e[j.getElementIndex(o,s)]=a,e[j.getElementIndex(s,o)]=-a,e}const Q=new i.Z,H=new i.Z,$=new i.Z,tt=new i.Z,et=new i.Z,rt=new f.Z,nt={diagonal:new f.Z,unitary:new f.Z};function it(t,e=new T){if(!t||0===t.length)return e.halfAxes=new f.Z([0,0,0,0,0,0,0,0,0]),e.center=new i.Z,e;const r=t.length,n=new i.Z(0,0,0);for(const e of t)n.add(e);const s=1/r;n.multiplyByScalar(s);let o=0,h=0,a=0,u=0,c=0,l=0;for(const e of t){const t=Q.copy(e).subtract(n);o+=t.x*t.x,h+=t.x*t.y,a+=t.x*t.z,u+=t.y*t.y,c+=t.y*t.z,l+=t.z*t.z}o*=s,h*=s,a*=s,u*=s,c*=s,l*=s;const d=rt;d[0]=o,d[1]=h,d[2]=a,d[3]=h,d[4]=u,d[5]=c,d[6]=a,d[7]=c,d[8]=l;const{unitary:m}=B(d,nt),x=e.halfAxes.copy(m);let p=x.getColumn(0,$),y=x.getColumn(1,tt),M=x.getColumn(2,et),g=-Number.MAX_VALUE,E=-Number.MAX_VALUE,w=-Number.MAX_VALUE,v=Number.MAX_VALUE,Z=Number.MAX_VALUE,b=Number.MAX_VALUE;for(const e of t)Q.copy(e),g=Math.max(Q.dot(p),g),E=Math.max(Q.dot(y),E),w=Math.max(Q.dot(M),w),v=Math.min(Q.dot(p),v),Z=Math.min(Q.dot(y),Z),b=Math.min(Q.dot(M),b);p=p.multiplyByScalar(.5*(v+g)),y=y.multiplyByScalar(.5*(Z+E)),M=M.multiplyByScalar(.5*(b+w)),e.center.copy(p).add(y).add(M);const S=H.set(g-v,E-Z,w-b).multiplyByScalar(.5),I=new f.Z([S[0],0,0,0,S[1],0,0,0,S[2]]);return e.halfAxes.multiplyRight(I),e}},7712:(t,e,r)=>{r.d(e,{H:()=>F});var n=r(3855),i=r(394),s=r(9057),o=r(3467),h=r(4034),a="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function u(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function c(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var l,f;l=new a(3),a!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),f=l;const d=6378137,m=6378137,x=6356752.314245179,p=(Math.max(d,m,x),t=>t),y=new n.Z;function M(t,e,r=p){return(0,h.kJ)(t)?(e[0]=r(t[0]),e[1]=r(t[1]),e[2]=t[2]):"longitude"in t?(e[0]=r(t.longitude),e[1]=r(t.latitude),e[2]=t.height):(e[0]=r(t.x),e[1]=r(t.y),e[2]=t.z),e}function g(t,e,r=p){return(0,h.kJ)(e)?(e[0]=r(t[0]),e[1]=r(t[1]),e[2]=t[2]):"longitude"in e?(e.longitude=r(t[0]),e.latitude=r(t[1]),e.height=t[2]):(e.x=r(t[0]),e.y=r(t[1]),e.z=t[2]),e}const E=new n.Z,w=new n.Z,v=new n.Z;const Z=new n.Z,b={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},S={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},I={east:new n.Z,north:new n.Z,up:new n.Z,west:new n.Z,south:new n.Z,down:new n.Z},N=new n.Z,O=new n.Z,A=new n.Z;function T(t,e,r,n,s,o){const a=b[e]&&b[e][r];let u,c,l;(0,i.Z)(a&&(!n||n===a));const f=Z.copy(s);if((0,h.fS)(f.x,0,1e-14)&&(0,h.fS)(f.y,0,1e-14)){const t=Math.sign(f.z);u=N.fromArray(S[e]),"east"!==e&&"west"!==e&&u.scale(t),c=O.fromArray(S[r]),"east"!==r&&"west"!==r&&c.scale(t),l=A.fromArray(S[n]),"east"!==n&&"west"!==n&&l.scale(t)}else{const{up:i,east:s,north:o}=I;s.set(-f.y,f.x,0).normalize(),t.geodeticSurfaceNormal(f,i),o.copy(i).cross(s);const{down:h,west:a,south:d}=I;h.copy(i).scale(-1),a.copy(s).scale(-1),d.copy(o).scale(-1),u=I[e],c=I[r],l=I[n]}return o[0]=u.x,o[1]=u.y,o[2]=u.z,o[3]=0,o[4]=c.x,o[5]=c.y,o[6]=c.z,o[7]=0,o[8]=l.x,o[9]=l.y,o[10]=l.z,o[11]=0,o[12]=f.x,o[13]=f.y,o[14]=f.z,o[15]=1,o}const k=new n.Z,L=new n.Z,P=new n.Z,R=new n.Z,z=new n.Z,C=new n.Z;let q;class F{static get WGS84(){return q=q||new F(d,m,x),q}constructor(t=0,e=0,r=0){(0,i.Z)(t>=0),(0,i.Z)(e>=0),(0,i.Z)(r>=0),this.radii=new n.Z(t,e,r),this.radiiSquared=new n.Z(t*t,e*e,r*r),this.radiiToTheFourth=new n.Z(t*t*t*t,e*e*e*e,r*r*r*r),this.oneOverRadii=new n.Z(0===t?0:1/t,0===e?0:1/e,0===r?0:1/r),this.oneOverRadiiSquared=new n.Z(0===t?0:1/(t*t),0===e?0:1/(e*e),0===r?0:1/(r*r)),this.minimumRadius=Math.min(t,e,r),this.maximumRadius=Math.max(t,e,r),this.centerToleranceSquared=s.Z.EPSILON1,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(t){return this===t||Boolean(t&&this.radii.equals(t.radii))}toString(){return this.radii.toString()}cartographicToCartesian(t,e=[0,0,0]){const r=L,n=P,[,,i]=t;this.geodeticSurfaceNormalCartographic(t,r),n.copy(this.radiiSquared).scale(r);const s=Math.sqrt(r.dot(n));return n.scale(1/s),r.scale(i),n.add(r),n.to(e)}cartesianToCartographic(t,e=[0,0,0]){C.from(t);const r=this.scaleToGeodeticSurface(C,R);if(!r)return;const n=this.geodeticSurfaceNormal(r,L),i=z;i.copy(C).subtract(r);const s=Math.atan2(n.y,n.x),o=Math.asin(n.z),a=Math.sign(c(i,C))*u(i);return g([s,o,a],e,h.vc._cartographicRadians?p:h.Ux)}eastNorthUpToFixedFrame(t,e=new o.Z){return T(this,"east","north","up",t,e)}localFrameToFixedFrame(t,e,r,n,i=new o.Z){return T(this,t,e,r,n,i)}geocentricSurfaceNormal(t,e=[0,0,0]){return k.from(t).normalize().to(e)}geodeticSurfaceNormalCartographic(t,e=[0,0,0]){const r=function(t,e=y){return M(t,e,h.vc._cartographicRadians?p:h.Yr)}(t),n=r[0],i=r[1],s=Math.cos(i);return k.set(s*Math.cos(n),s*Math.sin(n),Math.sin(i)).normalize(),k.to(e)}geodeticSurfaceNormal(t,e=[0,0,0]){return k.from(t).scale(this.oneOverRadiiSquared).normalize().to(e)}scaleToGeodeticSurface(t,e){return function(t,e,r=new n.Z){const{oneOverRadii:i,oneOverRadiiSquared:o,centerToleranceSquared:h}=e;E.from(t);const a=t.x,u=t.y,c=t.z,l=i.x,f=i.y,d=i.z,m=a*a*l*l,x=u*u*f*f,p=c*c*d*d,y=m+x+p,M=Math.sqrt(1/y);if(!Number.isFinite(M))return;const g=w;if(g.copy(t).scale(M),y<h)return g.to(r);const Z=o.x,b=o.y,S=o.z,I=v;I.set(g.x*Z*2,g.y*b*2,g.z*S*2);let N,O,A,T,k=(1-M)*t.len()/(.5*I.len()),L=0;do{k-=L,N=1/(1+k*Z),O=1/(1+k*b),A=1/(1+k*S);const t=N*N,e=O*O,r=A*A;T=m*t+x*e+p*r-1,L=T/(-2*(m*(t*N)*Z+x*(e*O)*b+p*(r*A)*S))}while(Math.abs(T)>s.Z.EPSILON12);return E.scale([N,O,A]).to(r)}(t,this,e)}scaleToGeocentricSurface(t,e=[0,0,0]){R.from(t);const r=R.x,n=R.y,i=R.z,s=this.oneOverRadiiSquared,o=1/Math.sqrt(r*r*s.x+n*n*s.y+i*i*s.z);return R.multiplyScalar(o).to(e)}transformPositionToScaledSpace(t,e=[0,0,0]){return R.from(t).scale(this.oneOverRadii).to(e)}transformPositionFromScaledSpace(t,e=[0,0,0]){return R.from(t).scale(this.radii).to(e)}getSurfaceNormalIntersectionWithZAxis(t,e=0,r=[0,0,0]){(0,i.Z)((0,h.fS)(this.radii.x,this.radii.y,s.Z.EPSILON15)),(0,i.Z)(this.radii.z>0),R.from(t);const n=R.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(n)>=this.radii.z-e))return R.set(0,0,n).to(r)}}},5215:(t,e,r)=>{r.d(e,{wG:()=>n,WZ:()=>F,GU:()=>_,dj:()=>C,ct:()=>U,OT:()=>o,ap:()=>s,Ny:()=>i});const n={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function i(t,e,r={}){const n=function(t,e={}){return Math.sign(s(t,e))}(t,r);return n!==e&&(function(t,e){const{start:r=0,end:n=t.length,size:i=2}=e,s=(n-r)/i,o=Math.floor(s/2);for(let e=0;e<o;++e){const n=r+e*i,o=r+(s-1-e)*i;for(let e=0;e<i;++e){const r=t[n+e];t[n+e]=t[o+e],t[o+e]=r}}}(t,r),!0)}function s(t,e={}){const{start:r=0,end:n=t.length}=e,i=e.size||2;let s=0;for(let e=r,o=n-i;e<n;e+=i)s+=(t[e]-t[o])*(t[e+1]+t[o+1]),o=e;return s/2}function o(t,e,r,n){r=r||2;const i=e&&e.length,s=i?e[0]*r:t.length;let o=h(t,0,s,r,!0,n&&n[0]);const c=[];if(!o||o.next===o.prev)return c;let l,f,d,p,y,g,E;if(i&&(o=function(t,e,r,n,i){const s=[];let o,u,c,l,f;for(o=0,u=e.length;o<u;o++)c=e[o]*n,l=o<u-1?e[o+1]*n:t.length,f=h(t,c,l,n,!1,i&&i[o+1]),f===f.next&&(f.steiner=!0),s.push(M(f));for(s.sort(m),o=0;o<s.length;o++)x(s[o],r),r=a(r,r.next);return r}(t,e,o,r,n)),t.length>80*r){p=f=t[0],y=d=t[1];for(let e=r;e<s;e+=r)g=t[e],E=t[e+1],g<p&&(p=g),E<y&&(y=E),g>f&&(f=g),E>d&&(d=E);l=Math.max(f-p,d-y),l=0!==l?1/l:0}return u(o,c,r,p,y,l),c}function h(t,e,r,n,i,o){let h,a;if(void 0===o&&(o=s(t,{start:e,end:r,size:n})),i===o<0)for(h=e;h<r;h+=n)a=O(h,t[h],t[h+1],a);else for(h=r-n;h>=e;h-=n)a=O(h,t[h],t[h+1],a);return a&&v(a,a.next)&&(A(a),a=a.next),a}function a(t,e){if(!t)return t;e||(e=t);let r,n=t;do{if(r=!1,n.steiner||!v(n,n.next)&&0!==w(n.prev,n,n.next))n=n.next;else{if(A(n),n=e=n.prev,n===n.next)break;r=!0}}while(r||n!==e);return e}function u(t,e,r,n,i,s,o){if(!t)return;!o&&s&&function(t,e,r,n){let i=t;do{null===i.z&&(i.z=y(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){let e,r,n,i,s,o,h,a,u=1;do{for(i=t,t=null,a=null,n=0;i;){for(n++,o=i,s=0,r=0;r<u&&(s++,o=o.nextZ,o);r++);for(h=u;s>0||h>0&&o;)0!==s&&(0===h||!o||i.z<=o.z)?(e=i,i=i.nextZ,s--):(e=o,o=o.nextZ,h--),a?a.nextZ=e:t=e,e.prevZ=a,a=e;i=o}a.nextZ=null,u*=2}while(n>1)}(i)}(t,n,i,s);let h,m,x=t;for(;t.prev!==t.next;)if(h=t.prev,m=t.next,s?l(t,n,i,s):c(t))e.push(h.i/r),e.push(t.i/r),e.push(m.i/r),A(t),t=m.next,x=m.next;else if((t=m)===x){o?1===o?u(t=f(a(t),e,r),e,r,n,i,s,2):2===o&&d(t,e,r,n,i,s):u(a(t),e,r,n,i,s,1);break}}function c(t){const e=t.prev,r=t,n=t.next;if(w(e,r,n)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(g(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&w(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(t,e,r,n){const i=t.prev,s=t,o=t.next;if(w(i,s,o)>=0)return!1;const h=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,a=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,c=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,l=y(h,a,e,r,n),f=y(u,c,e,r,n);let d=t.prevZ,m=t.nextZ;for(;d&&d.z>=l&&m&&m.z<=f;){if(d!==t.prev&&d!==t.next&&g(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,m!==t.prev&&m!==t.next&&g(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;d&&d.z>=l;){if(d!==t.prev&&d!==t.next&&g(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;m&&m.z<=f;){if(m!==t.prev&&m!==t.next&&g(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function f(t,e,r){let n=t;do{const i=n.prev,s=n.next.next;!v(i,s)&&Z(i,n,n.next,s)&&I(i,s)&&I(s,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(s.i/r),A(n),A(n.next),n=t=s),n=n.next}while(n!==t);return a(n)}function d(t,e,r,n,i,s){let o=t;do{let t=o.next.next;for(;t!==o.prev;){if(o.i!==t.i&&E(o,t)){let h=N(o,t);return o=a(o,o.next),h=a(h,h.next),u(o,e,r,n,i,s),void u(h,e,r,n,i,s)}t=t.next}o=o.next}while(o!==t)}function m(t,e){return t.x-e.x}function x(t,e){if(e=function(t,e){let r=e;const n=t.x,i=t.y;let s,o=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){const t=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(t<=n&&t>o){if(o=t,t===n){if(i===r.y)return r;if(i===r.next.y)return r.next}s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!s)return null;if(n===o)return s;const h=s,a=s.x,u=s.y;let c,l=1/0;r=s;do{n>=r.x&&r.x>=a&&n!==r.x&&g(i<u?n:o,i,a,u,i<u?o:n,i,r.x,r.y)&&(c=Math.abs(i-r.y)/(n-r.x),I(r,t)&&(c<l||c===l&&(r.x>s.x||r.x===s.x&&p(s,r)))&&(s=r,l=c)),r=r.next}while(r!==h);return s}(t,e),e){const r=N(e,t);a(e,e.next),a(r,r.next)}}function p(t,e){return w(t.prev,t,e.prev)<0&&w(e.next,t,t.next)<0}function y(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function M(t){let e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function g(t,e,r,n,i,s,o,h){return(i-o)*(e-h)-(t-o)*(s-h)>=0&&(t-o)*(n-h)-(r-o)*(e-h)>=0&&(r-o)*(s-h)-(i-o)*(n-h)>=0}function E(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Z(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(I(t,e)&&I(e,t)&&function(t,e){let r=t,n=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(w(t.prev,t,e.prev)||w(t,e.prev,e))||v(t,e)&&w(t.prev,t,t.next)>0&&w(e.prev,e,e.next)>0)}function w(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function Z(t,e,r,n){const i=S(w(t,e,r)),s=S(w(t,e,n)),o=S(w(r,n,t)),h=S(w(r,n,e));return i!==s&&o!==h||(!(0!==i||!b(t,r,e))||(!(0!==s||!b(t,n,e))||(!(0!==o||!b(r,t,n))||!(0!==h||!b(r,e,n)))))}function b(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function S(t){return t>0?1:t<0?-1:0}function I(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function N(t,e){const r=new T(t.i,t.x,t.y),n=new T(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function O(t,e,r,n){const i=new T(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function T(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k(t,e,r,n,i=[]){let s,o;if(8&r)s=(n[3]-t[1])/(e[1]-t[1]),o=3;else if(4&r)s=(n[1]-t[1])/(e[1]-t[1]),o=1;else if(2&r)s=(n[2]-t[0])/(e[0]-t[0]),o=2;else{if(!(1&r))return null;s=(n[0]-t[0])/(e[0]-t[0]),o=0}for(let r=0;r<t.length;r++)i[r]=(1&o)===r?n[o]:s*(e[r]-t[r])+t[r];return i}function L(t,e){let r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}function P(t,e){const r=e.length,n=t.length;if(n>0){let i=!0;for(let s=0;s<r;s++)if(t[n-r+s]!==e[s]){i=!1;break}if(i)return!1}for(let i=0;i<r;i++)t[n+i]=e[i];return!0}function R(t,e){const r=e.length;for(let n=0;n<r;n++)t[n]=e[n]}function z(t,e,r,n,i=[]){const s=n+e*r;for(let e=0;e<r;e++)i[e]=t[s+e];return i}function C(t,e={}){const{size:r=2,broken:n=!1,gridResolution:i=10,gridOffset:s=[0,0],startIndex:o=0,endIndex:h=t.length}=e,a=(h-o)/r;let u=[];const c=[u],l=z(t,0,r,o);let f,d;const m=D(l,i,s,[]),x=[];P(u,l);for(let e=1;e<a;e++){for(f=z(t,e,r,o,f),d=L(f,m);d;){k(l,f,d,m,x);const t=L(x,m);t&&(k(l,x,t,m,x),d=t),P(u,x),R(l,x),j(m,i,d),n&&u.length>r&&(u=[],c.push(u),P(u,l)),d=L(f,m)}P(u,f),R(l,f)}return n?c:c[0]}function q(t,e){for(let r=0;r<e.length;r++)t.push(e[r]);return t}function F(t,e,r={}){if(!t.length)return[];const{size:n=2,gridResolution:i=10,gridOffset:s=[0,0],edgeTypes:o=!1}=r,h=[],a=[{pos:t,types:o&&new Array(t.length/n).fill(1),holes:e||[]}],u=[[],[]];let c=[];for(;a.length;){const{pos:t,types:e,holes:r}=a.shift();V(t,n,r[0]||t.length,u),c=D(u[0],i,s,c);const l=L(u[1],c);if(l){let i=W(t,e,n,0,r[0]||t.length,c,l);const s={pos:i[0].pos,types:i[0].types,holes:[]},h={pos:i[1].pos,types:i[1].types,holes:[]};a.push(s,h);for(let a=0;a<r.length;a++)i=W(t,e,n,r[a],r[a+1]||t.length,c,l),i[0]&&(s.holes.push(s.pos.length),s.pos=q(s.pos,i[0].pos),o&&(s.types=q(s.types,i[0].types))),i[1]&&(h.holes.push(h.pos.length),h.pos=q(h.pos,i[1].pos),o&&(h.types=q(h.types,i[1].types)))}else{const n={positions:t};o&&(n.edgeTypes=e),r.length&&(n.holeIndices=r),h.push(n)}}return h}function W(t,e,r,n,i,s,o){const h=(i-n)/r,a=[],u=[],c=[],l=[],f=[];let d,m,x;const p=z(t,h-1,r,n);let y=Math.sign(8&o?p[1]-s[3]:p[0]-s[2]),M=e&&e[h-1],g=0,E=0;for(let i=0;i<h;i++)d=z(t,i,r,n,d),m=Math.sign(8&o?d[1]-s[3]:d[0]-s[2]),x=e&&e[n/r+i],m&&y&&y!==m&&(k(p,d,o,s,f),P(a,f)&&c.push(M),P(u,f)&&l.push(M)),m<=0?(P(a,d)&&c.push(x),g-=m):c.length&&(c[c.length-1]=0),m>=0?(P(u,d)&&l.push(x),E+=m):l.length&&(l[l.length-1]=0),R(p,d),y=m,M=x;return[g?{pos:a,types:e&&c}:null,E?{pos:u,types:e&&l}:null]}function D(t,e,r,n){const i=Math.floor((t[0]-r[0])/e)*e+r[0],s=Math.floor((t[1]-r[1])/e)*e+r[1];return n[0]=i,n[1]=s,n[2]=i+e,n[3]=s+e,n}function j(t,e,r){8&r?(t[1]+=e,t[3]+=e):4&r?(t[1]-=e,t[3]-=e):2&r?(t[0]+=e,t[2]+=e):1&r&&(t[0]-=e,t[2]-=e)}function V(t,e,r,n){let i=1/0,s=-1/0,o=1/0,h=-1/0;for(let n=0;n<r;n+=e){const e=t[n],r=t[n+1];i=e<i?e:i,s=e>s?e:s,o=r<o?r:o,h=r>h?r:h}return n[0][0]=i,n[0][1]=o,n[1][0]=s,n[1][1]=h,n}function U(t,e={}){const{size:r=2,startIndex:n=0,endIndex:i=t.length,normalize:s=!0}=e,o=t.slice(n,i);G(o,r,0,i-n);const h=C(o,{size:r,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(s)for(const t of h)X(t,r);return h}function _(t,e,r={}){const{size:n=2,normalize:i=!0,edgeTypes:s=!1}=r;e=e||[];const o=[],h=[];let a=0,u=0;for(let i=0;i<=e.length;i++){const s=e[i]||t.length,c=u,l=K(t,n,a,s);for(let e=l;e<s;e++)o[u++]=t[e];for(let e=a;e<l;e++)o[u++]=t[e];G(o,n,c,u),B(o,n,c,u,r.maxLatitude),a=s,h[i]=u}h.pop();const c=F(o,h,{size:n,gridResolution:360,gridOffset:[-180,-180],edgeTypes:s});if(i)for(const t of c)X(t.positions,n);return c}function K(t,e,r,n){let i=-1,s=-1;for(let o=r+1;o<n;o+=e){const e=Math.abs(t[o]);e>i&&(i=e,s=o-1)}return s}function B(t,e,r,n,i=85.051129){const s=t[r],o=t[n-e];if(Math.abs(s-o)>180){const n=z(t,0,e,r);n[0]+=360*Math.round((o-s)/360),P(t,n),n[1]=Math.sign(n[1])*i,P(t,n),n[0]=s,P(t,n)}}function G(t,e,r,n){let i,s=t[0];for(let o=r;o<n;o+=e){i=t[o];const e=i-s;(e>180||e<-180)&&(i-=360*Math.round(e/360)),t[o]=s=i}}function X(t,e){let r;const n=t.length/e;for(let i=0;i<n&&(r=t[i*e],(r+180)%360==0);i++);const i=360*-Math.round(r/360);if(0!==i)for(let r=0;r<n;r++)t[r*e]+=i}},7682:(t,e,r)=>{r.d(e,{eG:()=>b,Lu:()=>N,Xg:()=>k,sj:()=>O,zX:()=>P,ro:()=>Z,Bf:()=>v,wl:()=>I,lf:()=>S,w5:()=>E,QA:()=>z,CT:()=>T,es:()=>w,aW:()=>A});var n="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var i,s;i=new n(4),n!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0,i[3]=0),s=i;function o(t,e){const r=function(t,e,r){var n=e[0],i=e[1],s=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*o,t}([],e,t);return function(t,e,r){t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r}(r,r,1/r[3]),r}function h(t,e){const r=t%e;return r<0?e+r:r}function a(t,e,r){return t<e?e:t>r?r:t}const u=Math.log2||function(t){return Math.log(t)*Math.LOG2E};function c(t,e,r){var n,i,s,o,h,a,u,c,l,f,d,m,x=r[0],p=r[1],y=r[2];return e===t?(t[12]=e[0]*x+e[4]*p+e[8]*y+e[12],t[13]=e[1]*x+e[5]*p+e[9]*y+e[13],t[14]=e[2]*x+e[6]*p+e[10]*y+e[14],t[15]=e[3]*x+e[7]*p+e[11]*y+e[15]):(n=e[0],i=e[1],s=e[2],o=e[3],h=e[4],a=e[5],u=e[6],c=e[7],l=e[8],f=e[9],d=e[10],m=e[11],t[0]=n,t[1]=i,t[2]=s,t[3]=o,t[4]=h,t[5]=a,t[6]=u,t[7]=c,t[8]=l,t[9]=f,t[10]=d,t[11]=m,t[12]=n*x+h*p+l*y+e[12],t[13]=i*x+a*p+f*y+e[13],t[14]=s*x+u*p+d*y+e[14],t[15]=o*x+c*p+m*y+e[15]),t}function l(t,e,r,n){var i=e[0],s=e[1];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t}!function(){var t=function(){var t=new n(2);return n!=Float32Array&&(t[0]=0,t[1]=0),t}()}();!function(){var t=function(){var t=new n(3);return n!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();function f(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const d=Math.PI,m=d/4,x=d/180,p=180/d,y=512,M=4003e4,g=85.051129;function E([t,e]){f(Number.isFinite(t)),f(Number.isFinite(e)&&e>=-90&&e<=90,"invalid latitude");const r=e*x;return[y*(t*x+d)/(2*d),y*(d+Math.log(Math.tan(m+.5*r)))/(2*d)]}function w([t,e]){const r=t/y*(2*d)-d,n=2*(Math.atan(Math.exp(e/y*(2*d)-d))-m);return[r*p,n*p]}function v({latitude:t}){f(Number.isFinite(t));const e=Math.cos(t*x);return function(t){return u(t)}(M*e)-9}function Z({latitude:t,longitude:e,highPrecision:r=!1}){f(Number.isFinite(t)&&Number.isFinite(e));const n={},i=Math.cos(t*x),s=512/360,o=s/i,h=12790407194604047e-21/i;if(n.unitsPerMeter=[h,h,h],n.metersPerUnit=[1/h,1/h,1/h],n.unitsPerDegree=[s,o,h],n.degreesPerUnit=[.703125,1/o,1/h],r){const e=x*Math.tan(t*x)/i,r=s*e/2,a=12790407194604047e-21*e,u=a/o*h;n.unitsPerDegree2=[0,r,a],n.unitsPerMeter2=[u,0,u]}return n}function b(t,e){const[r,n,i]=t,[s,o,h]=e,{unitsPerMeter:a,unitsPerMeter2:u}=Z({longitude:r,latitude:n,highPrecision:!0}),c=E(t);c[0]+=s*(a[0]+u[0]*o),c[1]+=o*(a[1]+u[1]*o);const l=w(c),f=(i||0)+(h||0);return Number.isFinite(i)||Number.isFinite(h)?[l[0],l[1],f]:l}function S({height:t,pitch:e,bearing:r,altitude:n,scale:i,center:s=null}){const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return c(o,o,[0,0,-n]),function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[4],o=e[5],h=e[6],a=e[7],u=e[8],c=e[9],l=e[10],f=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+u*n,t[5]=o*i+c*n,t[6]=h*i+l*n,t[7]=a*i+f*n,t[8]=u*i-s*n,t[9]=c*i-o*n,t[10]=l*i-h*n,t[11]=f*i-a*n}(o,o,-e*x),function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],o=e[1],h=e[2],a=e[3],u=e[4],c=e[5],l=e[6],f=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+u*n,t[1]=o*i+c*n,t[2]=h*i+l*n,t[3]=a*i+f*n,t[4]=u*i-s*n,t[5]=c*i-o*n,t[6]=l*i-h*n,t[7]=f*i-a*n}(o,o,r*x),function(t,e,r){var n=r[0],i=r[1],s=r[2];t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(o,o,[i/=t,i,i]),s&&c(o,o,function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}([],s)),o}function I({width:t,height:e,fovy:r=N(1.5),altitude:n,pitch:i=0,nearZMultiplier:s=1,farZMultiplier:o=1}){void 0!==n&&(r=N(n));const h=.5*r*x,a=O(r),u=i*x,c=Math.sin(h)*a/Math.sin(Math.min(Math.max(Math.PI/2-u-h,.01),Math.PI-.01));return{fov:2*h,aspect:t/e,focalDistance:a,near:s,far:(Math.sin(u)*c+a)*o}}function N(t){return 2*Math.atan(.5/t)*p}function O(t){return.5/Math.tan(.5*t*x)}function A(t,e){const[r,n,i=0]=t;return f(Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(i)),o(e,[r,n,i,1])}function T(t,e,r=0){const[n,i,s]=t;if(f(Number.isFinite(n)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(s)){return o(e,[n,i,s,1])}const h=o(e,[n,i,0,1]),a=o(e,[n,i,1,1]),u=h[2],c=a[2];return l([],h,a,u===c?0:((r||0)-u)/(c-u))}function k({width:t,height:e,bounds:r,minExtent:n=0,maxZoom:i=24,padding:s=0,offset:o=[0,0]}){const[[h,c],[l,d]]=r;if(Number.isFinite(s)){s={top:s,bottom:s,left:s,right:s}}else f(Number.isFinite(s.top)&&Number.isFinite(s.bottom)&&Number.isFinite(s.left)&&Number.isFinite(s.right));const m=E([h,a(d,-85.051129,g)]),x=E([l,a(c,-85.051129,g)]),p=[Math.max(Math.abs(x[0]-m[0]),n),Math.max(Math.abs(x[1]-m[1]),n)],y=[t-s.left-s.right-2*Math.abs(o[0]),e-s.top-s.bottom-2*Math.abs(o[1])];f(y[0]>0&&y[1]>0);const M=y[0]/p[0],v=y[1]/p[1],Z=(s.right-s.left)/2/M,b=(s.bottom-s.top)/2/v,S=w([(x[0]+m[0])/2+Z,(x[1]+m[1])/2+b]),I=Math.min(i,u(Math.abs(Math.min(M,v))));return f(Number.isFinite(I)),{longitude:S[0],latitude:S[1],zoom:I}}const L=Math.PI/180;function P(t,e=0){const{width:r,height:n,unproject:i}=t,s={targetZ:e},o=i([0,n],s),h=i([r,n],s);let a,u;return(t.fovy?.5*t.fovy*L:Math.atan(.5/t.altitude))>(90-t.pitch)*L-.01?(a=R(t,0,e),u=R(t,r,e)):(a=i([0,0],s),u=i([r,0],s)),[o,h,u,a]}function R(t,e,r){const{pixelUnprojectionMatrix:n}=t,i=o(n,[e,0,1,1]),s=o(n,[e,t.height,1,1]),h=w(l([],i,s,(r*t.distanceScales.unitsPerMeter[2]-i[2])/(s[2]-i[2])));return h[2]=r,h}function z({width:t,height:e,longitude:r,latitude:n,zoom:i,pitch:s=0,bearing:o=0}){(r<-180||r>180)&&(r=h(r+180,360)-180),(o<-180||o>180)&&(o=h(o+180,360)-180);const a=u(e/512);if(i<=a)i=a,n=0;else{const t=e/2/Math.pow(2,i),r=w([0,t])[1];if(n<r)n=r;else{const e=w([0,512-t])[1];n>e&&(n=e)}}return{width:t,height:e,longitude:r,latitude:n,zoom:i,pitch:s,bearing:o}}}}]);