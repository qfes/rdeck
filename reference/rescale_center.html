<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Rescale center — rescale_center • rdeck</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rescale center — rescale_center"><meta name="description" content="Re-centres a scale to have a defined centre / midpoint. This is the rdeck equivalent of
scales::rescale_mid().
centring an rdeck scale creates a new scale with the output palette or range centred at center.
This is similar to creating a diverging scale; the key difference is that the output palette or range
remains linear (with respect to the breaks) and is truncated on the side that is closest to center.
This is useful in creating difference layers, where the output palette or range represents distance
from the centre."><meta property="og:description" content="Re-centres a scale to have a defined centre / midpoint. This is the rdeck equivalent of
scales::rescale_mid().
centring an rdeck scale creates a new scale with the output palette or range centred at center.
This is similar to creating a diverging scale; the key difference is that the output palette or range
remains linear (with respect to the breaks) and is truncated on the side that is closest to center.
This is useful in creating difference layers, where the output palette or range represents distance
from the centre."><meta property="og:image" content="https://qfes.github.io/rdeck/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rdeck</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rdeck.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/qfes/rdeck/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Rescale center</h1>
      <small class="dont-index">Source: <a href="https://github.com/qfes/rdeck/blob/master/R/rescale.R" class="external-link"><code>R/rescale.R</code></a></small>
      <div class="d-none name"><code>rescale_center.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Re-centres a scale to have a defined centre / midpoint. This is the rdeck equivalent of
<code><a href="https://scales.r-lib.org/reference/rescale_mid.html" class="external-link">scales::rescale_mid()</a></code>.</p>
<p>centring an rdeck scale creates a new scale with the output palette or range centred at <code>center</code>.
This is similar to creating a diverging scale; the key difference is that the output palette or range
remains linear (with respect to the breaks) and is truncated on the side that is closest to <code>center</code>.
This is useful in creating <em>difference</em> layers, where the output palette or range represents distance
from the centre.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rescale_center</span><span class="op">(</span><span class="va">scale</span>, center <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>&lt;<code>scale</code>&gt; a scale object</p></dd>


<dt id="arg-center">center<a class="anchor" aria-label="anchor" href="#arg-center"></a></dt>
<dd><p>&lt;<code>number</code>&gt; the center of the scale input</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Category and identity scales aren't supported.</p>
    </div>
    <div class="section level2">
    <h2 id="centring-vs-diverging">Centring vs Diverging<a class="anchor" aria-label="anchor" href="#centring-vs-diverging"></a></h2>
    <p>The plot below shows how <code>rescale_center()</code> and <code><a href="rescale_diverge.html">rescale_diverge()</a></code> distort the scale output. The input
scale in this case is <code>power_scale(limits = -36:4)</code>; this scale is centred and diverged at 0.</p>
<p>The plot on the left shows the mapping between the input <code>-36:4</code> (x axis) and output <code>0:1</code> (y axis). The
plot on the right is a linear representation of the left and is the space that rdeck works in. The input
<code>-36:4</code> transformed with <code><a href="power_trans.html">power_trans()</a></code> and rescaled to <code>0:1</code>. This plot has been included because it's
(hopefully) easier to understand.</p>
<p>In the unaltered scale, we see that 0 is mapped to 0.75 in the output, which would be the colour at 0.75
on a colour ramp (e.g. <code>scales::colour_ramp(viridis::viridis(256))(0.75)</code>).</p>
<p>When applying <code>rescale_center()</code> we see that gradient of function has become y = 2/3x in the linear
scale, which is <code>2/3 * scales::rescale(trans$transform(x))</code> for our data. For <code><a href="rescale_diverge.html">rescale_diverge()</a></code>
we see a piecewise scale with the break at <code>center</code>; both sides of <code>center</code> have a different gradient
(y = 2/3x and y = 2x - 1) and the full range  of y is used.</p>
<p>The colour ramp plot shows the effect rescaling has on a colour palette (in this case viridis).</p>
<p><img src="figures/rescale.png" alt=""></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other scales:
<code><a href="rescale_diverge.html">rescale_diverge</a>()</code>,
<code><a href="scale_category.html">scale_category</a>()</code>,
<code><a href="scale_identity.html">scale_identity</a>()</code>,
<code><a href="scale_linear.html">scale_linear</a>()</code>,
<code><a href="scale_log.html">scale_log</a>()</code>,
<code><a href="scale_power.html">scale_power</a>()</code>,
<code><a href="scale_quantile.html">scale_quantile</a>()</code>,
<code><a href="scale_quantize.html">scale_quantize</a>()</code>,
<code><a href="scale_symlog.html">scale_symlog</a>()</code>,
<code><a href="scale_threshold.html">scale_threshold</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create a sqrt scale that is centered at 0</span></span></span>
<span class="r-in"><span><span class="va">sqrt_centered</span> <span class="op">&lt;-</span> <span class="fu">rescale_center</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="scale_power.html">scale_color_power</a></span><span class="op">(</span><span class="va">col</span>, limits <span class="op">=</span> <span class="op">-</span><span class="fl">36</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  center <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a discrete symlog scale that is centered at 5</span></span></span>
<span class="r-in"><span><span class="va">symlog_centered</span> <span class="op">&lt;-</span> <span class="fu">rescale_center</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="scale_threshold.html">scale_color_threshold</a></span><span class="op">(</span><span class="va">col</span>, limits <span class="op">=</span> <span class="op">-</span><span class="fl">100</span><span class="op">:</span><span class="fl">100</span>, breaks <span class="op">=</span> <span class="fu"><a href="breaks_symlog.html">breaks_symlog</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  center <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anthony North.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

