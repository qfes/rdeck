<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Creates an rdeck() interface for asynchronous updates of a pre-rendered rdeck map
in Shiny apps.
All rdeck props can be updated through the proxy (NULL values will be discarded),
layers that are added to the proxy (e.g. rdeck_proxy %&amp;gt;% add_h3_hexagon_layer())
will be merged with pre-rendered rdeck layers.
Layers are merged by their id. Matched layers will be updated in place, new layers
will be appended and hence drawn on top of all existing layers. For layer updates, you
may omit the data prop to avoid re-serialising unchanged data. All other props will
assume their defaults if omitted."><title>RDeck proxy — rdeck_proxy • rdeck</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="RDeck proxy — rdeck_proxy"><meta property="og:description" content="Creates an rdeck() interface for asynchronous updates of a pre-rendered rdeck map
in Shiny apps.
All rdeck props can be updated through the proxy (NULL values will be discarded),
layers that are added to the proxy (e.g. rdeck_proxy %&amp;gt;% add_h3_hexagon_layer())
will be merged with pre-rendered rdeck layers.
Layers are merged by their id. Matched layers will be updated in place, new layers
will be appended and hence drawn on top of all existing layers. For layer updates, you
may omit the data prop to avoid re-serialising unchanged data. All other props will
assume their defaults if omitted."><meta property="og:image" content="https://qfes.github.io/rdeck/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rdeck</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/rdeck.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/qfes/rdeck/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>RDeck proxy</h1>
      <small class="dont-index">Source: <a href="https://github.com/qfes/rdeck/blob/HEAD/R/shiny.R" class="external-link"><code>R/shiny.R</code></a></small>
      <div class="d-none name"><code>rdeck_proxy.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates an <code><a href="rdeck.html">rdeck()</a></code> interface for asynchronous updates of a pre-rendered rdeck map
in Shiny apps.</p>
<p>All rdeck props can be updated through the proxy (<code>NULL</code> values will be discarded),
layers that are added to the proxy (e.g. <code>rdeck_proxy %&gt;% add_h3_hexagon_layer()</code>)
will be merged with pre-rendered rdeck layers.</p>
<p>Layers are merged by their <code>id</code>. Matched layers will be updated in place, new layers
will be appended and hence drawn <em>on top</em> of all existing layers. For layer updates, you
may omit the <code>data</code> prop to avoid re-serialising unchanged data. All other props will
assume their defaults if omitted.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rdeck_proxy</span><span class="op">(</span></span>
<span>  <span class="va">id</span>,</span>
<span>  session <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/domains.html" class="external-link">getDefaultReactiveDomain</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  map_style <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  theme <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  initial_bounds <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  initial_view_state <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  controller <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  picking_radius <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  use_device_pixels <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  blending_mode <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  layer_selector <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  editor <span class="op">=</span> <span class="fu"><a href="cur_value.html">cur_value</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  lazy_load <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>id</dt>
<dd><p>&lt;<code>string</code>&gt; The map id</p></dd>


<dt>session</dt>
<dd><p>&lt;<code>ShinySession</code>&gt; The shiny session</p></dd>


<dt>map_style</dt>
<dd><p>&lt;<code>string</code>&gt; The mapbox basemap style url.
See <a href="https://docs.mapbox.com/api/maps/#mapbox-styles" class="external-link">https://docs.mapbox.com/api/maps/#mapbox-styles</a></p></dd>


<dt>theme</dt>
<dd><p>&lt;<code>"kepler"</code> | <code>"light"</code>&gt; The widget theme which alters the style of the
legend and tooltips.</p></dd>


<dt>initial_bounds</dt>
<dd><p>&lt;<code><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></code> | <code><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">sf</a></code> | <code><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">sfc</a></code>&gt;
The initial bounds of the map; overwrites <code>initial_view_state</code>.</p></dd>


<dt>initial_view_state</dt>
<dd><p>&lt;<code><a href="view_state.html">view_state</a></code>&gt; Defines the map position, zoom, bearing and pitch.</p></dd>


<dt>controller</dt>
<dd><p>&lt;<code>logical</code>&gt; If <code>NULL</code> or <code>FALSE</code>, the map is not interactive.</p></dd>


<dt>picking_radius</dt>
<dd><p>&lt;<code>number</code>&gt; Extra pixels around the pointer to include while picking;
useful when rendering objects that are difficult to hover, e.g. thin lines, small points, etc.</p></dd>


<dt>use_device_pixels</dt>
<dd><p>&lt;<code>logical</code> | <code>number</code>&gt; Controls the resolution of drawing buffer used
for rendering.</p><ul><li><p><code>TRUE</code>: Resolution is defined by <code>window.devicePixelRatio</code>. On Retina/HD displays, this
resolution is usually twice as big as <code>CSS pixels</code> resolution.</p></li>
<li><p><code>FALSE</code>: <code>CSS pixels</code> resolution is used for rendering.</p></li>
<li><p><code>number</code>: Custom ratio (drawing buffer resolution to <code>CSS pixel</code>) to determine drawing
buffer size. A value less than <code>1</code> uses resolution smaller than <code>CSS pixels</code>, improving
rendering performance at the expense of image quality; a value greater than <code>1</code> improves
image quality at the expense of rendering performance.</p></li>
</ul></dd>


<dt>blending_mode</dt>
<dd><p>&lt;<code>"normal"</code> | <code>"additive"</code> | <code>"subtractive"</code>&gt; Sets the blending mode.
Blending modes:</p><ul><li><p><code>normal</code>: Normal blending doesn't alter colours of overlapping objects.</p></li>
<li><p><code>additive</code>: Additive blending adds colours of overlapping objects. Useful for highlighting
dot density on dark maps.</p></li>
<li><p><code>subtractive</code>: Subtractive blending darkens overlapping objects. Useful for highlighting
dot density on light maps.</p></li>
</ul></dd>


<dt>layer_selector</dt>
<dd><p>&lt;<code>boolean</code>&gt; If <code>TRUE</code>, the layer selector control will be enabled
and layers with <code>visibility_toggle = TRUE</code> may be toggled. If <code>FALSE</code>, the layer selector control
won't be rendered.</p></dd>


<dt>editor</dt>
<dd><p>&lt;<code>boolean</code>|<code><a href="editor_options.html">editor_options</a></code>&gt; Whether to render the polygon editor.
If <code>TRUE</code>, renders with the default <code><a href="editor_options.html">editor_options()</a></code>. If <code>FALSE</code>, the polygon editor
is not rendered.</p></dd>


<dt>lazy_load</dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>. Maps are always eagerly rendered.</p></dd>


<dt>...</dt>
<dd><p>Additional parameters that will be forwarded to deck.gl javascript without
validation nor processing. All dots must be named and will be <code>camelCased</code> when serialised.
A warning is raised when dots are used, warning class <code>rdeck_dots_nonempty</code>.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://obrl-soil.github.io/h3jsr/" class="external-link">h3jsr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sjmgarnier.github.io/viridis/" class="external-link">viridis</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/fillPage.html" class="external-link">fillPage</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="rdeck-shiny.html">rdeckOutput</a></span><span class="op">(</span><span class="st">"map"</span>, height <span class="op">=</span> <span class="st">"100%"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/absolutePanel.html" class="external-link">absolutePanel</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    top <span class="op">=</span> <span class="fl">10</span>, left <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/sliderInput.html" class="external-link">sliderInput</a></span><span class="op">(</span><span class="st">"range"</span>, <span class="st">"value"</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, step <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">h3_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  hexagon <span class="op">=</span> <span class="fu">get_res0</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu">get_children</span><span class="op">(</span>res <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">hexagon</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="rdeck.html">rdeck</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="h3_hexagon_layer.html">add_h3_hexagon_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    id <span class="op">=</span> <span class="st">"h3_hexagon"</span>,</span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="st">"hexagons"</span>,</span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">h3_data</span>,</span></span>
<span class="r-in"><span>    get_fill_color <span class="op">=</span> <span class="fu"><a href="scale_quantize.html">scale_color_quantize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      col <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>      palette <span class="op">=</span> <span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html" class="external-link">viridis</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    pickable <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    auto_highlight <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    tooltip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">hexagon</span>, <span class="va">value</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">output</span><span class="op">$</span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu"><a href="rdeck-shiny.html">renderRdeck</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">filtered_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">h3_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">value</span> <span class="op">&gt;=</span> <span class="va">input</span><span class="op">$</span><span class="va">range</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&amp;</span> <span class="va">value</span> <span class="op">&lt;=</span> <span class="va">input</span><span class="op">$</span><span class="va">range</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/observe.html" class="external-link">observe</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu">rdeck_proxy</span><span class="op">(</span><span class="st">"map"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="h3_hexagon_layer.html">add_h3_hexagon_layer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        id <span class="op">=</span> <span class="st">"h3_hexagon"</span>,</span></span>
<span class="r-in"><span>        name <span class="op">=</span> <span class="st">"hexagons"</span>,</span></span>
<span class="r-in"><span>        data <span class="op">=</span> <span class="fu">filtered_data</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        get_fill_color <span class="op">=</span> <span class="fu"><a href="scale_quantize.html">scale_color_quantize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          col <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>          palette <span class="op">=</span> <span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html" class="external-link">cividis</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span>,</span></span>
<span class="r-in"><span>        pickable <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>        auto_highlight <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>        tooltip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">hexagon</span>, <span class="va">value</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Anthony North.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

